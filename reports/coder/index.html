<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíª Coder Agent - Tra√ßabilit√© compl√®te</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        body {
            background: #f5f7fa;
            padding: 30px;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .header h1 {
            font-size: 28px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-back {
            background: white;
            color: #3b82f6;
            padding: 10px 20px;
            border-radius: 10px;
            text-decoration: none;
            font-weight: 500;
            transition: 0.2s;
        }
        
        .btn-back:hover {
            transform: translateX(-5px);
        }
        
        /* Zone de filtres */
        .filters-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .filters-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #1a1e24;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .filter-label {
            font-size: 13px;
            font-weight: 500;
            color: #4b5563;
        }
        
        .filter-select {
            padding: 10px 12px;
            border: 1px solid #e5e7eb;
            border-radius: 10px;
            font-size: 14px;
            background: white;
            cursor: pointer;
        }
        
        .filter-select:focus {
            outline: none;
            border-color: #3b82f6;
        }
        
        .filter-badge {
            background: #3b82f6;
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }
        
        .reset-btn {
            background: #f3f4f6;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 500;
            transition: 0.2s;
            margin-top: 20px;
        }
        
        .reset-btn:hover {
            background: #e5e7eb;
        }
        
        /* Stats grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            cursor: pointer;
            transition: 0.2s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            border-left: 4px solid #3b82f6;
        }
        
        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: #1a1e24;
        }
        
        .stat-label {
            color: #666;
            margin-top: 5px;
        }
        
        /* Tableau des fragments */
        .fragments-table-container {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            overflow-x: auto;
        }
        
        .fragments-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .fragments-table th {
            text-align: left;
            padding: 15px 12px;
            background: #f9fafb;
            color: #4b5563;
            font-weight: 600;
            font-size: 13px;
            border-bottom: 2px solid #e5e7eb;
        }
        
        .fragments-table td {
            padding: 15px 12px;
            border-bottom: 1px solid #e5e7eb;
            vertical-align: top;
        }
        
        .fragments-table tbody tr {
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .fragments-table tbody tr:hover {
            background: #f9fafb;
        }
        
        .fragment-status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .status-success { background: #d1fae5; color: #065f46; }
        .status-failed { background: #fee2e2; color: #991b1b; }
        .status-warning { background: #fed7aa; color: #92400e; }
        
        .sprint-badge {
            background: #e5e7eb;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }
        
        .sprint-active {
            background: #3b82f6;
            color: white;
        }
        
        /* D√©tail du fragment */
        .fragment-detail {
            display: none;
            background: #f9fafb;
            padding: 25px;
            border-radius: 15px;
            margin-top: 15px;
        }
        
        .fragment-detail.active {
            display: block;
        }
        
        .detail-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .synthesis-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            border-left: 4px solid #3b82f6;
            margin-bottom: 20px;
            grid-column: span 2;
        }
        
        .synthesis-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #1a1e24;
        }
        
        .synthesis-text {
            line-height: 1.6;
            color: #4b5563;
            margin-bottom: 15px;
        }
        
        .synthesis-highlight {
            background: #eff6ff;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #3b82f6;
        }
        
        .code-block {
            background: #1a1e24;
            color: #f8fafc;
            padding: 15px;
            border-radius: 10px;
            font-family: 'Fira Code', monospace;
            font-size: 13px;
            overflow-x: auto;
            margin: 15px 0;
        }
        
        .file-list {
            list-style: none;
            padding: 0;
        }
        
        .file-list li {
            padding: 10px 0;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .file-link {
            color: #3b82f6;
            text-decoration: none;
            font-family: monospace;
        }
        
        .file-link:hover {
            text-decoration: underline;
        }
        
        .function-badge {
            background: #e5e7eb;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 11px;
            margin-left: 8px;
        }
        
        .footer {
            margin-top: 30px;
            text-align: center;
            color: #666;
            font-size: 13px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div>
                <h1><span>üíª</span> Coder Agent - Tra√ßabilit√© compl√®te</h1>
                <div style="margin-top: 10px; opacity: 0.9;">
                    Fichiers ‚Ä¢ Classes ‚Ä¢ Fonctions ‚Ä¢ Synth√®se par fragment
                </div>
            </div>
            <a href="../index.html" class="btn-back">‚Üê Portail</a>
        </div>
        
        <!-- Zone de filtres -->
        <div class="filters-section">
            <div class="filters-title">
                <span>üîç</span> Filtres
                <span class="filter-badge" id="result-count">7 r√©sultats</span>
            </div>
            
            <div class="filters-grid">
                <div class="filter-group">
                    <label class="filter-label">Sprint</label>
                    <select class="filter-select" id="filter-sprint">
                        <option value="SPRINT-000" selected>SPRINT-000 (en cours)</option>
                        <option value="SPRINT-001">SPRINT-001</option>
                        <option value="SPRINT-002">SPRINT-002</option>
                        <option value="all">Tous les sprints</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label class="filter-label">Langage</label>
                    <select class="filter-select" id="filter-language">
                        <option value="all">Tous</option>
                        <option value="Solidity">Solidity</option>
                        <option value="Python">Python</option>
                        <option value="TypeScript">TypeScript</option>
                        <option value="SQL">SQL</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label class="filter-label">Statut</label>
                    <select class="filter-select" id="filter-status">
                        <option value="all">Tous</option>
                        <option value="success">‚úÖ Valid√©</option>
                        <option value="failed">‚ùå √âchou√©</option>
                        <option value="warning">‚ö†Ô∏è En cours</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label class="filter-label">Fichier</label>
                    <select class="filter-select" id="filter-file">
                        <option value="all">Tous</option>
                        <option value="Token.sol">Token.sol</option>
                        <option value="Staking.sol">Staking.sol</option>
                        <option value="api.py">api.py</option>
                        <option value="App.tsx">App.tsx</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label class="filter-label">Classe</label>
                    <select class="filter-select" id="filter-class">
                        <option value="all">Toutes</option>
                        <option value="Token">Token</option>
                        <option value="StakingPool">StakingPool</option>
                        <option value="TokenAPI">TokenAPI</option>
                        <option value="App">App</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label class="filter-label">Fonction</label>
                    <select class="filter-select" id="filter-function">
                        <option value="all">Toutes</option>
                        <option value="mint">mint()</option>
                        <option value="burn">burn()</option>
                        <option value="transfer">transfer()</option>
                        <option value="stake">stake()</option>
                        <option value="withdraw">withdraw()</option>
                    </select>
                </div>
            </div>
            
            <button class="reset-btn" onclick="resetFilters()">R√©initialiser tous les filtres</button>
        </div>
        
        <!-- Stats -->
        <div class="stats-grid">
            <div class="stat-card" onclick="filterByStatus('success')">
                <div class="stat-value">112</div>
                <div class="stat-label">Fragments valid√©s</div>
            </div>
            <div class="stat-card" onclick="filterByStatus('failed')">
                <div class="stat-value">15</div>
                <div class="stat-label">Fragments √©chou√©s</div>
            </div>
            <div class="stat-card" onclick="filterBySprint('SPRINT-000')">
                <div class="stat-value">7</div>
                <div class="stat-label">Dans SPRINT-000</div>
            </div>
            <div class="stat-card" onclick="filterByLanguage('Solidity')">
                <div class="stat-value">43</div>
                <div class="stat-label">Fragments Solidity</div>
            </div>
        </div>
        
        <!-- Tableau des fragments -->
        <div class="fragments-table-container">
            <table class="fragments-table" id="fragments-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nom</th>
                        <th>Sprint</th>
                        <th>Langage</th>
                        <th>Fichiers</th>
                        <th>Classes</th>
                        <th>Fonctions</th>
                        <th>Statut</th>
                    </tr>
                </thead>
                <tbody id="table-body">
                    <!-- SC_001 - Token ERC20 -->
                    <tr onclick="toggleDetail('sc001-detail')">
                        <td><strong>SC_001</strong></td>
                        <td>Token ERC20</td>
                        <td><span class="sprint-badge sprint-active">SPRINT-000</span></td>
                        <td>Solidity</td>
                        <td>Token.sol</td>
                        <td>Token</td>
                        <td>mint(), burn(), transfer()</td>
                        <td><span class="fragment-status status-success">‚úÖ Valid√©</span></td>
                    </tr>
                    <tr id="sc001-detail" style="display: none;">
                        <td colspan="8">
                            <div class="fragment-detail active">
                                <!-- Synth√®se SC_001 -->
                                <div class="synthesis-card">
                                    <div class="synthesis-title">üìã Synth√®se SC_001 - Token ERC20</div>
                                    
                                    <div class="synthesis-text">
                                        <strong>Objectif :</strong> Impl√©menter un token ERC20 standard avec mint/burn et contr√¥le d'acc√®s.
                                    </div>
                                    
                                    <!-- FICHIERS -->
                                    <div class="synthesis-highlight">
                                        <strong>üìÅ Fichiers g√©n√©r√©s :</strong>
                                    </div>
                                    <ul class="file-list">
                                        <li>
                                            <span><strong>contracts/Token.sol</strong> <span class="function-badge">classe principale</span></span>
                                            <a href="#" class="file-link">Voir le fichier ‚Üí</a>
                                        </li>
                                        <li>
                                            <span>test/Token.t.sol <span class="function-badge">tests Foundry</span></span>
                                            <a href="#" class="file-link">Voir les tests ‚Üí</a>
                                        </li>
                                        <li>
                                            <span>scripts/deploy_token.js <span class="function-badge">d√©ploiement</span></span>
                                            <a href="#" class="file-link">Voir le script ‚Üí</a>
                                        </li>
                                    </ul>
                                    
                                    <!-- CLASSES -->
                                    <div class="synthesis-highlight">
                                        <strong>üì¶ Classes impl√©ment√©es :</strong>
                                    </div>
                                    <ul class="file-list">
                                        <li>
                                            <span><strong>Token</strong> (h√©rite de ERC20, Ownable)</span>
                                            <span class="function-badge">contrat principal</span>
                                        </li>
                                        <li>
                                            <span>TokenFactory (optionnel)</span>
                                            <span class="function-badge">factory</span>
                                        </li>
                                    </ul>
                                    
                                    <!-- FONCTIONS -->
                                    <div class="synthesis-highlight">
                                        <strong>‚öôÔ∏è Fonctions impl√©ment√©es :</strong>
                                    </div>
                                    <ul class="file-list">
                                        <li><strong>constructor()</strong> - Initial supply 1M assign√© au owner</li>
                                        <li><strong>mint(address to, uint amount)</strong> - onlyOwner, cr√©e des tokens</li>
                                        <li><strong>burn(uint amount)</strong> - public, d√©truit les tokens du caller</li>
                                        <li><strong>transfer(address to, uint amount)</strong> - override, avec events</li>
                                        <li><strong>approve(address spender, uint amount)</strong> - standard ERC20</li>
                                    </ul>
                                    
                                    <!-- CODE -->
                                    <div class="code-block">
// contracts/Token.sol
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.19;

import "@openzeppelin/contracts/token/ERC20/ERC20.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

contract Token is ERC20, Ownable {
    event Mint(address indexed to, uint256 amount);
    
    constructor() ERC20("MyToken", "MTK") {
        _mint(msg.sender, 1_000_000 * 10**decimals());
    }
    
    function mint(address to, uint256 amount) external onlyOwner {
        _mint(to, amount);
        emit Mint(to, amount);
    }
    
    function burn(uint256 amount) external {
        _burn(msg.sender, amount);
    }
}
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                    
                    <!-- SC_002 - Staking Pool (√©chec) -->
                    <tr onclick="toggleDetail('sc002-detail')">
                        <td><strong>SC_002</strong></td>
                        <td>Staking Pool</td>
                        <td><span class="sprint-badge sprint-active">SPRINT-000</span></td>
                        <td>Solidity</td>
                        <td>Staking.sol</td>
                        <td>StakingPool</td>
                        <td>stake(), unstake(), claim()</td>
                        <td><span class="fragment-status status-failed">‚ùå √âchou√©</span></td>
                    </tr>
                    <tr id="sc002-detail" style="display: none;">
                        <td colspan="8">
                            <div class="fragment-detail active">
                                <!-- Synth√®se SC_002 -->
                                <div class="synthesis-card" style="border-left-color: #ef4444;">
                                    <div class="synthesis-title" style="color: #ef4444;">‚ö†Ô∏è Analyse d'√©chec - SC_002 Staking Pool</div>
                                    
                                    <div class="synthesis-text">
                                        <strong>Objectif :</strong> Pool de staking avec r√©compenses.
                                    </div>
                                    
                                    <!-- FICHIERS -->
                                    <div class="synthesis-highlight">
                                        <strong>üìÅ Fichiers g√©n√©r√©s :</strong>
                                    </div>
                                    <ul class="file-list">
                                        <li>
                                            <span><strong>contracts/Staking.sol</strong> <span class="function-badge" style="background:#fee2e2; color:#991b1b;">√©chec</span></span>
                                            <a href="#" class="file-link">Voir le fichier ‚Üí</a>
                                        </li>
                                        <li>
                                            <span>test/Staking.t.sol</span>
                                            <a href="#" class="file-link">Voir les tests ‚Üí</a>
                                        </li>
                                    </ul>
                                    
                                    <!-- CLASSES -->
                                    <div class="synthesis-highlight">
                                        <strong>üì¶ Classes impl√©ment√©es :</strong>
                                    </div>
                                    <ul class="file-list">
                                        <li><strong>StakingPool</strong> - contrat principal</li>
                                        <li><strong>RewardCalculator</strong> - library (optionnelle)</li>
                                    </ul>
                                    
                                    <!-- FONCTIONS -->
                                    <div class="synthesis-highlight">
                                        <strong>‚öôÔ∏è Fonctions probl√©matiques :</strong>
                                    </div>
                                    <ul class="file-list">
                                        <li><strong style="color:#ef4444;">withdraw()</strong> - Reentrancy d√©tect√©e (ligne 42)</li>
                                        <li><strong>stake()</strong> - OK</li>
                                        <li><strong>claim()</strong> - Tests flaky</li>
                                    </ul>
                                    
                                    <!-- CODE AVEC ERREUR -->
                                    <div class="code-block" style="border-left: 4px solid #ef4444;">
// contracts/Staking.sol - Ligne 42
function withdraw(uint256 amount) external {
    require(balances[msg.sender] >= amount, "Insufficient balance");
    
    // ‚ùå Appel externe AVANT mise √† jour d'√©tat - REENTRANCY
    (bool success, ) = msg.sender.call{value: amount}("");
    require(success, "Transfer failed");
    
    // ‚ùå Mise √† jour apr√®s l'appel
    balances[msg.sender] -= amount;
}
                                    </div>
                                    
                                    <div class="synthesis-text">
                                        <strong>üí° Correction :</strong> Ajouter ReentrancyGuard et suivre Checks-Effects-Interactions
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                    
                    <!-- BE_001 - API Backend -->
                    <tr onclick="toggleDetail('be001-detail')">
                        <td><strong>BE_001</strong></td>
                        <td>API FastAPI</td>
                        <td><span class="sprint-badge">SPRINT-001</span></td>
                        <td>Python</td>
                        <td>api.py, models.py</td>
                        <td>TokenAPI, models</td>
                        <td>get_balance(), transfer()</td>
                        <td><span class="fragment-status status-success">‚úÖ Valid√©</span></td>
                    </tr>
                    <tr id="be001-detail" style="display: none;">
                        <td colspan="8">
                            <div class="fragment-detail active">
                                <!-- Synth√®se BE_001 -->
                                <div class="synthesis-card">
                                    <div class="synthesis-title">üìã Synth√®se BE_001 - API FastAPI</div>
                                    
                                    <!-- FICHIERS -->
                                    <div class="synthesis-highlight">
                                        <strong>üìÅ Fichiers g√©n√©r√©s :</strong>
                                    </div>
                                    <ul class="file-list">
                                        <li><strong>api.py</strong> - Endpoints principaux</li>
                                        <li><strong>models.py</strong> - Mod√®les Pydantic</li>
                                        <li><strong>test_api.py</strong> - Tests unitaires</li>
                                        <li><strong>requirements.txt</strong> - D√©pendances</li>
                                    </ul>
                                    
                                    <!-- CLASSES -->
                                    <div class="synthesis-highlight">
                                        <strong>üì¶ Classes impl√©ment√©es :</strong>
                                    </div>
                                    <ul class="file-list">
                                        <li><strong>TokenAPI</strong> - Routes FastAPI</li>
                                        <li><strong>TransferRequest</strong> - Mod√®le de requ√™te</li>
                                        <li><strong>BalanceResponse</strong> - Mod√®le de r√©ponse</li>
                                    </ul>
                                    
                                    <!-- FONCTIONS -->
                                    <div class="synthesis-highlight">
                                        <strong>‚öôÔ∏è Fonctions impl√©ment√©es :</strong>
                                    </div>
                                    <ul class="file-list">
                                        <li><strong>get_balance(address)</strong> - GET /balance/{address}</li>
                                        <li><strong>transfer(request)</strong> - POST /transfer</li>
                                        <li><strong>get_token_info()</strong> - GET /info</li>
                                    </ul>
                                </div>
                            </div>
                        </td>
                    </tr>
                    
                    <!-- FE_001 - Frontend React -->
                    <tr onclick="toggleDetail('fe001-detail')">
                        <td><strong>FE_001</strong></td>
                        <td>Interface React</td>
                        <td><span class="sprint-badge">SPRINT-002</span></td>
                        <td>TypeScript</td>
                        <td>App.tsx, Wallet.tsx</td>
                        <td>App, WalletProvider</td>
                        <td>connect(), transfer()</td>
                        <td><span class="fragment-status status-success">‚úÖ Valid√©</span></td>
                    </tr>
                    <tr id="fe001-detail" style="display: none;">
                        <td colspan="8">
                            <div class="fragment-detail active">
                                <!-- Synth√®se FE_001 -->
                                <div class="synthesis-card">
                                    <div class="synthesis-title">üìã Synth√®se FE_001 - Interface React</div>
                                    
                                    <!-- FICHIERS -->
                                    <div class="synthesis-highlight">
                                        <strong>üìÅ Fichiers g√©n√©r√©s :</strong>
                                    </div>
                                    <ul class="file-list">
                                        <li><strong>App.tsx</strong> - Composant principal</li>
                                        <li><strong>Wallet.tsx</strong> - Connexion wallet</li>
                                        <li><strong>TokenDashboard.tsx</strong> - Dashboard token</li>
                                        <li><strong>Staking.tsx</strong> - Interface staking</li>
                                    </ul>
                                    
                                    <!-- CLASSES -->
                                    <div class="synthesis-highlight">
                                        <strong>üì¶ Composants React :</strong>
                                    </div>
                                    <ul class="file-list">
                                        <li><strong>App</strong> - Layout principal</li>
                                        <li><strong>WalletProvider</strong> - Contexte wallet</li>
                                        <li><strong>TokenDashboard</strong> - Affichage solde</li>
                                    </ul>
                                    
                                    <!-- FONCTIONS -->
                                    <div class="synthesis-highlight">
                                        <strong>‚öôÔ∏è Fonctions impl√©ment√©es :</strong>
                                    </div>
                                    <ul class="file-list">
                                        <li><strong>connectWallet()</strong> - Connexion MetaMask</li>
                                        <li><strong>getBalance()</strong> - R√©cup√®re solde</li>
                                        <li><strong>transferTokens()</strong> - Envoi de tokens</li>
                                    </ul>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!-- Footer -->
        <div class="footer">
            <p>Derni√®re mise √† jour: 22/02/2026 ‚Ä¢ 127 fragments ‚Ä¢ SPRINT-000 actif</p>
        </div>
    </div>
    
    <script>
        // Donn√©es des fragments (pour les filtres)
        const fragments = [
            { id: 'SC_001', name: 'Token ERC20', sprint: 'SPRINT-000', language: 'Solidity', 
              file: 'Token.sol', class: 'Token', functions: 'mint(),burn(),transfer()', 
              iterations: 3, status: 'success' },
            { id: 'SC_002', name: 'Staking Pool', sprint: 'SPRINT-000', language: 'Solidity', 
              file: 'Staking.sol', class: 'StakingPool', functions: 'stake(),unstake(),claim()', 
              iterations: 5, status: 'failed' },
            { id: 'BE_001', name: 'API FastAPI', sprint: 'SPRINT-001', language: 'Python', 
              file: 'api.py', class: 'TokenAPI', functions: 'get_balance(),transfer()', 
              iterations: 2, status: 'success' },
            { id: 'FE_001', name: 'Interface React', sprint: 'SPRINT-002', language: 'TypeScript', 
              file: 'App.tsx', class: 'App', functions: 'connect(),transfer()', 
              iterations: 4, status: 'success' }
        ];
        
        function toggleDetail(id) {
            const detailRow = document.getElementById(id);
            detailRow.style.display = detailRow.style.display === 'none' ? 'table-row' : 'none';
        }
        
        function filterTable() {
            const sprint = document.getElementById('filter-sprint').value;
            const language = document.getElementById('filter-language').value;
            const status = document.getElementById('filter-status').value;
            const file = document.getElementById('filter-file').value;
            const className = document.getElementById('filter-class').value;
            const functionName = document.getElementById('filter-function').value;
            
            const rows = document.querySelectorAll('#table-body > tr:not([id^=detail])');
            let visibleCount = 0;
            
            rows.forEach(row => {
                const cells = row.cells;
                const rowSprint = cells[2].innerText.trim();
                const rowLang = cells[3].innerText;
                const rowStatus = cells[7].innerText.includes('Valid√©') ? 'success' : 
                                 (cells[7].innerText.includes('√âchou√©') ? 'failed' : 'warning');
                const rowFile = cells[4].innerText;
                const rowClass = cells[5].innerText;
                const rowFunctions = cells[6].innerText;
                
                let show = true;
                if (sprint !== 'all' && !rowSprint.includes(sprint)) show = false;
                if (language !== 'all' && rowLang !== language) show = false;
                if (status !== 'all' && rowStatus !== status) show = false;
                if (file !== 'all' && !rowFile.includes(file)) show = false;
                if (className !== 'all' && rowClass !== className) show = false;
                if (functionName !== 'all' && !rowFunctions.includes(functionName)) show = false;
                
                row.style.display = show ? '' : 'none';
                
                // Cacher les d√©tails associ√©s
                const nextRow = row.nextElementSibling;
                if (nextRow && nextRow.id) {
                    nextRow.style.display = 'none';
                }
                
                if (show) visibleCount++;
            });
            
            document.getElementById('result-count').innerText = visibleCount + ' r√©sultats';
        }
        
        function resetFilters() {
            document.getElementById('filter-sprint').value = 'SPRINT-000';
            document.getElementById('filter-language').value = 'all';
            document.getElementById('filter-status').value = 'all';
            document.getElementById('filter-file').value = 'all';
            document.getElementById('filter-class').value = 'all';
            document.getElementById('filter-function').value = 'all';
            filterTable();
        }
        
        function filterByStatus(status) {
            document.getElementById('filter-status').value = status;
            filterTable();
        }
        
        function filterBySprint(sprint) {
            document.getElementById('filter-sprint').value = sprint;
            filterTable();
        }
        
        function filterByLanguage(lang) {
            document.getElementById('filter-language').value = lang;
            filterTable();
        }
        
        // Appliquer les filtres √† chaque changement
        document.querySelectorAll('.filter-select').forEach(select => {
            select.addEventListener('change', filterTable);
        });
        
        // Initialiser
        window.onload = function() {
            filterTable();
        };
    </script>
</body>
</html>