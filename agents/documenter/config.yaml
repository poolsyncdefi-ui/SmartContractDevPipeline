# =====================================================================
# DOCUMENTER AGENT 2.0 - CONFIGURATION ULTIME
# Fusion : Structure technique avanc√©e + Richesse m√©tier
# Documentation professionnelle avec Mermaid, LLM, qualit√©, collaboration
# =====================================================================

agent:
  # === IDENTIFICATION ===
  name: "documenter"
  class_name: "DocumenterAgent"
  module_path: "agents.documenter.documenter_agent"
  display_name: "üìö Documenteur Technique Pro"  # Fusion des 2 noms
  description: |-
    Agent de documentation professionnelle g√©n√©rant une documentation
    technique compl√®te, structur√©e et maintenue. S'adapte √† multiples audiences,
    valide la qualit√©, et s'int√®gre au cycle de vie du code.
    G√©n√®re docs API, guides utilisateur, d√©ploiement, diagrammes Mermaid.
  
  version: "2.0.0"
  agent_type: "concrete"
  abstract: false
  instantiate: true
  enabled: true
  mandatory: false
  log_level: "INFO"
  
  # === H√âRITAGE & D√âPENDANCES ===
  extends: "BaseAgent"
  parent: "BaseAgent"
  dependencies: ["architect", "coder", "smart_contract"]
  initialization_order: 10
  
  # === CAPACIT√âS M√âTIER (fusionn√©es) ===
  capabilities:
    - name: "GENERATE_API_DOCUMENTATION"
      description: "G√©n√®re documentation API (OpenAPI, r√©f√©rence)"
    - name: "GENERATE_USER_GUIDES"
      description: "Produit des guides utilisateur orient√©s t√¢ches"
    - name: "GENERATE_DEVELOPER_GUIDES"
      description: "Documentation pour d√©veloppeurs (setup, archi, contribution)"
    - name: "GENERATE_DEPLOYMENT_GUIDES"
      description: "Guides de d√©ploiement multi-environnements"
    - name: "GENERATE_DIAGRAMS"
      description: "Cr√©e des diagrammes Mermaid (h√©ritage, d√©pendances, workflow)"
    - name: "GENERATE_TUTORIALS"
      description: "Produit des tutoriels pas-√†-pas"
    - name: "CREATE_GLOSSARIES"
      description: "G√©n√®re des glossaires de termes techniques"
    - name: "PRODUCE_CHANGELOGS"
      description: "G√©n√®re des changelogs et notes de version"
    
    - name: "MAINTAIN_DOCUMENTATION_SYNC"
      description: "Maintient la documentation synchronis√©e avec le code"
    - name: "VALIDATE_TECHNICAL_ACCURACY"
      description: "V√©rifie l'exactitude technique de la documentation"
    - name: "VALIDATE_COMPLETENESS"
      description: "S'assure de la compl√©tude de la documentation"
    - name: "ADAPT_CONTENT_FOR_AUDIENCE"
      description: "Adapte le ton et le niveau de d√©tail √† l'audience"
    - name: "STRUCTURE_FOR_SEARCHABILITY"
      description: "Optimise la structure pour la recherche"
    - name: "UPDATE_EXISTING_DOCS"
      description: "Met √† jour la documentation existante"
    - name: "MAINTAIN_KNOWLEDGE_BASE"
      description: "Maintient une base de connaissance coh√©rente"
    
    - name: "INCLUDE_FUNCTIONAL_EXAMPLES"
      description: "Int√®gre des exemples fonctionnels et testables"
    - name: "TRANSLATE_CONTENT"
      description: "Traduit le contenu dans plusieurs langues"
    
    - name: "natspec_extraction_advanced"
      description: "Extraction avanc√©e des commentaires NatSpec"
    - name: "interactive_toc_generation"
      description: "Table des mati√®res interactive avec ancres"
    - name: "cross_reference_linking"
      description: "Liens crois√©s entre sections et documents"
    - name: "versioned_documentation"
      description: "Support multi-versions des contrats"
    - name: "security_analysis_docs"
      description: "Section s√©curit√© avec badges et m√©triques"
    - name: "html_site_generation"
      description: "G√©n√©ration de site de documentation complet"


# =====================================================================
# CONFIGURATION PRINCIPALE DU DOCUMENTER
# =====================================================================
documenter:
  enabled: true
  purpose: "Produire une documentation compl√®te et utile pour tous les acteurs du projet"
  
  # Objectifs (de ton fichier)
  objectives:
    primary: "Produire une documentation compl√®te et utile"
    secondary:
      - "R√©duire la courbe d'apprentissage"
      - "Faciliter la maintenance"
      - "Supporter l'auto-d√©couverte"
      - "R√©duire le support technique"
      - "Am√©liorer l'adoption produit"
  
  # Obligations (de ton fichier)
  obligations:
    - "Maintenir la documentation √† jour avec le code"
    - "V√©rifier l'exactitude technique"
    - "Adapter le ton √† l'audience"
    - "Structurer pour la recherche"
    - "Inclure des exemples fonctionnels"
    - "V√©rifier les liens et r√©f√©rences"
    - "Maintenir la coh√©rence du style"
    - "S'assurer de l'accessibilit√©"
    - "Documenter les changements importants"
  
  # Audience cible (de ton fichier)
  audience:
    - name: "developers"
      description: "D√©veloppeurs int√©grant ou √©tendant le syst√®me"
      tone: "technique"
      detail_level: "high"
    - name: "end_users"
      description: "Utilisateurs finaux de l'application"
      tone: "p√©dagogique"
      detail_level: "medium"
    - name: "devops"
      description: "√âquipes d'exploitation et d√©ploiement"
      tone: "proc√©dural"
      detail_level: "high"
    - name: "project_managers"
      description: "Chefs de projet et d√©cideurs"
      tone: "synth√©tique"
      detail_level: "low"
    - name: "stakeholders"
      description: "Parties prenantes du projet"
      tone: "business"
      detail_level: "low"
  
  # Standards de documentation (de ton fichier)
  standards:
    file: "project_data/context/doc_standards.md"
    style_guide: "Google Developer Documentation Style Guide"
    accessibility: "WCAG 2.1 AA"
  
  # Chemins
  output_path: "./docs"
  temp_path: "./agents/documenter/temp"
  templates_path: "./agents/documenter/templates"
  existing_docs_path: "project_data/workspace/docs/"
  
  # Langues support√©es (de ton fichier)
  languages: ["fr", "en"]
  
  # Limitations (de ton fichier)
  limitations:
    max_document_size_mb: 50
    media: "Images g√©n√©r√©es uniquement via diagrammes"
    tools: "Pas d'outils SaaS payants"
  
  # Formats de sortie enrichis (de ton fichier)
  output_formats:
    - name: "markdown"
      extensions: [".md", ".mdx"]
      features: ["tables", "code_blocks", "links", "mermaid"]
    - name: "html"
      extensions: [".html"]
      features: ["search", "navigation", "responsive", "interactive_toc"]
    - name: "pdf"
      extensions: [".pdf"]
      features: ["printable", "bookmarks", "watermark"]
    - name: "openapi"
      extensions: [".yaml", ".json"]
      features: ["interactive", "try_it_out", "examples"]
    - name: "asciidoc"
      extensions: [".adoc"]
      features: ["tables", "diagrams"]
  
  # Structure de documentation (enriched)
  structure:
    - "overview"
    - "architecture"
    - "contracts"
    - "functions"
    - "events"
    - "modifiers"
    - "security"
    - "deployment"
    - "examples"
    - "changelog"
    - "glossary"  # Nouveau
    - "troubleshooting"  # Nouveau
    - "faq"  # Nouveau
  
  # Navigation
  navigation:
    toc_depth: 3
    breadcrumbs: true
    previous_next: true
    search_enabled: true
    back_to_top: true
    cross_references: true


# =====================================================================
# SP√âCIFICATIONS D√âTAILL√âES PAR TYPE DE DOCUMENT (de ton fichier)
# =====================================================================
doc_specs:
  api_docs:
    format: "OpenAPI 3.0"
    auto_generate: true
    examples: true
    include_test_cases: true
    versioning: true
    interactive: true
  
  user_guide:
    structure: "task-oriented"
    screenshots: false
    video_tutorials: false
    troubleshooting: true
    faq: true
    glossary: true
  
  developer_guide:
    includes:
      - "setup"
      - "architecture"
      - "contributing"
      - "api_reference"
      - "testing"
      - "debugging"
    code_examples: true
    best_practices: true
    debugging_guide: true
  
  deployment_guide:
    environments: ["development", "staging", "production"]
    steps: ["prerequisites", "installation", "configuration", "verification", "troubleshooting"]
    monitoring: true
    backup_recovery: true
    rollback_procedures: true
  
  architecture_docs:
    diagrams: ["C4", "component", "sequence", "deployment", "inheritance"]
    decisions: true
    constraints: true
    quality_attributes: true
    data_flow: true


# =====================================================================
# MERMAID DIAGRAMS
# =====================================================================
mermaid:
  enabled: true
  theme: "dark"
  include_inheritance: true
  include_dependencies: true
  include_workflow: true
  include_call_graph: true
  include_state_diagram: true
  include_sequence_diagram: true
  include_c4: true  # Nouveau
  
  styles:
    class: "fill:#1a1e24,stroke:#00ff88,stroke-width:2px"
    interface: "fill:#2a2e34,stroke:#8b5cf6,stroke-width:2px"
    function: "fill:#0f1215,stroke:#3b82f6,stroke-width:1px"
    event: "fill:#0f1215,stroke:#10b981,stroke-width:1px"
    error: "fill:#0f1215,stroke:#ef4444,stroke-width:1px"


# =====================================================================
# CONFIGURATION LLM (de ton fichier)
# =====================================================================
llm_config:
  enabled: true
  model: "ollama:mistral:7b"  # √Ä adapter selon disponibilit√©
  temperature: 0.5
  max_tokens: 4000
  top_p: 0.9
  frequency_penalty: 0.0
  presence_penalty: 0.0
  use_for:
    - "description_generation"
    - "example_generation"
    - "translation"
    - "glossary_definitions"
    - "summarization"


# =====================================================================
# D√âCLENCHEURS DE MISE √Ä JOUR (de ton fichier)
# =====================================================================
update_triggers:
  code_changes:
    enabled: true
    watch_paths: 
      - "src/"
      - "contracts/"
      - "api/"
      - "config/"
  
  api_changes:
    enabled: true
    watch_endpoints: true
    auto_regenerate: true
  
  user_feedback:
    enabled: true
    sources: 
      - "github_issues"
      - "support_tickets"
      - "discord_feedback"
  
  scheduled_review:
    enabled: true
    interval_days: 30
    notify_before: 7


# =====================================================================
# M√âTRIQUES DE QUALIT√â (de ton fichier)
# =====================================================================
quality_metrics:
  enabled: true
  targets:
    completeness_score: 90  # %
    accuracy_score: 95      # %
    freshness_score: 85     # % (docs √† jour)
    readability_score: 80   # % (score Flesch)
    searchability_score: 75 # % (mots-cl√©s couverts)
  
  checks:
    - "broken_links"
    - "outdated_examples"
    - "missing_sections"
    - "spelling_errors"
    - "terminology_consistency"


# =====================================================================
# COLLABORATION (de ton fichier)
# =====================================================================
collaboration:
  sync_with_code: true
  review_required: true
  approvers: 
    - "tech_lead"
    - "product_owner"
    - "documentation_lead"
  notification_channels: 
    - "slack"
    - "email"
    - "github_pr"
  version_control: true
  changelog_auto_update: true


# =====================================================================
# STYLE VISUEL
# =====================================================================
styling:
  theme: "professional"
  colors:
    primary: "#00ff88"
    secondary: "#8b5cf6"
    accent: "#3b82f6"
    background: "#0f1215"
    text: "#ffffff"
    code_bg: "#1a1e24"
    warning: "#ffd700"
    error: "#ef4444"
    success: "#10b981"
  
  typography:
    font_family: "'Inter', -apple-system, BlinkMacSystemFont, sans-serif"
    code_font: "'Fira Code', 'Courier New', monospace"
    base_size: "16px"
    heading_weights: [700, 600, 600, 500, 500, 400]
  
  components:
    badges: true
    cards: true
    tables: true
    alerts: true
    tooltips: true
    collapsible_sections: true
    breadcrumbs: true
    search: true


# =====================================================================
# INT√âGRATIONS
# =====================================================================
integrations:
  monitoring:
    enabled: true
    track_docs_generated: true
    track_quality_metrics: true
    alert_on_degradation: true
  
  learning:
    enabled: true
    provide_docs_for_training: true
    collect_feedback: true
  
  registry:
    enabled: true
    register_docs: true
    version_tracking: true


# =====================================================================
# SYST√àME
# =====================================================================
system:
  timeout_seconds: 900
  max_retries: 2
  concurrent_tasks: 1
  backup_enabled: true
  backup_interval_hours: 24
  backup_retention_days: 30
  temp_files_cleanup: true
  cleanup_age_hours: 72