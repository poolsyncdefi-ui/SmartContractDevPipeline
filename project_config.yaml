# ============================================================================
# CONFIGURATION DU PROJET - SmartContractDevPipeline v2.2.0
# ============================================================================
# Fichier: D:\Web3Projects\SmartContractDevPipeline\config\project_config.yaml
# Généré le: 2026-02-08
# Version complète avec toutes les sections
# ============================================================================

project:
  name: "SmartContractDevPipeline"
  version: "2.2.0"
  description: "Pipeline de développement de contrats intelligents avec agents IA"
  root_path: "D:/Web3Projects/SmartContractDevPipeline"
  environment: "development"
  log_level: "INFO"
  
  owner: "PoolSync DeFi"
  contact: "dev@poolsync.io"
  repository: "https://github.com/poolsyncdefi-ui/SmartContractDevPipeline"
  
  security:
    encryption_enabled: true
    audit_logging: true
    data_retention_days: 90
    
  performance:
    max_workers: 8
    task_timeout_seconds: 300
    memory_limit_mb: 4096

# ----------------------------------------------------------------------------
# ORCHESTRATOR CONFIGURATION
# ----------------------------------------------------------------------------
orchestrator:
  enabled: true
  service_type: "fastapi"
  host: "127.0.0.1"
  port: 8000
  workers: 4
  reload: true
  
  api:
    prefix: "/api/v1"
    cors_origins: ["http://localhost:3000", "http://127.0.0.1:3000"]
    rate_limit: "100/minute"
    
  task_management:
    max_concurrent_tasks: 5
    task_queue_size: 100
    retry_attempts: 3
    retry_delay_seconds: 5
    
  discovery:
    auto_discover: true
    scan_interval_seconds: 60
    discovery_paths:
      - "agents/"
    exclude_patterns:
      - "__pycache__"
      - ".git"
      - "test_*"
      
  health:
    health_check_interval: 30
    health_endpoint: "/health"
    metrics_endpoint: "/metrics"
    
  logging:
    log_file: "logs/orchestrator.log"
    max_file_size_mb: 100
    backup_count: 5

# ----------------------------------------------------------------------------
# AGENTS CONFIGURATION - STRUCTURE RÉELLE
# ----------------------------------------------------------------------------
agents:
  # === AGENTS FONDAMENTAUX ===
  base_agent:
    display_name: "Agent de Base"
    specialization: "core_framework"
    config_path: "agents/base_agent/config.yaml"
    agent_type: "abstract_base"
    enabled: true
    instantiate: false
    dependencies: []
    initialization_order: 0
    parent: null
    purpose: "Classe de base abstraite fournissant les fonctionnalités communes à tous les agents"
    mandatory: true
    version: "1.0.0"
    
  architect:
    display_name: "Architecte Système"
    specialization: "architecture_design"
    config_path: "agents/architect/config.yaml"
    agent_type: "concrete"
    enabled: true
    instantiate: true
    dependencies: ["base_agent"]
    initialization_order: 10
    parent: "base_agent"
    purpose: "Conçoit l'architecture des systèmes de contrats intelligents"
    mandatory: true
    
  coder:
    display_name: "Développeur Principal"
    specialization: "code_implementation"
    config_path: "agents/coder/config.yaml"
    agent_type: "concrete"
    enabled: true
    instantiate: true
    dependencies: ["base_agent", "architect"]
    initialization_order: 20
    parent: "base_agent"
    purpose: "Implémente le code Solidity/Vyper des contrats intelligents"
    mandatory: true
    
  smart_contract:
    display_name: "Expert Contrats Intelligents"
    specialization: "contract_specialist"
    config_path: "agents/smart_contract/config.yaml"
    agent_type: "concrete"
    enabled: true
    instantiate: true
    dependencies: ["base_agent", "coder"]
    initialization_order: 30
    parent: "base_agent"
    purpose: "Expert en logique métier et optimisations des contrats"
    mandatory: true
    
  tester:
    display_name: "Ingénieur Tests"
    specialization: "testing_validation"
    config_path: "agents/tester/config.yaml"
    agent_type: "concrete"
    enabled: true
    instantiate: true
    dependencies: ["base_agent", "coder"]
    initialization_order: 40
    parent: "base_agent"
    purpose: "Teste et valide les contrats intelligents"
    mandatory: true
    
  registry:
    display_name: "Registre des Agents"
    specialization: "agent_registry"
    config_path: "agents/registry/config.yaml"
    agent_type: "concrete"
    enabled: true
    instantiate: true
    dependencies: ["base_agent"]
    initialization_order: 50
    parent: "base_agent"
    purpose: "Gère l'enregistrement, la découverte et le cycle de vie des agents"
    mandatory: true
    
  # === AGENTS SPÉCIALISÉS ===
  formal_verification:
    display_name: "Vérificateur Formel"
    specialization: "formal_verification"
    config_path: "agents/formal_verification/config.yaml"
    agent_type: "concrete"
    enabled: true
    instantiate: true
    dependencies: ["base_agent", "tester"]
    initialization_order: 60
    parent: "base_agent"
    purpose: "Effectue la vérification formelle des propriétés des contrats"
    mandatory: false
    
  fuzzing_simulation:
    display_name: "Simulateur Fuzzing"
    specialization: "fuzzing_simulation"
    config_path: "agents/fuzzing_simulation/config.yaml"
    agent_type: "concrete"
    enabled: true
    instantiate: true
    dependencies: ["base_agent", "tester"]
    initialization_order: 70
    parent: "base_agent"
    purpose: "Effectue des tests fuzzing avancés et simulations d'attaques"
    mandatory: false
    
  # === AGENTS SUPPORT ===
  documenter:
    display_name: "Documenteur Technique"
    specialization: "documentation"
    config_path: "agents/documenter/config.yaml"
    agent_type: "concrete"
    enabled: true
    instantiate: true
    dependencies: ["base_agent"]
    initialization_order: 80
    parent: "base_agent"
    purpose: "Génère la documentation technique et utilisateur des contrats"
    mandatory: false
    
  frontend_web3:
    display_name: "Développeur Frontend Web3"
    specialization: "frontend_development"
    config_path: "agents/frontend_web3/config.yaml"
    agent_type: "concrete"
    enabled: true
    instantiate: true
    dependencies: ["base_agent", "smart_contract"]
    initialization_order: 90
    parent: "base_agent"
    purpose: "Développe les interfaces utilisateur interactives pour les contrats"
    mandatory: false
    
  communication:
    display_name: "Agent de Communication"
    specialization: "communication"
    config_path: "agents/communication/config.yaml"
    agent_type: "concrete"
    enabled: true
    instantiate: true
    dependencies: ["base_agent"]
    initialization_order: 100
    parent: "base_agent"
    purpose: "Gère la communication inter-agents et avec les utilisateurs"
    mandatory: false
    
  storage:
    display_name: "Gestionnaire de Stockage"
    specialization: "storage_management"
    config_path: "agents/storage/config.yaml"
    agent_type: "concrete"
    enabled: true
    instantiate: true
    dependencies: ["base_agent"]
    initialization_order: 110
    parent: "base_agent"
    purpose: "Gère le stockage persistant des données, contrats et artefacts"
    mandatory: false
    
  monitoring:
    display_name: "Agent de Monitoring"
    specialization: "monitoring_observability"
    config_path: "agents/monitoring/config.yaml"
    agent_type: "concrete"
    enabled: true
    instantiate: true
    dependencies: ["base_agent"]
    initialization_order: 120
    parent: "base_agent"
    purpose: "Surveille les performances, la santé et les métriques du système"
    mandatory: false
    
  learning:
    display_name: "Agent d'Apprentissage"
    specialization: "machine_learning"
    config_path: "agents/learning/config.yaml"
    agent_type: "concrete"
    enabled: true
    instantiate: true
    dependencies: ["base_agent"]
    initialization_order: 130
    parent: "base_agent"
    purpose: "Apprentissage automatique pour optimisation et prédictions"
    mandatory: false
    
  orchestrator:
    display_name: "Orchestrateur de Workflows"
    specialization: "workflow_orchestration"
    config_path: "agents/orchestrator/config.yaml"  # Chemin correct vers la racine
    agent_type: "concrete"
    enabled: true
    instantiate: true
    dependencies: ["base_agent"]
    initialization_order: 15
    parent: "base_agent"
    purpose: "Orchestration globale des workflows et sprints du pipeline"
    mandatory: true
    version: "2.0.0"

# ----------------------------------------------------------------------------
# MAPPING DES TÂCHES VERS LES AGENTS
# ----------------------------------------------------------------------------
task_mapping:
  design_system_architecture:
    primary_agent: "architect"
    fallback_agent: "smart_contract"
    timeout: 600
    required_capabilities: ["ARCHITECTURE_DESIGN", "SYSTEM_ANALYSIS"]
    
  design_contract_pattern:
    primary_agent: "architect"
    secondary_agents: ["smart_contract", "coder"]
    timeout: 300
    required_capabilities: ["PATTERN_RECOGNITION", "CONTRACT_PATTERNS"]
    
  generate_contract_code:
    primary_agent: "coder"
    fallback_agent: "smart_contract"
    timeout: 900
    required_capabilities: ["SOLIDITY", "CODE_GENERATION", "VYPER"]
    
  implement_business_logic:
    primary_agent: "smart_contract"
    secondary_agents: ["coder"]
    timeout: 1200
    required_capabilities: ["BUSINESS_LOGIC", "ALGORITHM_DESIGN"]
    
  optimize_gas_usage:
    primary_agent: "smart_contract"
    timeout: 600
    required_capabilities: ["GAS_OPTIMIZATION", "PERFORMANCE_ANALYSIS"]
    
  write_unit_tests:
    primary_agent: "tester"
    secondary_agents: ["coder"]
    timeout: 600
    required_capabilities: ["UNIT_TESTING", "TEST_GENERATION"]
    
  security_audit:
    primary_agent: "tester"
    secondary_agents: ["formal_verification", "fuzzing_simulation"]
    timeout: 1800
    required_capabilities: ["SECURITY_ANALYSIS", "VULNERABILITY_DETECTION"]
    
  formal_verification:
    primary_agent: "formal_verification"
    timeout: 2400
    required_capabilities: ["FORMAL_VERIFICATION", "THEOREM_PROVING"]
    
  fuzzing_test:
    primary_agent: "fuzzing_simulation"
    timeout: 1800
    required_capabilities: ["FUZZING", "SIMULATION"]
    
  generate_documentation:
    primary_agent: "documenter"
    secondary_agents: ["coder", "smart_contract"]
    timeout: 300
    required_capabilities: ["DOCUMENTATION_GENERATION", "NATSPEC"]
    
  create_frontend:
    primary_agent: "frontend_web3"
    timeout: 600
    required_capabilities: ["REACT", "WEB3_JS", "UI_UX_DESIGN"]
    
  manage_agent_lifecycle:
    primary_agent: "registry"
    timeout: 60
    required_capabilities: ["AGENT_DISCOVERY", "LIFECYCLE_MANAGEMENT"]
    
  orchestrate_workflow:
    primary_agent: "workflow"
    timeout: 300
    required_capabilities: ["WORKFLOW_ORCHESTRATION", "TASK_SCHEDULING"]
    
  monitor_system:
    primary_agent: "monitoring"
    timeout: 30
    required_capabilities: ["METRICS_COLLECTION", "ALERTING"]
    
  full_contract_development:
    agent_chain: ["architect", "coder", "smart_contract", "tester"]
    orchestrator: "workflow"
    timeout: 3600
    parallel_tasks: false
    
  security_pipeline:
    agent_chain: ["tester", "formal_verification", "fuzzing_simulation"]
    orchestrator: "workflow"
    timeout: 7200
    parallel_tasks: true

# ----------------------------------------------------------------------------
# HIÉRARCHIE ET DÉPENDANCES
# ----------------------------------------------------------------------------
dependencies:
  hierarchy:
    root: "base_agent"
    layers:
      - layer: 0
        agents: ["base_agent"]
        description: "Couche fondamentale"
        
      - layer: 1
        agents: ["architect", "registry", "workflow"]
        description: "Agents de gestion système"
        depends_on: ["base_agent"]
        
      - layer: 2
        agents: ["coder", "smart_contract"]
        description: "Agents de développement"
        depends_on: ["architect"]
        
      - layer: 3
        agents: ["tester", "formal_verification", "fuzzing_simulation"]
        description: "Agents de test et sécurité"
        depends_on: ["coder", "smart_contract"]
        
      - layer: 4
        agents: ["documenter", "frontend_web3", "communication"]
        description: "Agents de support et interface"
        depends_on: ["smart_contract", "tester"]
        
      - layer: 5
        agents: ["storage", "monitoring", "learning"]
        description: "Agents d'infrastructure"
        depends_on: ["registry"]
  
  initialization_order:
    phase_1:
      agents: ["base_agent"]
      description: "Framework de base"
      required: true
      
    phase_2:
      agents: ["registry", "workflow"]
      description: "Système de gestion"
      required: true
      depends_on: ["phase_1"]
      
    phase_3:
      agents: ["architect"]
      description: "Conception"
      required: true
      depends_on: ["phase_2"]
      
    phase_4:
      agents: ["coder", "smart_contract"]
      description: "Développement"
      required: true
      depends_on: ["phase_3"]
      
    phase_5:
      agents: ["tester"]
      description: "Test de base"
      required: true
      depends_on: ["phase_4"]
      
    phase_6:
      agents: ["formal_verification", "fuzzing_simulation"]
      description: "Tests avancés"
      required: false
      depends_on: ["phase_5"]
      
    phase_7:
      agents: ["documenter", "frontend_web3", "communication"]
      description: "Support utilisateur"
      required: false
      depends_on: ["phase_5"]
      
    phase_8:
      agents: ["storage", "monitoring", "learning"]
      description: "Infrastructure"
      required: false
      depends_on: ["phase_2"]
  
  validation:
    check_circular_deps: true
    validate_on_startup: true
    auto_resolve_deps: true
    missing_deps_action: "warn"
    
  agent_groups:
    core_development:
      agents:
        - "architect"
        - "coder"
        - "smart_contract"
        - "tester"
      description: "Pipeline de développement principal"
      
    security_suite:
      agents:
        - "tester"
        - "formal_verification"
        - "fuzzing_simulation"
      description: "Suite complète de sécurité"
      
    user_experience:
      agents:
        - "documenter"
        - "frontend_web3"
        - "communication"
      description: "Expérience utilisateur et documentation"
      
    infrastructure:
      agents:
        - "registry"
        - "storage"
        - "monitoring"
        - "workflow"
      description: "Infrastructure système"

# ----------------------------------------------------------------------------
# ENVIRONNEMENTS DE DÉPLOIEMENT
# ----------------------------------------------------------------------------
environments:
  development:
    name: "Développement"
    description: "Environnement de développement local"
    enabled: true
    auto_start: true
    
    agents:
      enabled: ["base_agent", "architect", "coder", "smart_contract", "tester", "registry"]
      disabled: ["learning"]
    
    ollama:
      models: ["llama2:7b", "codellama:7b"]
      gpu_layers: 10
      
    blockchain:
      network: "development"
      auto_mine: true
      gas_limit: 30000000
      
    monitoring:
      level: "INFO"
      enable_metrics: false
      
    security:
      require_auth: false
      encryption: false
      
  staging:
    name: "Staging"
    description: "Environnement de pré-production"
    enabled: false
    
    agents:
      enabled: ["base_agent", "architect", "coder", "smart_contract", "tester", "formal_verification", "registry", "monitoring"]
      
    ollama:
      models: ["llama2:13b", "codellama:13b"]
      gpu_layers: 20
      
    blockchain:
      network: "sepolia"
      confirmations: 3
      
    monitoring:
      level: "INFO"
      enable_metrics: true
      
    security:
      require_auth: true
      encryption: true
      
  production:
    name: "Production"
    description: "Environnement de production"
    enabled: false
    
    agents:
      enabled: ["base_agent", "architect", "coder", "smart_contract", "tester", "formal_verification", "fuzzing_simulation", "registry", "monitoring", "workflow"]
      disabled: ["learning"]
      
    ollama:
      models: ["llama2:13b", "codellama:13b", "mistral:7b"]
      gpu_layers: 30
      
    blockchain:
      network: "ethereum"
      confirmations: 12
      gas_price_strategy: "medium"
      
    monitoring:
      level: "WARNING"
      enable_metrics: true
      enable_alerting: true
      
    security:
      require_auth: true
      encryption: true
      audit_all_operations: true
      
  testing:
    name: "Tests Automatisés"
    description: "Environnement dédié aux tests"
    enabled: true
    
    agents:
      enabled: ["base_agent", "tester", "registry"]
      mock_ollama: true
      
    blockchain:
      use_mock: true
      network: "ganache"
      
    features:
      fast_execution: true
      deterministic_results: true
      skip_heavy_tasks: true

# ----------------------------------------------------------------------------
# SÉCURITÉ ET SECRETS
# ----------------------------------------------------------------------------
security:
  authentication:
    enabled: false
    provider: "jwt"
    
    jwt:
      secret_key: "${JWT_SECRET_KEY}"
      algorithm: "HS256"
      token_expire_minutes: 1440
      refresh_token_expire_days: 7
      
    api_keys:
      enabled: true
      rotation_days: 90
      max_keys_per_user: 3
      
  encryption:
    enabled: true
    
    data_encryption:
      algorithm: "AES-256-GCM"
      key_derivation:
        algorithm: "PBKDF2"
        iterations: 100000
        salt_size: 16
        
    at_rest:
      encrypt_database: true
      encrypt_logs: false
      encrypt_configs: true
      
    in_transit:
      require_tls: false
      tls_version: "TLSv1.2"
      cipher_suites: ["ECDHE-RSA-AES256-GCM-SHA384"]
      
  secrets:
    management: "environment"
    
    sources:
      environment:
        prefix: "SCDP_"
        required_vars:
          - "JWT_SECRET_KEY"
          - "DATABASE_PASSWORD"
          - "BLOCKCHAIN_PRIVATE_KEY"
          
      files:
        secrets_file: ".env.secrets"
        encrypted: true
        permissions: "600"
        
      vault:
        enabled: false
        url: "${VAULT_URL}"
        token: "${VAULT_TOKEN}"
        
    rotation:
      auto_rotate: false
      rotation_interval_days: 30
      notify_before_days: 7
      
  access_control:
    rbac_enabled: true
    
    roles:
      admin:
        permissions: ["*"]
        agents: ["*"]
        
      developer:
        permissions: ["read", "write", "execute"]
        agents: ["architect", "coder", "smart_contract", "tester"]
        
      auditor:
        permissions: ["read", "execute"]
        agents: ["tester", "formal_verification", "fuzzing_simulation"]
        
      viewer:
        permissions: ["read"]
        agents: ["documenter", "monitoring"]
        
    policies:
      least_privilege: true
      separation_of_duties: true
      audit_all_changes: true
      
  audit:
    enabled: true
    
    logging:
      log_all_operations: true
      sensitive_data_masking: true
      retention_days: 365
      
    compliance:
      gdpr_compliant: true
      data_minimization: true
      right_to_be_forgotten: true
      
  network:
    firewall:
      enabled: true
      rules:
        - action: "allow"
          source: "127.0.0.1"
          port: "8000"
        - action: "allow"
          source: "127.0.0.1"
          port: "11434"
        - action: "deny"
          source: "0.0.0.0/0"
          port: "*"
          
    rate_limiting:
      enabled: true
      requests_per_minute: 100
      burst_limit: 20
      
    intrusion_detection:
      enabled: false

# ----------------------------------------------------------------------------
# VERSIONS ET COMPATIBILITÉ
# ----------------------------------------------------------------------------
versions:
  system:
    pipeline: "2.2.0"
    api: "1.0.0"
    config_schema: "1.2.0"
    
  agents:
    base_agent:
      min_version: "1.0.0"
      max_version: "2.0.0"
      current: "1.2.0"
      
    architect:
      min_version: "1.0.0"
      current: "1.1.0"
      depends_on_base: ">=1.0.0"
      
    coder:
      min_version: "1.0.0"
      current: "1.3.0"
      depends_on_base: ">=1.0.0"
      depends_on_architect: ">=1.0.0"
      
    smart_contract:
      min_version: "1.0.0"
      current: "1.2.0"
      depends_on_base: ">=1.0.0"
      depends_on_coder: ">=1.1.0"
      
    tester:
      min_version: "1.0.0"
      current: "1.4.0"
      depends_on_base: ">=1.0.0"
      depends_on_coder: ">=1.0.0"
      
    registry:
      min_version: "1.0.0"
      current: "1.1.0"
      depends_on_base: ">=1.0.0"
  
  compatibility:
    check_on_startup: true
    enforcement_level: "strict"
    
    backward_compatibility:
      agents: true
      config: true
      tasks: true
      
    deprecation_policy:
      notice_period_days: 90
      migration_guide_required: true
      
  updates:
    auto_check: true
    check_interval_hours: 24
    
    channels:
      stable:
        url: "https://updates.poolsync.io/stable"
        recommended: true
      beta:
        url: "https://updates.poolsync.io/beta"
        recommended: false
      nightly:
        url: "https://updates.poolsync.io/nightly"
        recommended: false
        
    policies:
      allow_major_upgrades: false
      allow_minor_upgrades: true
      allow_patch_upgrades: true
      require_approval: true
      
  history:
    keep_versions: 5
    auto_cleanup: true
    
    migration_scripts:
      enabled: true
      location: "scripts/migrations/"
      auto_apply: false