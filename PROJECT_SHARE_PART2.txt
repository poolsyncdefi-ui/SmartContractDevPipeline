FICHIER PARTAGÉ: PROJECT_SHARE_PART2.txt
Projet: SmartContractDevPipeline
Partie: 2/2
Date: 2026-01-21 17:53:38
Taille totale: 500.49 KB
============================================================
FICHIER: agents\architure\.svg\Agent Documenteur (AD).svg
TAILLE: 27.07 KB
============================================================

00001: <?xml version="1.0" encoding="UTF-8"?>
00002: <svg xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-5" width="100%" class="flowchart" style="max-width: 100%;" viewBox="-46.7 -46.7 1703.0015625 1027.4" height="100%"><style>#mermaid-svg-5{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-svg-5 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-svg-5 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-svg-5 .error-icon{fill:#552222;}#mermaid-svg-5 .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-5 .edge-thickness-normal{stroke-width:1px;}#mermaid-svg-5 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-5 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-5 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-svg-5 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-5 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-5 .marker{fill:#333333;stroke:#333333;}#mermaid-svg-5 .marker.cross{stroke:#333333;}#mermaid-svg-5 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-5 p{margin:0;}#mermaid-svg-5 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg-5 .cluster-label text{fill:#333;}#mermaid-svg-5 .cluster-label span{color:#333;}#mermaid-svg-5 .cluster-label span p{background-color:transparent;}#mermaid-svg-5 .label text,#mermaid-svg-5 span{fill:#333;color:#333;}#mermaid-svg-5 .node rect,#mermaid-svg-5 .node circle,#mermaid-svg-5 .node ellipse,#mermaid-svg-5 .node polygon,#mermaid-svg-5 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg-5 .rough-node .label text,#mermaid-svg-5 .node .label text,#mermaid-svg-5 .image-shape .label,#mermaid-svg-5 .icon-shape .label{text-anchor:middle;}#mermaid-svg-5 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-svg-5 .rough-node .label,#mermaid-svg-5 .node .label,#mermaid-svg-5 .image-shape .label,#mermaid-svg-5 .icon-shape .label{text-align:center;}#mermaid-svg-5 .node.clickable{cursor:pointer;}#mermaid-svg-5 .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-svg-5 .arrowheadPath{fill:#333333;}#mermaid-svg-5 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg-5 .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg-5 .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-svg-5 .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-svg-5 .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-svg-5 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-svg-5 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg-5 .cluster text{fill:#333;}#mermaid-svg-5 .cluster span{color:#333;}#mermaid-svg-5 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-5 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-svg-5 rect.text{fill:none;stroke-width:0;}#mermaid-svg-5 .icon-shape,#mermaid-svg-5 .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-svg-5 .icon-shape p,#mermaid-svg-5 .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-svg-5 .icon-shape rect,#mermaid-svg-5 .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-svg-5 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-svg-5 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-svg-5 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker id="mermaid-svg-5_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-5_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-5_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-5_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-5_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-5_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"><g class="cluster" id="Outputs" data-look="classic"><rect style="" x="803.328125" y="798" width="764.625" height="128"/><g class="cluster-label" transform="translate(1157.46875, 798)"><foreignObject width="56.34375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Outputs</p></span></div></foreignObject></g></g><g class="cluster" id="subGraph2" data-look="classic"><rect style="" x="8" y="467" width="768.578125" height="128"/><g class="cluster-label" transform="translate(334.21875, 467)"><foreignObject width="116.140625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Document Types</p></span></div></foreignObject></g></g><g class="cluster" id="subGraph1" data-look="classic"><rect style="" x="796.578125" y="186" width="778.75390625" height="562"/><g class="cluster-label" transform="translate(1114.978515625, 186)"><foreignObject width="141.953125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Agent Documenteur</p></span></div></foreignObject></g></g><g class="cluster" id="Inputs" data-look="classic"><rect style="" x="799.8203125" y="8" width="801.78125" height="128"/><g class="cluster-label" transform="translate(1178.875, 8)"><foreignObject width="43.671875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Inputs</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M909.078,99L909.078,105.167C909.078,111.333,909.078,123.667,909.078,134C909.078,144.333,909.078,152.667,909.078,161C909.078,169.333,909.078,177.667,937.595,188.275C966.112,198.883,1023.146,211.765,1051.663,218.207L1080.18,224.648" id="L_CODE_ADOC_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-5_flowchart-v2-pointEnd)"/><path d="M1112.078,99L1112.078,105.167C1112.078,111.333,1112.078,123.667,1112.078,134C1112.078,144.333,1112.078,152.667,1112.078,161C1112.078,169.333,1112.078,177.667,1116.787,185.585C1121.496,193.503,1130.914,201.005,1135.623,204.756L1140.332,208.508" id="L_API_ADOC_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-5_flowchart-v2-pointEnd)"/><path d="M1315.773,111L1315.773,115.167C1315.773,119.333,1315.773,127.667,1315.773,136C1315.773,144.333,1315.773,152.667,1315.773,161C1315.773,169.333,1315.773,177.667,1308.334,185.693C1300.895,193.719,1286.017,201.439,1278.577,205.298L1271.138,209.158" id="L_ARCH_ADOC_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-5_flowchart-v2-pointEnd)"/><path d="M1503.664,111L1503.664,115.167C1503.664,119.333,1503.664,127.667,1503.664,136C1503.664,144.333,1503.664,152.667,1503.664,161C1503.664,169.333,1503.664,177.667,1470.499,188.653C1437.333,199.639,1371.003,213.279,1337.837,220.098L1304.672,226.918" id="L_DECIS_ADOC_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-5_flowchart-v2-pointEnd)"/><path d="M1192.418,289L1192.418,293.167C1192.418,297.333,1192.418,305.667,1192.418,313.333C1192.418,321,1192.418,328,1192.418,331.5L1192.418,335" id="L_ADOC_GEN_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-5_flowchart-v2-pointEnd)"/><path d="M1228.98,417L1232.887,421.167C1236.793,425.333,1244.605,433.667,1248.512,442C1252.418,450.333,1252.418,458.667,1252.418,466.333C1252.418,474,1252.418,481,1252.418,484.5L1252.418,488" id="L_GEN_VAL_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-5_flowchart-v2-pointEnd)"/><path d="M1252.418,570L1252.418,574.167C1252.418,578.333,1252.418,586.667,1252.418,595C1252.418,603.333,1252.418,611.667,1252.418,619.333C1252.418,627,1252.418,634,1252.418,637.5L1252.418,641" id="L_VAL_UPD_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-5_flowchart-v2-pointEnd)"/><path d="M1129.059,390.134L1083.923,398.779C1038.788,407.423,948.517,424.711,903.382,437.522C858.246,450.333,858.246,458.667,751.169,472.21C644.091,485.753,429.936,504.507,322.859,513.884L215.782,523.26" id="L_GEN_API_DOC_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-5_flowchart-v2-pointEnd)"/><path d="M1129.059,390.907L1087.257,399.422C1045.454,407.938,961.85,424.969,920.048,437.651C878.246,450.333,878.246,458.667,793.128,472.465C708.01,486.264,537.773,505.528,452.655,515.16L367.537,524.792" id="L_GEN_USER_G_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-5_flowchart-v2-pointEnd)"/><path d="M1129.059,403.056L1112.645,409.546C1096.232,416.037,1063.405,429.019,1046.992,439.676C1030.578,450.333,1030.578,458.667,950.449,472.143C870.319,485.618,710.06,504.237,629.931,513.546L549.801,522.855" id="L_GEN_DEV_G_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-5_flowchart-v2-pointEnd)"/><path d="M1129.059,413.258L1120.451,418.049C1111.842,422.839,1094.626,432.419,1086.018,441.376C1077.41,450.333,1077.41,458.667,1022.097,471.495C966.783,484.323,856.157,501.646,800.843,510.308L745.53,518.97" id="L_GEN_DEPLOY_G_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-5_flowchart-v2-pointEnd)"/><path d="M1194.762,695.192L1149.423,703.994C1104.083,712.795,1013.405,730.397,968.066,743.365C922.727,756.333,922.727,764.667,922.727,773C922.727,781.333,922.727,789.667,922.727,797.333C922.727,805,922.727,812,922.727,815.5L922.727,819" id="L_UPD_DOCS_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-5_flowchart-v2-pointEnd)"/><path d="M1194.762,711.809L1182.256,717.841C1169.75,723.873,1144.738,735.936,1132.232,746.135C1119.727,756.333,1119.727,764.667,1119.727,773C1119.727,781.333,1119.727,789.667,1119.727,797.333C1119.727,805,1119.727,812,1119.727,815.5L1119.727,819" id="L_UPD_DIAGS_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-5_flowchart-v2-pointEnd)"/><path d="M1280.871,723L1283.91,727.167C1286.95,731.333,1293.03,739.667,1296.07,748C1299.109,756.333,1299.109,764.667,1299.109,773C1299.109,781.333,1299.109,789.667,1299.109,799.333C1299.109,809,1299.109,820,1299.109,825.5L1299.109,831" id="L_UPD_CHANGELOG_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-5_flowchart-v2-pointEnd)"/><path d="M1310.074,700.621L1337.465,708.518C1364.857,716.414,1419.639,732.207,1447.031,744.27C1474.422,756.333,1474.422,764.667,1474.422,773C1474.422,781.333,1474.422,789.667,1474.422,797.333C1474.422,805,1474.422,812,1474.422,815.5L1474.422,819" id="L_UPD_README_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-5_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-CODE-0" transform="translate(909.078125, 72)"><rect class="basic label-container" style="" x="-74.2578125" y="-27" width="148.515625" height="54"/><g class="label" style="" transform="translate(-44.2578125, -12)"><rect/><foreignObject width="88.515625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Source Code</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-API-1" transform="translate(1112.078125, 72)"><rect class="basic label-container" style="" x="-78.7421875" y="-27" width="157.484375" height="54"/><g class="label" style="" transform="translate(-48.7421875, -12)"><rect/><foreignObject width="97.484375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>API Endpoints</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-ARCH-2" transform="translate(1315.7734375, 72)"><rect class="basic label-container" style="" x="-74.953125" y="-39" width="149.90625" height="78"/><g class="label" style="" transform="translate(-44.953125, -24)"><rect/><foreignObject width="89.90625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Architecture<br />Docs</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-DECIS-3" transform="translate(1503.6640625, 72)"><rect class="basic label-container" style="" x="-62.9375" y="-39" width="125.875" height="78"/><g class="label" style="" transform="translate(-32.9375, -24)"><rect/><foreignObject width="65.875" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Design<br />Decisions</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-ADOC-4" transform="translate(1192.41796875, 250)"><rect class="basic label-container" style="" x="-108.3359375" y="-39" width="216.671875" height="78"/><g class="label" style="" transform="translate(-78.3359375, -24)"><rect/><foreignObject width="156.671875" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Analyse<br />Documentation Needs</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-GEN-5" transform="translate(1192.41796875, 378)"><rect class="basic label-container" style="" x="-63.359375" y="-39" width="126.71875" height="78"/><g class="label" style="" transform="translate(-33.359375, -24)"><rect/><foreignObject width="66.71875" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Generate<br />Content</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-VAL-6" transform="translate(1252.41796875, 531)"><rect class="basic label-container" style="" x="-79.6484375" y="-39" width="159.296875" height="78"/><g class="label" style="" transform="translate(-49.6484375, -24)"><rect/><foreignObject width="99.296875" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Validate<br />Completeness</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-UPD-7" transform="translate(1252.41796875, 684)"><rect class="basic label-container" style="" x="-57.65625" y="-39" width="115.3125" height="78"/><g class="label" style="" transform="translate(-27.65625, -24)"><rect/><foreignObject width="55.3125" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Update<br />Existing</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-API_DOC-8" transform="translate(127.3984375, 531)"><rect class="basic label-container" style="" x="-84.3984375" y="-39" width="168.796875" height="78"/><g class="label" style="" transform="translate(-54.3984375, -24)"><rect/><foreignObject width="108.796875" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>API<br />Documentation</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-USER_G-9" transform="translate(312.6796875, 531)"><rect class="basic label-container" style="" x="-50.8828125" y="-39" width="101.765625" height="78"/><g class="label" style="" transform="translate(-20.8828125, -24)"><rect/><foreignObject width="41.765625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>User<br />Guide</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-DEV_G-10" transform="translate(479.6953125, 531)"><rect class="basic label-container" style="" x="-66.1328125" y="-39" width="132.265625" height="78"/><g class="label" style="" transform="translate(-36.1328125, -24)"><rect/><foreignObject width="72.265625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Developer<br />Guide</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-DEPLOY_G-11" transform="translate(668.703125, 531)"><rect class="basic label-container" style="" x="-72.875" y="-39" width="145.75" height="78"/><g class="label" style="" transform="translate(-42.875, -24)"><rect/><foreignObject width="85.75" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Deployment<br />Guide</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-DOCS-12" transform="translate(922.7265625, 862)"><rect class="basic label-container" style="" x="-84.3984375" y="-39" width="168.796875" height="78"/><g class="label" style="" transform="translate(-54.3984375, -24)"><rect/><foreignObject width="108.796875" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Complete<br />Documentation</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-DIAGS-13" transform="translate(1119.7265625, 862)"><rect class="basic label-container" style="" x="-62.6015625" y="-39" width="125.203125" height="78"/><g class="label" style="" transform="translate(-32.6015625, -24)"><rect/><foreignObject width="65.203125" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Updated<br />Diagrams</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-CHANGELOG-14" transform="translate(1299.109375, 862)"><rect class="basic label-container" style="" x="-66.78125" y="-27" width="133.5625" height="54"/><g class="label" style="" transform="translate(-36.78125, -12)"><rect/><foreignObject width="73.5625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Changelog</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-README-15" transform="translate(1474.421875, 862)"><rect class="basic label-container" style="" x="-58.53125" y="-39" width="117.0625" height="78"/><g class="label" style="" transform="translate(-28.53125, -24)"><rect/><foreignObject width="57.0625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>README<br />Files</p></span></div></foreignObject></g></g></g></g></g></svg>

============================================================
FICHIER: install-prerequis.ps1
TAILLE: 19.36 KB
============================================================

00001: # =============================================================================
00002: # install-prerequis.ps1 - Script d'installation des prérequis
00003: # Version corrigée et améliorée
00004: # =============================================================================
00005: 
00006: # Définition des variables au début pour une meilleure maintenance
00007: $global:isAdmin = $false
00008: $global:venvPath = "venv"
00009: $global:requirementsFile = "requirements.txt"
00010: $global:ollamaVersion = "latest"
00011: $global:nodeVersion = "18.x"  # Version LTS recommandée
00012: 
00013: # Configuration du script
00014: $ErrorActionPreference = "Stop"
00015: $ProgressPreference = 'SilentlyContinue'
00016: 
00017: # -----------------------------------------------------------------------------
00018: # Fonction : Test-Administrator
00019: # Description : Vérifie si le script est exécuté en tant qu'administrateur
00020: # -----------------------------------------------------------------------------
00021: function Test-Administrator {
00022:     try {
00023:         $identity = [Security.Principal.WindowsIdentity]::GetCurrent()
00024:         $principal = New-Object Security.Principal.WindowsPrincipal($identity)
00025:         return $principal.IsInRole([Security.Principal.WindowsBuiltInRole]::Administrator)
00026:     }
00027:     catch {
00028:         Write-Host "Impossible de vérifier les droits administrateur: $_" -ForegroundColor Yellow
00029:         return $false
00030:     }
00031: }
00032: 
00033: # -----------------------------------------------------------------------------
00034: # Fonction : Install-Chocolatey
00035: # Description : Installe Chocolatey si nécessaire
00036: # -----------------------------------------------------------------------------
00037: function Install-Chocolatey {
00038:     Write-Host "`n[1/7] Vérification de Chocolatey..." -ForegroundColor Green
00039:     
00040:     if (Get-Command choco -ErrorAction SilentlyContinue) {
00041:         Write-Host "✓ Chocolatey est déjà installé" -ForegroundColor Cyan
00042:         return $true
00043:     }
00044:     
00045:     Write-Host "Installation de Chocolatey..." -ForegroundColor Yellow
00046:     
00047:     try {
00048:         # Méthode officielle d'installation
00049:         Set-ExecutionPolicy Bypass -Scope Process -Force
00050:         [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072
00051:         Invoke-Expression ((New-Object System.Net.WebClient).DownloadString('https://community.chocolatey.org/install.ps1'))
00052:         
00053:         # Ajout au PATH pour la session courante
00054:         $env:Path = [System.Environment]::GetEnvironmentVariable("Path","Machine") + ";" + [System.Environment]::GetEnvironmentVariable("Path","User")
00055:         
00056:         Write-Host "✓ Chocolatey installé avec succès" -ForegroundColor Green
00057:         return $true
00058:     }
00059:     catch {
00060:         Write-Host "✗ Échec de l'installation de Chocolatey: $_" -ForegroundColor Red
00061:         return $false
00062:     }
00063: }
00064: 
00065: # -----------------------------------------------------------------------------
00066: # Fonction : Install-PythonWithChoco
00067: # Description : Installe Python via Chocolatey
00068: # -----------------------------------------------------------------------------
00069: function Install-PythonWithChoco {
00070:     Write-Host "`n[2/7] Installation de Python..." -ForegroundColor Green
00071:     
00072:     if (Get-Command python -ErrorAction SilentlyContinue) {
00073:         $version = & python --version 2>&1
00074:         Write-Host "✓ Python déjà installé: $version" -ForegroundColor Cyan
00075:         
00076:         # Vérification de la version
00077:         if ($version -match "Python 3\.(7|8|9|10|11|12)") {
00078:             return $true
00079:         } else {
00080:             Write-Host "Version de Python obsolète, mise à jour..." -ForegroundColor Yellow
00081:         }
00082:     }
00083:     
00084:     try {
00085:         Write-Host "Installation de Python 3.11 (recommandé)..." -ForegroundColor Yellow
00086:         choco install python311 -y --no-progress
00087:         
00088:         # Rafraîchir le PATH
00089:         refreshenv
00090:         
00091:         # Vérification
00092:         $pythonCheck = & python --version 2>&1
00093:         if ($LASTEXITCODE -eq 0) {
00094:             Write-Host "✓ Python installé: $pythonCheck" -ForegroundColor Green
00095:             return $true
00096:         } else {
00097:             throw "Python non détecté après installation"
00098:         }
00099:     }
00100:     catch {
00101:         Write-Host "✗ Échec de l'installation de Python: $_" -ForegroundColor Red
00102:         
00103:         # Solution de secours
00104:         Write-Host "Tentative d'installation via le web..." -ForegroundColor Yellow
00105:         try {
00106:             $pythonInstaller = "https://www.python.org/ftp/python/3.11.4/python-3.11.4-amd64.exe"
00107:             $installerPath = "$env:TEMP\python-installer.exe"
00108:             
00109:             Invoke-WebRequest -Uri $pythonInstaller -OutFile $installerPath
00110:             Start-Process -FilePath $installerPath -Args "/quiet InstallAllUsers=1 PrependPath=1" -Wait
00111:             
00112:             Write-Host "✓ Python installé via l'installateur officiel" -ForegroundColor Green
00113:             return $true
00114:         }
00115:         catch {
00116:             Write-Host "✗ Échec de toutes les méthodes d'installation Python" -ForegroundColor Red
00117:             return $false
00118:         }
00119:     }
00120: }
00121: 
00122: # -----------------------------------------------------------------------------
00123: # Fonction : Install-NodeWithChoco
00124: # Description : Installe Node.js via Chocolatey
00125: # -----------------------------------------------------------------------------
00126: function Install-NodeWithChoco {
00127:     Write-Host "`n[3/7] Installation de Node.js..." -ForegroundColor Green
00128:     
00129:     if (Get-Command node -ErrorAction SilentlyContinue) {
00130:         $version = & node --version 2>&1
00131:         Write-Host "✓ Node.js déjà installé: $version" -ForegroundColor Cyan
00132:         return $true
00133:     }
00134:     
00135:     try {
00136:         Write-Host "Installation de Node.js LTS..." -ForegroundColor Yellow
00137:         choco install nodejs-lts -y --no-progress
00138:         
00139:         # Rafraîchir le PATH
00140:         refreshenv
00141:         
00142:         # Vérification
00143:         $nodeCheck = & node --version 2>&1
00144:         $npmCheck = & npm --version 2>&1
00145:         
00146:         if ($LASTEXITCODE -eq 0) {
00147:             Write-Host "✓ Node.js installé: $nodeCheck" -ForegroundColor Green
00148:             Write-Host "✓ NPM installé: $npmCheck" -ForegroundColor Green
00149:             return $true
00150:         } else {
00151:             throw "Node.js non détecté après installation"
00152:         }
00153:     }
00154:     catch {
00155:         Write-Host "✗ Échec de l'installation de Node.js: $_" -ForegroundColor Red
00156:         return $false
00157:     }
00158: }
00159: 
00160: # -----------------------------------------------------------------------------
00161: # Fonction : Install-Ollama
00162: # Description : Installe Ollama pour les modèles IA
00163: # -----------------------------------------------------------------------------
00164: function Install-Ollama {
00165:     Write-Host "`n[4/7] Installation d'Ollama..." -ForegroundColor Green
00166:     
00167:     # Vérifier si Ollama est déjà installé
00168:     if (Get-Command ollama -ErrorAction SilentlyContinue) {
00169:         $version = & ollama --version 2>&1
00170:         Write-Host "✓ Ollama déjà installé: $version" -ForegroundColor Cyan
00171:         return $true
00172:     }
00173:     
00174:     try {
00175:         Write-Host "Téléchargement et installation d'Ollama..." -ForegroundColor Yellow
00176:         
00177:         # Télécharger l'installateur Windows
00178:         $ollamaURL = "https://ollama.com/download/OllamaSetup.exe"
00179:         $installerPath = "$env:TEMP\OllamaSetup.exe"
00180:         
00181:         # Téléchargement avec barre de progression
00182:         Write-Host "Téléchargement en cours..." -ForegroundColor Yellow
00183:         Invoke-WebRequest -Uri $ollamaURL -OutFile $installerPath -UseBasicParsing
00184:         
00185:         # Installation silencieuse
00186:         Write-Host "Installation en cours..." -ForegroundColor Yellow
00187:         Start-Process -FilePath $installerPath -Args "/S" -Wait
00188:         
00189:         # Attendre que le service soit prêt
00190:         Start-Sleep -Seconds 10
00191:         
00192:         # Vérification
00193:         if (Get-Command ollama -ErrorAction SilentlyContinue) {
00194:             Write-Host "✓ Ollama installé avec succès" -ForegroundColor Green
00195:             
00196:             # Démarrer le service
00197:             Write-Host "Démarrage du service Ollama..." -ForegroundColor Yellow
00198:             Start-Process "ollama" -ArgumentList "serve" -WindowStyle Hidden
00199:             
00200:             # Télécharger un modèle léger pour test
00201:             Write-Host "Téléchargement du modèle de test (tinyllama)..." -ForegroundColor Yellow
00202:             Start-Process "ollama" -ArgumentList "pull tinyllama" -NoNewWindow -Wait
00203:             
00204:             return $true
00205:         } else {
00206:             throw "Ollama non détecté après installation"
00207:         }
00208:     }
00209:     catch {
00210:         Write-Host "✗ Échec de l'installation d'Ollama: $_" -ForegroundColor Red
00211:         Write-Host "Vous pouvez l'installer manuellement depuis: https://ollama.com" -ForegroundColor Yellow
00212:         return $false
00213:     }
00214: }
00215: 
00216: # -----------------------------------------------------------------------------
00217: # Fonction : Setup-PythonEnvironment
00218: # Description : Configure l'environnement virtuel Python
00219: # -----------------------------------------------------------------------------
00220: function Setup-PythonEnvironment {
00221:     Write-Host "`n[5/7] Configuration de l'environnement Python..." -ForegroundColor Green
00222:     
00223:     # Vérifier si venv existe déjà
00224:     if (Test-Path $venvPath) {
00225:         Write-Host "✓ Environnement virtuel déjà existant" -ForegroundColor Cyan
00226:         
00227:         # Vérifier s'il est actif
00228:         if ($env:VIRTUAL_ENV) {
00229:             Write-Host "✓ Environnement virtuel déjà activé" -ForegroundColor Cyan
00230:         } else {
00231:             # Activer l'environnement
00232:             & "$venvPath\Scripts\Activate.ps1"
00233:         }
00234:     } else {
00235:         try {
00236:             # Créer l'environnement virtuel
00237:             Write-Host "Création de l'environnement virtuel..." -ForegroundColor Yellow
00238:             python -m venv $venvPath
00239:             
00240:             # Activer l'environnement
00241:             & "$venvPath\Scripts\Activate.ps1"
00242:             
00243:             Write-Host "✓ Environnement virtuel créé et activé" -ForegroundColor Green
00244:         }
00245:         catch {
00246:             Write-Host "✗ Échec de la création de l'environnement virtuel: $_" -ForegroundColor Red
00247:             return $false
00248:         }
00249:     }
00250:     
00251:     # Mettre à jour pip
00252:     try {
00253:         Write-Host "Mise à jour de pip..." -ForegroundColor Yellow
00254:         python -m pip install --upgrade pip
00255:         Write-Host "✓ Pip mis à jour" -ForegroundColor Green
00256:     }
00257:     catch {
00258:         Write-Host "✗ Échec de la mise à jour de pip: $_" -ForegroundColor Red
00259:     }
00260:     
00261:     return $true
00262: }
00263: 
00264: # -----------------------------------------------------------------------------
00265: # Fonction : Install-PythonDependencies
00266: # Description : Installe les dépendances Python depuis requirements.txt
00267: # -----------------------------------------------------------------------------
00268: function Install-PythonDependencies {
00269:     Write-Host "`n[6/7] Installation des dépendances Python..." -ForegroundColor Green
00270:     
00271:     if (-not (Test-Path $requirementsFile)) {
00272:         Write-Host "✗ Fichier $requirementsFile non trouvé" -ForegroundColor Red
00273:         
00274:         # Créer un fichier requirements.txt minimal
00275:         Write-Host "Création d'un fichier requirements.txt minimal..." -ForegroundColor Yellow
00276:         @"
00277: # Dépendances minimales pour SmartContractPipeline
00278: fastapi>=0.104.0
00279: uvicorn[standard]>=0.24.0
00280: pydantic>=2.4.0
00281: python-dotenv>=1.0.0
00282: requests>=2.31.0
00283: web3>=6.10.0
00284: "@ | Out-File -FilePath $requirementsFile -Encoding UTF8
00285:         
00286:         Write-Host "✓ Fichier $requirementsFile créé" -ForegroundColor Green
00287:     }
00288:     
00289:     try {
00290:         Write-Host "Installation des dépendances..." -ForegroundColor Yellow
00291:         pip install -r $requirementsFile
00292:         
00293:         # Installation de dépendances optionnelles utiles
00294:         Write-Host "Installation de dépendances supplémentaires..." -ForegroundColor Yellow
00295:         pip install pytest pytest-asyncio black isort mypy
00296:         
00297:         Write-Host "✓ Dépendances installées avec succès" -ForegroundColor Green
00298:         return $true
00299:     }
00300:     catch {
00301:         Write-Host "✗ Échec de l'installation des dépendances: $_" -ForegroundColor Red
00302:         
00303:         # Essayer avec pip install individuel
00304:         Write-Host "Tentative d'installation des packages essentiels..." -ForegroundColor Yellow
00305:         try {
00306:             pip install fastapi uvicorn web3
00307:             Write-Host "✓ Packages essentiels installés" -ForegroundColor Green
00308:             return $true
00309:         }
00310:         catch {
00311:             Write-Host "✗ Échec de l'installation des packages essentiels" -ForegroundColor Red
00312:             return $false
00313:         }
00314:     }
00315: }
00316: 
00317: # -----------------------------------------------------------------------------
00318: # Fonction : Test-Installations
00319: # Description : Vérifie que toutes les installations fonctionnent
00320: # -----------------------------------------------------------------------------
00321: function Test-Installations {
00322:     Write-Host "`n[7/7] Validation des installations..." -ForegroundColor Green
00323:     
00324:     $tests = @(
00325:         @{Name="Python"; Command="python --version"; MinVersion="3.7"},
00326:         @{Name="Node.js"; Command="node --version"; MinVersion="v18"},
00327:         @{Name="NPM"; Command="npm --version"; MinVersion="8"},
00328:         @{Name="Ollama"; Command="ollama --version"; Optional=$true}
00329:     )
00330:     
00331:     $allPassed = $true
00332:     
00333:     foreach ($test in $tests) {
00334:         try {
00335:             $output = Invoke-Expression $test.Command 2>&1
00336:             $success = $LASTEXITCODE -eq 0
00337:             
00338:             if ($success -or ($test.Optional -and -not $success)) {
00339:                 $color = if ($test.Optional -and -not $success) { "Yellow" } else { "Green" }
00340:                 $status = if ($test.Optional -and -not $success) { "⚠ Optionnel" } else { "✓ OK" }
00341:                 Write-Host "$status $($test.Name): $output" -ForegroundColor $color
00342:             } else {
00343:                 Write-Host "✗ $($test.Name): Non disponible" -ForegroundColor Red
00344:                 $allPassed = $false
00345:             }
00346:         }
00347:         catch {
00348:             if ($test.Optional) {
00349:                 Write-Host "⚠ $($test.Name): Optionnel non installé" -ForegroundColor Yellow
00350:             } else {
00351:                 Write-Host "✗ $($test.Name): Erreur de test" -ForegroundColor Red
00352:                 $allPassed = $false
00353:             }
00354:         }
00355:     }
00356:     
00357:     # Test de l'environnement Python
00358:     try {
00359:         $pythonTest = & python -c "import sys; print(f'Python {sys.version}'); import fastapi; print('FastAPI disponible')" 2>&1
00360:         Write-Host "✓ Environnement Python: OK" -ForegroundColor Green
00361:     }
00362:     catch {
00363:         Write-Host "✗ Environnement Python: Problème avec les imports" -ForegroundColor Red
00364:         $allPassed = $false
00365:     }
00366:     
00367:     return $allPassed
00368: }
00369: 
00370: # -----------------------------------------------------------------------------
00371: # FONCTION PRINCIPALE
00372: # -----------------------------------------------------------------------------
00373: function Main {
00374:     Write-Host "`n" + ("="*60) -ForegroundColor Cyan
00375:     Write-Host "INSTALLATION DES PRÉREQUIS - SmartContractPipeline" -ForegroundColor Cyan
00376:     Write-Host "="*60 -ForegroundColor Cyan
00377:     
00378:     # 1. Vérification des droits administrateur
00379:     $global:isAdmin = Test-Administrator
00380:     
00381:     if (-not $isAdmin) {
00382:         Write-Host "`n⚠ ATTENTION: Ce script nécessite des droits administrateur" -ForegroundColor Red
00383:         Write-Host "Veuillez exécuter PowerShell en tant qu'Administrateur" -ForegroundColor Yellow
00384:         Write-Host "1. Cliquez droit sur PowerShell" -ForegroundColor Yellow
00385:         Write-Host "2. Sélectionnez 'Exécuter en tant qu'administrateur'" -ForegroundColor Yellow
00386:         Write-Host "3. Relancez ce script" -ForegroundColor Yellow
00387:         
00388:         $choice = Read-Host "`nVoulez-vous quand même continuer? (oui/non)"
00389:         if ($choice -notmatch "^(oui|yes|o|y)$") {
00390:             exit 1
00391:         }
00392:     }
00393:     
00394:     # Journalisation
00395:     $logFile = "install-prerequis-$(Get-Date -Format 'yyyyMMdd-HHmmss').log"
00396:     Start-Transcript -Path $logFile -Append
00397:     
00398:     try {
00399:         # 2. Installation des composants
00400:         $chocoInstalled = Install-Chocolatey
00401:         if (-not $chocoInstalled) {
00402:             throw "Échec de l'installation de Chocolatey"
00403:         }
00404:         
00405:         $pythonInstalled = Install-PythonWithChoco
00406:         if (-not $pythonInstalled) {
00407:             throw "Échec de l'installation de Python"
00408:         }
00409:         
00410:         $nodeInstalled = Install-NodeWithChoco
00411:         if (-not $nodeInstalled) {
00412:             Write-Host "Node.js optionnel pour certains composants" -ForegroundColor Yellow
00413:         }
00414:         
00415:         $ollamaInstalled = Install-Ollama
00416:         if (-not $ollamaInstalled) {
00417:             Write-Host "Ollama optionnel mais recommandé pour les agents IA" -ForegroundColor Yellow
00418:         }
00419:         
00420:         # 3. Configuration Python
00421:         $envSetup = Setup-PythonEnvironment
00422:         if (-not $envSetup) {
00423:             throw "Échec de la configuration de l'environnement Python"
00424:         }
00425:         
00426:         $depsInstalled = Install-PythonDependencies
00427:         if (-not $depsInstalled) {
00428:             throw "Échec de l'installation des dépendances Python"
00429:         }
00430:         
00431:         # 4. Validation finale
00432:         $testsPassed = Test-Installations
00433:         
00434:         Write-Host "`n" + ("="*60) -ForegroundColor Cyan
00435:         
00436:         if ($testsPassed) {
00437:             Write-Host "✅ INSTALLATION RÉUSSIE" -ForegroundColor Green
00438:             Write-Host "Tous les prérequis sont installés et configurés." -ForegroundColor Green
00439:             
00440:             Write-Host "`nProchaines étapes:" -ForegroundColor Yellow
00441:             Write-Host "1. Votre environnement virtuel Python est activé" -ForegroundColor White
00442:             Write-Host "2. Vous pouvez lancer le pipeline avec: python main.py" -ForegroundColor White
00443:             Write-Host "3. Pour désactiver l'environnement: deactivate" -ForegroundColor White
00444:             Write-Host "`nLog d'installation: $logFile" -ForegroundColor Gray
00445:         } else {
00446:             Write-Host "⚠ INSTALLATION PARTIELLE" -ForegroundColor Yellow
00447:             Write-Host "Certains composants ont échoué mais l'essentiel est installé." -ForegroundColor Yellow
00448:             Write-Host "Consultez le log pour plus de détails: $logFile" -ForegroundColor Gray
00449:         }
00450:         
00451:     }
00452:     catch {
00453:         Write-Host "`n❌ ERREUR CRITIQUE" -ForegroundColor Red
00454:         Write-Host "Message: $_" -ForegroundColor Red
00455:         Write-Host "Stack: $($_.ScriptStackTrace)" -ForegroundColor DarkGray
00456:         Write-Host "`nConsultez le log complet: $logFile" -ForegroundColor Yellow
00457:         
00458:         exit 1
00459:     }
00460:     finally {
00461:         Stop-Transcript
00462:         
00463:         # Afficher un résumé
00464:         Write-Host "`n" + ("-"*60) -ForegroundColor DarkGray
00465:         Write-Host "Résumé de l'installation:" -ForegroundColor Gray
00466:         Write-Host "- Python: $(if (Get-Command python -ErrorAction SilentlyContinue) {'✓'} else {'✗'})" -ForegroundColor Gray
00467:         Write-Host "- Node.js: $(if (Get-Command node -ErrorAction SilentlyContinue) {'✓'} else {'✗'})" -ForegroundColor Gray
00468:         Write-Host "- Ollama: $(if (Get-Command ollama -ErrorAction SilentlyContinue) {'✓'} else {'✗'})" -ForegroundColor Gray
00469:         Write-Host "- Environnement virtuel: $(if (Test-Path $venvPath) {'✓'} else {'✗'})" -ForegroundColor Gray
00470:         Write-Host "- Dépendances: $(if (Test-Path "$venvPath\Scripts\pip.exe") {'✓'} else {'✗'})" -ForegroundColor Gray
00471:         Write-Host "- Log: $logFile" -ForegroundColor Gray
00472:     }
00473: }
00474: 
00475: # -----------------------------------------------------------------------------
00476: # POINT D'ENTRÉE DU SCRIPT
00477: # -----------------------------------------------------------------------------
00478: 
00479: # Vérifier la version de Windows
00480: if ([Environment]::OSVersion.Version.Major -lt 10) {
00481:     Write-Host "Ce script nécessite Windows 10 ou supérieur" -ForegroundColor Red
00482:     exit 1
00483: }
00484: 
00485: # Exécuter la fonction principale
00486: Main

============================================================
FICHIER: Share.ps1
TAILLE: 18.01 KB
============================================================

00001: # SmartContractPipeline.ps1
00002: # Pipeline for Smart Contract analysis and GitHub publication
00003: 
00004: # Load configuration from JSON file
00005: function Load-Configuration {
00006:     $configPath = "project_config.json"
00007:     
00008:     if (-not (Test-Path $configPath)) {
00009:         Write-Host "ERROR: Configuration file not found: $configPath" -ForegroundColor Red
00010:         Write-Host "Please create project_config.json file" -ForegroundColor Yellow
00011:         exit 1
00012:     }
00013:     
00014:     try {
00015:         $configContent = Get-Content $configPath -Raw
00016:         $config = $configContent | ConvertFrom-Json
00017:         
00018:         # Validate required fields
00019:         if (-not $config.PROJECT_NAME -or 
00020:             -not $config.PROJECT_PATH -or 
00021:             -not $config.GITHUB_USERNAME -or 
00022:             -not $config.GITHUB_TOKEN -or 
00023:             -not $config.GITHUB_REPO_NAME) {
00024:             Write-Host "ERROR: Missing required fields in configuration" -ForegroundColor Red
00025:             exit 1
00026:         }
00027:         
00028:         # Check if token is still placeholder
00029:         if ($config.GITHUB_TOKEN -eq "ghp_**************") {
00030:             Write-Host "ERROR: GitHub token not configured" -ForegroundColor Red
00031:             Write-Host "Please update your token in project_config.json" -ForegroundColor Yellow
00032:             Write-Host "Current token value: $($config.GITHUB_TOKEN)" -ForegroundColor DarkGray
00033:             exit 1
00034:         }
00035:         
00036:         Write-Host "Configuration loaded: $($config.PROJECT_NAME)" -ForegroundColor Green
00037:         return $config
00038:     }
00039:     catch {
00040:         Write-Host "ERROR loading configuration: $_" -ForegroundColor Red
00041:         exit 1
00042:     }
00043: }
00044: 
00045: # Create complete project file with all content (excluding config file)
00046: function Create-ProjectShareFile {
00047:     Write-Host "Creating PROJECT_SHARE_COMPLETE.txt file..." -ForegroundColor Yellow
00048:     
00049:     $outputFile = Join-Path $global:config.PROJECT_PATH "PROJECT_SHARE_COMPLETE.txt"
00050:     
00051:     try {
00052:         # Header
00053:         $header = @"
00054: ===============================================================
00055: PROJECT_SHARE_COMPLETE - $(Get-Date -Format 'yyyy-MM-dd HH:mm:ss')
00056: Project: $($global:config.PROJECT_NAME)
00057: Note: project_config.json excluded for security reasons
00058: ===============================================================
00059: 
00060: "@
00061:         $header | Out-File $outputFile -Encoding UTF8
00062:         
00063:         # Get all files (exclude config file, git, node_modules, and the output file itself)
00064:         $files = Get-ChildItem -Path $global:config.PROJECT_PATH -Recurse -File -ErrorAction SilentlyContinue | 
00065:                  Where-Object {
00066:                      $_.FullName -notmatch '\\.git\\' -and
00067:                      $_.Name -notmatch 'project_config\.json$' -and
00068:                      $_.Name -notmatch 'PROJECT_SHARE_COMPLETE\.txt$' -and
00069:                      $_.FullName -notmatch '\\node_modules\\' -and
00070:                      $_.FullName -ne $outputFile
00071:                  }
00072:         
00073:         Write-Host "Files to process: $($files.Count)" -ForegroundColor Gray
00074:         Write-Host "Note: project_config.json excluded for security" -ForegroundColor Yellow
00075:         
00076:         $fileCounter = 0
00077:         $totalLines = 0
00078:         
00079:         foreach ($file in $files) {
00080:             $fileCounter++
00081:             $relativePath = $file.FullName.Substring($global:config.PROJECT_PATH.Length + 1)
00082:             
00083:             Write-Host "  [$fileCounter/$($files.Count)] Processing: $relativePath" -ForegroundColor Gray
00084:             
00085:             # File separator
00086:             $separator = @"
00087: 
00088: ===============================================================
00089: FILE: $relativePath
00090: ===============================================================
00091: Full path: $($file.FullName)
00092: Size: $([math]::Round($file.Length/1KB,2)) KB
00093: Last modified: $($file.LastWriteTime.ToString('yyyy-MM-dd HH:mm:ss'))
00094: 
00095: "@
00096:             $separator | Out-File $outputFile -Encoding UTF8 -Append
00097:             
00098:             # Read file content
00099:             try {
00100:                 $content = Get-Content $file.FullName -Encoding UTF8 -ErrorAction Stop
00101:                 
00102:                 # Add content with line numbers
00103:                 for ($i = 0; $i -lt $content.Count; $i++) {
00104:                     $lineNumber = $i + 1
00105:                     $lineOutput = [string]::Format("{0,4}: {1}", $lineNumber, $content[$i])
00106:                     $lineOutput | Out-File $outputFile -Encoding UTF8 -Append
00107:                     $totalLines++
00108:                 }
00109:                 
00110:                 # Handle empty files
00111:                 if ($content.Count -eq 0) {
00112:                     "     (empty file)" | Out-File $outputFile -Encoding UTF8 -Append
00113:                 }
00114:                 
00115:                 Write-Host "    Added $($content.Count) lines" -ForegroundColor DarkGray
00116:             }
00117:             catch {
00118:                 "ERROR READING FILE: $($_.Exception.Message)" | Out-File $outputFile -Encoding UTF8 -Append
00119:                 Write-Host "    Error reading file" -ForegroundColor Red
00120:             }
00121:             
00122:             # Add blank line between files
00123:             "`n" | Out-File $outputFile -Encoding UTF8 -Append
00124:         }
00125:         
00126:         # Add note about excluded config file
00127:         $configNote = @"
00128: 
00129: ===============================================================
00130: NOTE: CONFIGURATION FILE EXCLUDED
00131: ===============================================================
00132: For security reasons, project_config.json is not included in this report.
00133: This file contains sensitive information like GitHub tokens.
00134: 
00135: To view the project configuration, check the original project_config.json file.
00136: "@
00137:         $configNote | Out-File $outputFile -Encoding UTF8 -Append
00138:         
00139:         # Footer
00140:         $footer = @"
00141: 
00142: ===============================================================
00143: SUMMARY
00144: ===============================================================
00145: Files processed: $fileCounter
00146: Total lines: $totalLines
00147: Generation date: $(Get-Date -Format 'yyyy-MM-dd HH:mm:ss')
00148: Project: $($global:config.PROJECT_NAME)
00149: Path: $($global:config.PROJECT_PATH)
00150: 
00151: ===============================================================
00152: END OF REPORT
00153: ===============================================================
00154: "@
00155:         $footer | Out-File $outputFile -Encoding UTF8 -Append
00156:         
00157:         Write-Host "===============================================================" -ForegroundColor Green
00158:         Write-Host "FILE CREATED SUCCESSFULLY" -ForegroundColor Green
00159:         Write-Host "===============================================================" -ForegroundColor Green
00160:         Write-Host "File: $outputFile" -ForegroundColor Cyan
00161:         Write-Host "Files included: $fileCounter" -ForegroundColor Cyan
00162:         Write-Host "Total lines: $totalLines" -ForegroundColor Cyan
00163:         
00164:         return $true, $outputFile
00165:     }
00166:     catch {
00167:         Write-Host "ERROR creating file: $_" -ForegroundColor Red
00168:         return $false, $null
00169:     }
00170: }
00171: 
00172: # Publish to GitHub
00173: function Publish-ToGitHub {
00174:     Write-Host "===============================================================" -ForegroundColor Cyan
00175:     Write-Host "PUBLISHING TO GITHUB" -ForegroundColor Yellow
00176:     Write-Host "===============================================================" -ForegroundColor Cyan
00177:     
00178:     # Check if GitHub token is configured
00179:     if ($global:config.GITHUB_TOKEN -eq "ghp_**************") {
00180:         Write-Host "ERROR: GitHub token not configured" -ForegroundColor Red
00181:         Write-Host "Please update your token in project_config.json" -ForegroundColor Yellow
00182:         return $false
00183:     }
00184:     
00185:     # Check if git is installed
00186:     try {
00187:         $gitVersion = git --version 2>$null
00188:         if (-not $gitVersion) {
00189:             throw "Git not found"
00190:         }
00191:         Write-Host "Git detected" -ForegroundColor Green
00192:     }
00193:     catch {
00194:         Write-Host "ERROR: Git is not installed or not in PATH" -ForegroundColor Red
00195:         return $false
00196:     }
00197:     
00198:     # Save current directory
00199:     $originalLocation = Get-Location
00200:     
00201:     try {
00202:         # Navigate to project directory
00203:         if (Test-Path $global:config.PROJECT_PATH) {
00204:             Set-Location $global:config.PROJECT_PATH
00205:             Write-Host "Directory: $(Get-Location)" -ForegroundColor Gray
00206:         }
00207:         else {
00208:             Write-Host "ERROR: Project path not found: $($global:config.PROJECT_PATH)" -ForegroundColor Red
00209:             return $false
00210:         }
00211:         
00212:         # Check if git repository exists
00213:         $isGitRepo = Test-Path ".git"
00214:         
00215:         if (-not $isGitRepo) {
00216:             Write-Host "Initializing git repository..." -ForegroundColor Yellow
00217:             git init
00218:             git config user.email "pipeline@poolsyncdefi.com"
00219:             git config user.name "PoolSync DeFi Pipeline"
00220:             Write-Host "Git repository initialized" -ForegroundColor Green
00221:         }
00222:         
00223:         # Check current branch
00224:         $currentBranch = git branch --show-current 2>$null
00225:         if ([string]::IsNullOrWhiteSpace($currentBranch)) {
00226:             Write-Host "No branch exists, creating 'master' branch..." -ForegroundColor Yellow
00227:             # Create an initial empty commit to establish branch
00228:             git commit --allow-empty -m "Initial empty commit"
00229:             git branch -M master 2>$null
00230:             $currentBranch = "master"
00231:         }
00232:         
00233:         Write-Host "Current branch: $currentBranch" -ForegroundColor Green
00234:         
00235:         # Create .gitignore file if it doesn't exist
00236:         if (-not (Test-Path ".gitignore")) {
00237:             Write-Host "Creating .gitignore file..." -ForegroundColor Yellow
00238:             $gitignoreContent = @"
00239: # Exclude sensitive configuration files
00240: project_config.json
00241: *.env
00242: *.secret
00243: *credentials*
00244: 
00245: # Exclude temporary files
00246: *.tmp
00247: *.temp
00248: *.log
00249: 
00250: # Exclude system files
00251: Thumbs.db
00252: .DS_Store
00253: 
00254: # Exclude large files
00255: *.zip
00256: *.rar
00257: *.7z
00258: 
00259: # Exclude build directories
00260: dist/
00261: build/
00262: node_modules/
00263: "@
00264:             $gitignoreContent | Out-File ".gitignore" -Encoding UTF8 -Force
00265:             Write-Host ".gitignore file created" -ForegroundColor Green
00266:         }
00267:         else {
00268:             Write-Host ".gitignore file already exists" -ForegroundColor Gray
00269:         }
00270:         
00271:         # Check if there are any changes
00272:         Write-Host "Checking for changes..." -ForegroundColor Yellow
00273:         git add .
00274:         $status = git status --porcelain
00275:         
00276:         if ([string]::IsNullOrWhiteSpace($status)) {
00277:             Write-Host "No changes to commit" -ForegroundColor Gray
00278:             Write-Host "Creating a timestamp file to have something to commit..." -ForegroundColor Yellow
00279:             
00280:             # Create a timestamp file
00281:             $timestampFile = "LAST_UPDATE_$(Get-Date -Format 'yyyyMMdd_HHmmss').txt"
00282:             "Last pipeline update: $(Get-Date -Format 'yyyy-MM-dd HH:mm:ss')" | Out-File $timestampFile -Encoding UTF8
00283:             git add $timestampFile
00284:             Write-Host "Created timestamp file: $timestampFile" -ForegroundColor Gray
00285:         }
00286:         
00287:         # Commit changes
00288:         $commitMessage = "Pipeline update - $(Get-Date -Format 'yyyy-MM-dd HH:mm:ss')"
00289:         Write-Host "Committing changes: $commitMessage" -ForegroundColor Yellow
00290:         git commit -m $commitMessage
00291:         Write-Host "Changes committed locally" -ForegroundColor Green
00292:         
00293:         # Set remote URL
00294:         $remoteUrl = "https://$($global:config.GITHUB_TOKEN)@github.com/$($global:config.GITHUB_USERNAME)/$($global:config.GITHUB_REPO_NAME).git"
00295:         
00296:         # Check if remote exists
00297:         $remotes = git remote -v 2>$null
00298:         if ($remotes -match "origin") {
00299:             Write-Host "Remote origin exists, updating URL..." -ForegroundColor Gray
00300:             git remote set-url origin $remoteUrl
00301:         }
00302:         else {
00303:             Write-Host "Adding remote origin..." -ForegroundColor Yellow
00304:             git remote add origin $remoteUrl
00305:             Write-Host "Remote origin added" -ForegroundColor Green
00306:         }
00307:         
00308:         # First, pull any changes from remote
00309:         Write-Host "Pulling latest changes from GitHub..." -ForegroundColor Yellow
00310:         try {
00311:             # Try to fetch first
00312:             git fetch origin
00313:             
00314:             # Try to pull with rebase to integrate remote changes
00315:             git pull --rebase origin $currentBranch 2>&1 | Out-Null
00316:             Write-Host "Successfully pulled latest changes" -ForegroundColor Green
00317:         }
00318:         catch {
00319:             Write-Host "No existing remote branch or pull failed, continuing..." -ForegroundColor Yellow
00320:         }
00321:         
00322:         # Now push changes (without --force)
00323:         Write-Host "Pushing changes to GitHub..." -ForegroundColor Yellow
00324:         $pushResult = git push origin $currentBranch 2>&1
00325:         
00326:         if ($LASTEXITCODE -eq 0) {
00327:             Write-Host "SUCCESS: Changes pushed to GitHub" -ForegroundColor Green
00328:             
00329:             Write-Host "===============================================================" -ForegroundColor Green
00330:             Write-Host "GITHUB PUBLICATION COMPLETED SUCCESSFULLY" -ForegroundColor Green
00331:             Write-Host "===============================================================" -ForegroundColor Green
00332:             Write-Host "Repository: https://github.com/$($global:config.GITHUB_USERNAME)/$($global:config.GITHUB_REPO_NAME)" -ForegroundColor Cyan
00333:             Write-Host "Project: $($global:config.PROJECT_NAME)" -ForegroundColor Cyan
00334:             Write-Host "Branch: $currentBranch" -ForegroundColor Cyan
00335:             Write-Host "Commit: $commitMessage" -ForegroundColor Cyan
00336:             Write-Host "Time: $(Get-Date -Format 'HH:mm:ss')" -ForegroundColor Cyan
00337:             Write-Host ""
00338:             Write-Host "This commit has been ADDED to the existing history." -ForegroundColor Yellow
00339:             
00340:             return $true
00341:         }
00342:         else {
00343:             $errorMsg = $pushResult | Out-String
00344:             Write-Host "ERROR: Failed to push to GitHub" -ForegroundColor Red
00345:             Write-Host "Error: $errorMsg" -ForegroundColor DarkRed
00346:             
00347:             # If push fails due to non-fast-forward, suggest merge
00348:             if ($errorMsg -match "non-fast-forward" -or $errorMsg -match "failed to push some refs") {
00349:                 Write-Host ""
00350:                 Write-Host "SOLUTION: Remote has changes you don't have locally" -ForegroundColor Yellow
00351:                 Write-Host "Try: git pull --rebase origin $currentBranch" -ForegroundColor White
00352:                 Write-Host "Then run this script again" -ForegroundColor White
00353:             }
00354:             
00355:             return $false
00356:         }
00357:     }
00358:     catch {
00359:         Write-Host "ERROR during publication: $_" -ForegroundColor Red
00360:         return $false
00361:     }
00362:     finally {
00363:         # Return to original directory
00364:         Set-Location $originalLocation
00365:     }
00366: }
00367: 
00368: # Main function
00369: function Main {
00370:     # Display header
00371:     Write-Host "===============================================================" -ForegroundColor Cyan
00372:     Write-Host "SMART CONTRACT PIPELINE" -ForegroundColor Yellow
00373:     Write-Host "===============================================================" -ForegroundColor Cyan
00374:     Write-Host ""
00375:     
00376:     # Load configuration
00377:     $global:config = Load-Configuration
00378:     
00379:     # Display options
00380:     Write-Host "Select an option:" -ForegroundColor White
00381:     Write-Host "1. Analyze project and create complete file" -ForegroundColor Gray
00382:     Write-Host "2. Publish to GitHub (ADD commit to history)" -ForegroundColor Gray
00383:     Write-Host "3. Analyze and publish to GitHub" -ForegroundColor Gray
00384:     Write-Host "4. Exit" -ForegroundColor Gray
00385:     Write-Host ""
00386:     
00387:     $choice = Read-Host "Enter choice (1-4)"
00388:     
00389:     switch ($choice) {
00390:         "1" {
00391:             # Analyze project
00392:             Write-Host "Starting project analysis..." -ForegroundColor Yellow
00393:             $fileCreated, $outputFile = Create-ProjectShareFile
00394:             
00395:             if ($fileCreated) {
00396:                 Write-Host "Analysis completed successfully" -ForegroundColor Green
00397:             }
00398:             
00399:             Write-Host ""
00400:             Write-Host "Press any key to continue..." -ForegroundColor Gray
00401:             $null = $Host.UI.RawUI.ReadKey("NoEcho,IncludeKeyDown")
00402:             Main
00403:         }
00404:         "2" {
00405:             # Publish to GitHub
00406:             Write-Host ""
00407:             Write-Host "NOTE: This will ADD a new commit to the existing history" -ForegroundColor Yellow
00408:             Write-Host "Continue? (Y/N)" -ForegroundColor White
00409:             $confirm = Read-Host
00410:             
00411:             if ($confirm -eq "Y" -or $confirm -eq "y") {
00412:                 $success = Publish-ToGitHub
00413:             }
00414:             else {
00415:                 Write-Host "Operation cancelled" -ForegroundColor Gray
00416:             }
00417:             
00418:             Write-Host ""
00419:             Write-Host "Press any key to continue..." -ForegroundColor Gray
00420:             $null = $Host.UI.RawUI.ReadKey("NoEcho,IncludeKeyDown")
00421:             Main
00422:         }
00423:         "3" {
00424:             # Analyze and publish
00425:             Write-Host "Starting project analysis..." -ForegroundColor Yellow
00426:             $fileCreated, $outputFile = Create-ProjectShareFile
00427:             
00428:             if ($fileCreated) {
00429:                 Write-Host ""
00430:                 Write-Host "NOTE: This will ADD a new commit to the existing history" -ForegroundColor Yellow
00431:                 Write-Host "Continue with publication? (Y/N)" -ForegroundColor White
00432:                 $confirm = Read-Host
00433:                 
00434:                 if ($confirm -eq "Y" -or $confirm -eq "y") {
00435:                     Write-Host "Publishing to GitHub..." -ForegroundColor Yellow
00436:                     Publish-ToGitHub
00437:                 }
00438:                 else {
00439:                     Write-Host "Publication cancelled" -ForegroundColor Gray
00440:                 }
00441:             }
00442:             
00443:             Write-Host ""
00444:             Write-Host "Press any key to continue..." -ForegroundColor Gray
00445:             $null = $Host.UI.RawUI.ReadKey("NoEcho,IncludeKeyDown")
00446:             Main
00447:         }
00448:         "4" {
00449:             Write-Host "Goodbye!" -ForegroundColor Green
00450:             exit 0
00451:         }
00452:         default {
00453:             Write-Host "Invalid choice" -ForegroundColor Red
00454:             Write-Host ""
00455:             Write-Host "Press any key to continue..." -ForegroundColor Gray
00456:             $null = $Host.UI.RawUI.ReadKey("NoEcho,IncludeKeyDown")
00457:             Main
00458:         }
00459:     }
00460: }
00461: 
00462: # Start the script
00463: try {
00464:     Main
00465: }
00466: catch {
00467:     Write-Host "UNEXPECTED ERROR: $_" -ForegroundColor Red
00468:     Write-Host ""
00469:     Write-Host "Press any key to exit..." -ForegroundColor Gray
00470:     $null = $Host.UI.RawUI.ReadKey("NoEcho,IncludeKeyDown")
00471:     exit 1
00472: }

============================================================
FICHIER: SmartContractPipeline\agents\architure\.svg\Flux de Prévention.svg
TAILLE: 17.81 KB
============================================================

00001: <?xml version="1.0" encoding="UTF-8"?>
00002: <svg xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-2" width="100%" class="flowchart" style="max-width: 100%;" viewBox="-8.200000000000001 -8.200000000000001 1924.775 180.39999999999998" height="100%"><style>#mermaid-svg-2{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-svg-2 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-svg-2 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-svg-2 .error-icon{fill:#552222;}#mermaid-svg-2 .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-2 .edge-thickness-normal{stroke-width:1px;}#mermaid-svg-2 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-2 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-2 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-svg-2 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-2 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-2 .marker{fill:#333333;stroke:#333333;}#mermaid-svg-2 .marker.cross{stroke:#333333;}#mermaid-svg-2 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-2 p{margin:0;}#mermaid-svg-2 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg-2 .cluster-label text{fill:#333;}#mermaid-svg-2 .cluster-label span{color:#333;}#mermaid-svg-2 .cluster-label span p{background-color:transparent;}#mermaid-svg-2 .label text,#mermaid-svg-2 span{fill:#333;color:#333;}#mermaid-svg-2 .node rect,#mermaid-svg-2 .node circle,#mermaid-svg-2 .node ellipse,#mermaid-svg-2 .node polygon,#mermaid-svg-2 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg-2 .rough-node .label text,#mermaid-svg-2 .node .label text,#mermaid-svg-2 .image-shape .label,#mermaid-svg-2 .icon-shape .label{text-anchor:middle;}#mermaid-svg-2 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-svg-2 .rough-node .label,#mermaid-svg-2 .node .label,#mermaid-svg-2 .image-shape .label,#mermaid-svg-2 .icon-shape .label{text-align:center;}#mermaid-svg-2 .node.clickable{cursor:pointer;}#mermaid-svg-2 .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-svg-2 .arrowheadPath{fill:#333333;}#mermaid-svg-2 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg-2 .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg-2 .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-svg-2 .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-svg-2 .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-svg-2 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-svg-2 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg-2 .cluster text{fill:#333;}#mermaid-svg-2 .cluster span{color:#333;}#mermaid-svg-2 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-2 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-svg-2 rect.text{fill:none;stroke-width:0;}#mermaid-svg-2 .icon-shape,#mermaid-svg-2 .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-svg-2 .icon-shape p,#mermaid-svg-2 .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-svg-2 .icon-shape rect,#mermaid-svg-2 .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-svg-2 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-svg-2 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-svg-2 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-2 .prevention&gt;*{fill:#e8f5e8!important;}#mermaid-svg-2 .prevention span{fill:#e8f5e8!important;}#mermaid-svg-2 .testing&gt;*{fill:#fff3e0!important;}#mermaid-svg-2 .testing span{fill:#fff3e0!important;}#mermaid-svg-2 .validation&gt;*{fill:#fce4ec!important;}#mermaid-svg-2 .validation span{fill:#fce4ec!important;}</style><g><marker id="mermaid-svg-2_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-2_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-2_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-2_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-2_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-2_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"><g class="cluster" id="subGraph2" data-look="classic"><rect style="" x="1284.34375" y="8" width="616.03125" height="148"/><g class="cluster-label" transform="translate(1524.234375, 8)"><foreignObject width="136.25" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Étape 3: Validation</p></span></div></foreignObject></g></g><g class="cluster" id="subGraph1" data-look="classic"><rect style="" x="654.453125" y="8" width="579.890625" height="148"/><g class="cluster-label" transform="translate(870.625, 8)"><foreignObject width="147.546875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Étape 2: Test Avancé</p></span></div></foreignObject></g></g><g class="cluster" id="subGraph0" data-look="classic"><rect style="" x="8" y="8" width="596.453125" height="148"/><g class="cluster-label" transform="translate(235.4609375, 8)"><foreignObject width="141.53125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Étape 1: Prévention</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M192.344,82L196.51,82C200.677,82,209.01,82,216.677,82C224.344,82,231.344,82,234.844,82L238.344,82" id="L_S1_S2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-2_flowchart-v2-pointEnd)"/><path d="M385.5,82L389.667,82C393.833,82,402.167,82,409.833,82C417.5,82,424.5,82,428,82L431.5,82" id="L_S2_S3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-2_flowchart-v2-pointEnd)"/><path d="M579.453,82L583.62,82C587.786,82,596.12,82,604.453,82C612.786,82,621.12,82,629.453,82C637.786,82,646.12,82,653.786,82C661.453,82,668.453,82,671.953,82L675.453,82" id="L_S3_T1_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-2_flowchart-v2-pointEnd)"/><path d="M831.547,82L835.714,82C839.88,82,848.214,82,855.88,82C863.547,82,870.547,82,874.047,82L877.547,82" id="L_T1_T2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-2_flowchart-v2-pointEnd)"/><path d="M1031.891,82L1036.057,82C1040.224,82,1048.557,82,1056.224,82C1063.891,82,1070.891,82,1074.391,82L1077.891,82" id="L_T2_T3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-2_flowchart-v2-pointEnd)"/><path d="M1209.344,82L1213.51,82C1217.677,82,1226.01,82,1234.344,82C1242.677,82,1251.01,82,1259.344,82C1267.677,82,1276.01,82,1283.677,82C1291.344,82,1298.344,82,1301.844,82L1305.344,82" id="L_T3_V1_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-2_flowchart-v2-pointEnd)"/><path d="M1452.266,82L1456.432,82C1460.599,82,1468.932,82,1476.599,82C1484.266,82,1491.266,82,1494.766,82L1498.266,82" id="L_V1_V2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-2_flowchart-v2-pointEnd)"/><path d="M1681.422,82L1685.589,82C1689.755,82,1698.089,82,1705.755,82C1713.422,82,1720.422,82,1723.922,82L1727.422,82" id="L_V2_V3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-2_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default prevention" id="flowchart-S1-0" transform="translate(112.671875, 82)"><rect class="basic label-container" style="fill:#e8f5e8 !important" x="-79.671875" y="-39" width="159.34375" height="78"/><g class="label" style="" transform="translate(-49.671875, -24)"><rect/><foreignObject width="99.34375" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Spécifications<br />Formelles</p></span></div></foreignObject></g></g><g class="node default prevention" id="flowchart-S2-1" transform="translate(313.921875, 82)"><rect class="basic label-container" style="fill:#e8f5e8 !important" x="-71.578125" y="-39" width="143.15625" height="78"/><g class="label" style="" transform="translate(-41.578125, -24)"><rect/><foreignObject width="83.15625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Génération<br />de Contrats</p></span></div></foreignObject></g></g><g class="node default prevention" id="flowchart-S3-2" transform="translate(507.4765625, 82)"><rect class="basic label-container" style="fill:#e8f5e8 !important" x="-71.9765625" y="-39" width="143.953125" height="78"/><g class="label" style="" transform="translate(-41.9765625, -24)"><rect/><foreignObject width="83.953125" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Vérification<br />Statique</p></span></div></foreignObject></g></g><g class="node default testing" id="flowchart-T1-3" transform="translate(755.5, 82)"><rect class="basic label-container" style="fill:#fff3e0 !important" x="-76.046875" y="-39" width="152.09375" height="78"/><g class="label" style="" transform="translate(-46.046875, -24)"><rect/><foreignObject width="92.09375" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Fuzzing<br />Automatique</p></span></div></foreignObject></g></g><g class="node default testing" id="flowchart-T2-4" transform="translate(956.71875, 82)"><rect class="basic label-container" style="fill:#fff3e0 !important" x="-75.171875" y="-39" width="150.34375" height="78"/><g class="label" style="" transform="translate(-45.171875, -24)"><rect/><foreignObject width="90.34375" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Simulation<br />Multi-Chaîne</p></span></div></foreignObject></g></g><g class="node default testing" id="flowchart-T3-5" transform="translate(1145.6171875, 82)"><rect class="basic label-container" style="fill:#fff3e0 !important" x="-63.7265625" y="-39" width="127.453125" height="78"/><g class="label" style="" transform="translate(-33.7265625, -24)"><rect/><foreignObject width="67.453125" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Analyse<br />de Traces</p></span></div></foreignObject></g></g><g class="node default validation" id="flowchart-V1-6" transform="translate(1380.8046875, 82)"><rect class="basic label-container" style="fill:#fce4ec !important" x="-71.4609375" y="-39" width="142.921875" height="78"/><g class="label" style="" transform="translate(-41.4609375, -24)"><rect/><foreignObject width="82.921875" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Formal<br />Verification</p></span></div></foreignObject></g></g><g class="node default validation" id="flowchart-V2-7" transform="translate(1591.84375, 82)"><rect class="basic label-container" style="fill:#fce4ec !important" x="-89.578125" y="-27" width="179.15625" height="54"/><g class="label" style="" transform="translate(-59.578125, -12)"><rect/><foreignObject width="119.15625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Test d'Invariance</p></span></div></foreignObject></g></g><g class="node default validation" id="flowchart-V3-8" transform="translate(1803.3984375, 82)"><rect class="basic label-container" style="fill:#fce4ec !important" x="-71.9765625" y="-39" width="143.953125" height="78"/><g class="label" style="" transform="translate(-41.9765625, -24)"><rect/><foreignObject width="83.953125" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Vérification<br />Sécurité</p></span></div></foreignObject></g></g></g></g></g></svg>

============================================================
FICHIER: agents\architure\.svg\Flux de Prévention.svg
TAILLE: 17.81 KB
============================================================

00001: <?xml version="1.0" encoding="UTF-8"?>
00002: <svg xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-2" width="100%" class="flowchart" style="max-width: 100%;" viewBox="-8.200000000000001 -8.200000000000001 1924.775 180.39999999999998" height="100%"><style>#mermaid-svg-2{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-svg-2 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-svg-2 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-svg-2 .error-icon{fill:#552222;}#mermaid-svg-2 .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-2 .edge-thickness-normal{stroke-width:1px;}#mermaid-svg-2 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-2 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-2 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-svg-2 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-2 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-2 .marker{fill:#333333;stroke:#333333;}#mermaid-svg-2 .marker.cross{stroke:#333333;}#mermaid-svg-2 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-2 p{margin:0;}#mermaid-svg-2 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg-2 .cluster-label text{fill:#333;}#mermaid-svg-2 .cluster-label span{color:#333;}#mermaid-svg-2 .cluster-label span p{background-color:transparent;}#mermaid-svg-2 .label text,#mermaid-svg-2 span{fill:#333;color:#333;}#mermaid-svg-2 .node rect,#mermaid-svg-2 .node circle,#mermaid-svg-2 .node ellipse,#mermaid-svg-2 .node polygon,#mermaid-svg-2 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg-2 .rough-node .label text,#mermaid-svg-2 .node .label text,#mermaid-svg-2 .image-shape .label,#mermaid-svg-2 .icon-shape .label{text-anchor:middle;}#mermaid-svg-2 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-svg-2 .rough-node .label,#mermaid-svg-2 .node .label,#mermaid-svg-2 .image-shape .label,#mermaid-svg-2 .icon-shape .label{text-align:center;}#mermaid-svg-2 .node.clickable{cursor:pointer;}#mermaid-svg-2 .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-svg-2 .arrowheadPath{fill:#333333;}#mermaid-svg-2 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg-2 .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg-2 .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-svg-2 .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-svg-2 .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-svg-2 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-svg-2 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg-2 .cluster text{fill:#333;}#mermaid-svg-2 .cluster span{color:#333;}#mermaid-svg-2 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-2 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-svg-2 rect.text{fill:none;stroke-width:0;}#mermaid-svg-2 .icon-shape,#mermaid-svg-2 .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-svg-2 .icon-shape p,#mermaid-svg-2 .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-svg-2 .icon-shape rect,#mermaid-svg-2 .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-svg-2 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-svg-2 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-svg-2 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-2 .prevention&gt;*{fill:#e8f5e8!important;}#mermaid-svg-2 .prevention span{fill:#e8f5e8!important;}#mermaid-svg-2 .testing&gt;*{fill:#fff3e0!important;}#mermaid-svg-2 .testing span{fill:#fff3e0!important;}#mermaid-svg-2 .validation&gt;*{fill:#fce4ec!important;}#mermaid-svg-2 .validation span{fill:#fce4ec!important;}</style><g><marker id="mermaid-svg-2_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-2_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-2_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-2_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-2_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-2_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"><g class="cluster" id="subGraph2" data-look="classic"><rect style="" x="1284.34375" y="8" width="616.03125" height="148"/><g class="cluster-label" transform="translate(1524.234375, 8)"><foreignObject width="136.25" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Étape 3: Validation</p></span></div></foreignObject></g></g><g class="cluster" id="subGraph1" data-look="classic"><rect style="" x="654.453125" y="8" width="579.890625" height="148"/><g class="cluster-label" transform="translate(870.625, 8)"><foreignObject width="147.546875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Étape 2: Test Avancé</p></span></div></foreignObject></g></g><g class="cluster" id="subGraph0" data-look="classic"><rect style="" x="8" y="8" width="596.453125" height="148"/><g class="cluster-label" transform="translate(235.4609375, 8)"><foreignObject width="141.53125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Étape 1: Prévention</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M192.344,82L196.51,82C200.677,82,209.01,82,216.677,82C224.344,82,231.344,82,234.844,82L238.344,82" id="L_S1_S2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-2_flowchart-v2-pointEnd)"/><path d="M385.5,82L389.667,82C393.833,82,402.167,82,409.833,82C417.5,82,424.5,82,428,82L431.5,82" id="L_S2_S3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-2_flowchart-v2-pointEnd)"/><path d="M579.453,82L583.62,82C587.786,82,596.12,82,604.453,82C612.786,82,621.12,82,629.453,82C637.786,82,646.12,82,653.786,82C661.453,82,668.453,82,671.953,82L675.453,82" id="L_S3_T1_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-2_flowchart-v2-pointEnd)"/><path d="M831.547,82L835.714,82C839.88,82,848.214,82,855.88,82C863.547,82,870.547,82,874.047,82L877.547,82" id="L_T1_T2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-2_flowchart-v2-pointEnd)"/><path d="M1031.891,82L1036.057,82C1040.224,82,1048.557,82,1056.224,82C1063.891,82,1070.891,82,1074.391,82L1077.891,82" id="L_T2_T3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-2_flowchart-v2-pointEnd)"/><path d="M1209.344,82L1213.51,82C1217.677,82,1226.01,82,1234.344,82C1242.677,82,1251.01,82,1259.344,82C1267.677,82,1276.01,82,1283.677,82C1291.344,82,1298.344,82,1301.844,82L1305.344,82" id="L_T3_V1_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-2_flowchart-v2-pointEnd)"/><path d="M1452.266,82L1456.432,82C1460.599,82,1468.932,82,1476.599,82C1484.266,82,1491.266,82,1494.766,82L1498.266,82" id="L_V1_V2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-2_flowchart-v2-pointEnd)"/><path d="M1681.422,82L1685.589,82C1689.755,82,1698.089,82,1705.755,82C1713.422,82,1720.422,82,1723.922,82L1727.422,82" id="L_V2_V3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-2_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default prevention" id="flowchart-S1-0" transform="translate(112.671875, 82)"><rect class="basic label-container" style="fill:#e8f5e8 !important" x="-79.671875" y="-39" width="159.34375" height="78"/><g class="label" style="" transform="translate(-49.671875, -24)"><rect/><foreignObject width="99.34375" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Spécifications<br />Formelles</p></span></div></foreignObject></g></g><g class="node default prevention" id="flowchart-S2-1" transform="translate(313.921875, 82)"><rect class="basic label-container" style="fill:#e8f5e8 !important" x="-71.578125" y="-39" width="143.15625" height="78"/><g class="label" style="" transform="translate(-41.578125, -24)"><rect/><foreignObject width="83.15625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Génération<br />de Contrats</p></span></div></foreignObject></g></g><g class="node default prevention" id="flowchart-S3-2" transform="translate(507.4765625, 82)"><rect class="basic label-container" style="fill:#e8f5e8 !important" x="-71.9765625" y="-39" width="143.953125" height="78"/><g class="label" style="" transform="translate(-41.9765625, -24)"><rect/><foreignObject width="83.953125" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Vérification<br />Statique</p></span></div></foreignObject></g></g><g class="node default testing" id="flowchart-T1-3" transform="translate(755.5, 82)"><rect class="basic label-container" style="fill:#fff3e0 !important" x="-76.046875" y="-39" width="152.09375" height="78"/><g class="label" style="" transform="translate(-46.046875, -24)"><rect/><foreignObject width="92.09375" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Fuzzing<br />Automatique</p></span></div></foreignObject></g></g><g class="node default testing" id="flowchart-T2-4" transform="translate(956.71875, 82)"><rect class="basic label-container" style="fill:#fff3e0 !important" x="-75.171875" y="-39" width="150.34375" height="78"/><g class="label" style="" transform="translate(-45.171875, -24)"><rect/><foreignObject width="90.34375" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Simulation<br />Multi-Chaîne</p></span></div></foreignObject></g></g><g class="node default testing" id="flowchart-T3-5" transform="translate(1145.6171875, 82)"><rect class="basic label-container" style="fill:#fff3e0 !important" x="-63.7265625" y="-39" width="127.453125" height="78"/><g class="label" style="" transform="translate(-33.7265625, -24)"><rect/><foreignObject width="67.453125" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Analyse<br />de Traces</p></span></div></foreignObject></g></g><g class="node default validation" id="flowchart-V1-6" transform="translate(1380.8046875, 82)"><rect class="basic label-container" style="fill:#fce4ec !important" x="-71.4609375" y="-39" width="142.921875" height="78"/><g class="label" style="" transform="translate(-41.4609375, -24)"><rect/><foreignObject width="82.921875" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Formal<br />Verification</p></span></div></foreignObject></g></g><g class="node default validation" id="flowchart-V2-7" transform="translate(1591.84375, 82)"><rect class="basic label-container" style="fill:#fce4ec !important" x="-89.578125" y="-27" width="179.15625" height="54"/><g class="label" style="" transform="translate(-59.578125, -12)"><rect/><foreignObject width="119.15625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Test d'Invariance</p></span></div></foreignObject></g></g><g class="node default validation" id="flowchart-V3-8" transform="translate(1803.3984375, 82)"><rect class="basic label-container" style="fill:#fce4ec !important" x="-71.9765625" y="-39" width="143.953125" height="78"/><g class="label" style="" transform="translate(-41.9765625, -24)"><rect/><foreignObject width="83.953125" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Vérification<br />Sécurité</p></span></div></foreignObject></g></g></g></g></g></svg>

============================================================
FICHIER: SmartContractPipeline\agents\architure\.svg\Agent Architecte (AR).svg
TAILLE: 17.5 KB
============================================================

00001: <?xml version="1.0" encoding="UTF-8"?>
00002: <svg xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-8" width="100%" class="flowchart" style="max-width: 100%;" viewBox="-23 -23 1178.203125 506" height="100%"><style>#mermaid-svg-8{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-svg-8 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-svg-8 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-svg-8 .error-icon{fill:#552222;}#mermaid-svg-8 .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-8 .edge-thickness-normal{stroke-width:1px;}#mermaid-svg-8 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-8 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-8 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-svg-8 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-8 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-8 .marker{fill:#333333;stroke:#333333;}#mermaid-svg-8 .marker.cross{stroke:#333333;}#mermaid-svg-8 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-8 p{margin:0;}#mermaid-svg-8 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg-8 .cluster-label text{fill:#333;}#mermaid-svg-8 .cluster-label span{color:#333;}#mermaid-svg-8 .cluster-label span p{background-color:transparent;}#mermaid-svg-8 .label text,#mermaid-svg-8 span{fill:#333;color:#333;}#mermaid-svg-8 .node rect,#mermaid-svg-8 .node circle,#mermaid-svg-8 .node ellipse,#mermaid-svg-8 .node polygon,#mermaid-svg-8 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg-8 .rough-node .label text,#mermaid-svg-8 .node .label text,#mermaid-svg-8 .image-shape .label,#mermaid-svg-8 .icon-shape .label{text-anchor:middle;}#mermaid-svg-8 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-svg-8 .rough-node .label,#mermaid-svg-8 .node .label,#mermaid-svg-8 .image-shape .label,#mermaid-svg-8 .icon-shape .label{text-align:center;}#mermaid-svg-8 .node.clickable{cursor:pointer;}#mermaid-svg-8 .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-svg-8 .arrowheadPath{fill:#333333;}#mermaid-svg-8 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg-8 .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg-8 .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-svg-8 .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-svg-8 .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-svg-8 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-svg-8 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg-8 .cluster text{fill:#333;}#mermaid-svg-8 .cluster span{color:#333;}#mermaid-svg-8 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-8 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-svg-8 rect.text{fill:none;stroke-width:0;}#mermaid-svg-8 .icon-shape,#mermaid-svg-8 .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-svg-8 .icon-shape p,#mermaid-svg-8 .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-svg-8 .icon-shape rect,#mermaid-svg-8 .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-svg-8 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-svg-8 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-svg-8 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker id="mermaid-svg-8_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-8_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-8_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-8_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-8_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-8_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"><g class="cluster" id="Outputs" data-look="classic"><rect style="" x="924.296875" y="28" width="199.90625" height="404"/><g class="cluster-label" transform="translate(996.078125, 28)"><foreignObject width="56.34375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Outputs</p></span></div></foreignObject></g></g><g class="cluster" id="subGraph1" data-look="classic"><rect style="" x="291.1875" y="8" width="583.109375" height="444"/><g class="cluster-label" transform="translate(522.65625, 8)"><foreignObject width="120.171875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Agent Architecte</p></span></div></foreignObject></g></g><g class="cluster" id="Inputs" data-look="classic"><rect style="" x="8" y="38" width="233.1875" height="404"/><g class="cluster-label" transform="translate(102.7578125, 38)"><foreignObject width="43.671875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Inputs</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M203.656,112L209.911,112C216.167,112,228.677,112,239.099,112C249.521,112,257.854,112,266.188,112C274.521,112,282.854,112,297.205,126.62C311.557,141.239,331.926,170.479,342.11,185.098L352.295,199.718" id="L_REQ_AA_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-8_flowchart-v2-pointEnd)"/><path d="M216.188,240L220.354,240C224.521,240,232.854,240,241.188,240C249.521,240,257.854,240,266.188,240C274.521,240,282.854,240,290.526,239.574C298.197,239.147,305.207,238.295,308.712,237.868L312.217,237.442" id="L_TECH_AA_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-8_flowchart-v2-pointEnd)"/><path d="M183.039,368L192.73,368C202.422,368,221.805,368,235.663,368C249.521,368,257.854,368,266.188,368C274.521,368,282.854,368,297.7,350.073C312.545,332.146,333.903,296.291,344.582,278.364L355.26,260.437" id="L_EXIST_AA_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-8_flowchart-v2-pointEnd)"/><path d="M430.594,230L434.76,230C438.927,230,447.26,230,454.927,230C462.594,230,469.594,230,473.094,230L476.594,230" id="L_AA_DS_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-8_flowchart-v2-pointEnd)"/><path d="M630.5,230L634.667,230C638.833,230,647.167,230,654.833,230C662.5,230,669.5,230,673,230L676.5,230" id="L_DS_DOC_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-8_flowchart-v2-pointEnd)"/><path d="M787.975,203L802.362,186.167C816.749,169.333,845.523,135.667,864.077,118.833C882.63,102,890.964,102,899.297,102C907.63,102,915.964,102,923.63,102C931.297,102,938.297,102,941.797,102L945.297,102" id="L_DOC_ARD_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-8_flowchart-v2-pointEnd)"/><path d="M849.297,230L853.464,230C857.63,230,865.964,230,874.297,230C882.63,230,890.964,230,899.297,230C907.63,230,915.964,230,925.633,230C935.302,230,946.307,230,951.81,230L957.313,230" id="L_DOC_DSD_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-8_flowchart-v2-pointEnd)"/><path d="M787.975,257L802.362,273.833C816.749,290.667,845.523,324.333,864.077,341.167C882.63,358,890.964,358,899.297,358C907.63,358,915.964,358,924.793,358C933.622,358,942.948,358,947.611,358L952.273,358" id="L_DOC_TST_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-8_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-REQ-0" transform="translate(124.59375, 112)"><rect class="basic label-container" style="" x="-79.0625" y="-39" width="158.125" height="78"/><g class="label" style="" transform="translate(-49.0625, -24)"><rect/><foreignObject width="98.125" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Requirements<br />Business</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-TECH-1" transform="translate(124.59375, 240)"><rect class="basic label-container" style="" x="-91.59375" y="-39" width="183.1875" height="78"/><g class="label" style="" transform="translate(-61.59375, -24)"><rect/><foreignObject width="123.1875" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>TECH Constraints<br />Techniques</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-EXIST-2" transform="translate(124.59375, 368)"><rect class="basic label-container" style="" x="-58.4453125" y="-39" width="116.890625" height="78"/><g class="label" style="" transform="translate(-28.4453125, -24)"><rect/><foreignObject width="56.890625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Existing<br />Systems</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-AA-3" transform="translate(373.390625, 230)"><rect class="basic label-container" style="" x="-57.203125" y="-27" width="114.40625" height="54"/><g class="label" style="" transform="translate(-27.203125, -12)"><rect/><foreignObject width="54.40625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Analyse</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-DS-4" transform="translate(555.546875, 230)"><rect class="basic label-container" style="" x="-74.953125" y="-39" width="149.90625" height="78"/><g class="label" style="" transform="translate(-44.953125, -24)"><rect/><foreignObject width="89.90625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Décision<br />Architecture</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-DOC-5" transform="translate(764.8984375, 230)"><rect class="basic label-container" style="" x="-84.3984375" y="-27" width="168.796875" height="54"/><g class="label" style="" transform="translate(-54.3984375, -12)"><rect/><foreignObject width="108.796875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Documentation</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-ARD-6" transform="translate(1024.25, 102)"><rect class="basic label-container" style="" x="-74.953125" y="-39" width="149.90625" height="78"/><g class="label" style="" transform="translate(-44.953125, -24)"><rect/><foreignObject width="89.90625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Architecture<br />Document</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-DSD-7" transform="translate(1024.25, 230)"><rect class="basic label-container" style="" x="-62.9375" y="-39" width="125.875" height="78"/><g class="label" style="" transform="translate(-32.9375, -24)"><rect/><foreignObject width="65.875" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Design<br />Decisions</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-TST-8" transform="translate(1024.25, 358)"><rect class="basic label-container" style="" x="-67.9765625" y="-39" width="135.953125" height="78"/><g class="label" style="" transform="translate(-37.9765625, -24)"><rect/><foreignObject width="75.953125" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Tech Stack<br />Proposal</p></span></div></foreignObject></g></g></g></g></g></svg>

============================================================
FICHIER: agents\architure\.svg\Agent Architecte (AR).svg
TAILLE: 17.5 KB
============================================================

00001: <?xml version="1.0" encoding="UTF-8"?>
00002: <svg xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-8" width="100%" class="flowchart" style="max-width: 100%;" viewBox="-23 -23 1178.203125 506" height="100%"><style>#mermaid-svg-8{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-svg-8 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-svg-8 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-svg-8 .error-icon{fill:#552222;}#mermaid-svg-8 .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-8 .edge-thickness-normal{stroke-width:1px;}#mermaid-svg-8 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-8 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-8 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-svg-8 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-8 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-8 .marker{fill:#333333;stroke:#333333;}#mermaid-svg-8 .marker.cross{stroke:#333333;}#mermaid-svg-8 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-8 p{margin:0;}#mermaid-svg-8 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg-8 .cluster-label text{fill:#333;}#mermaid-svg-8 .cluster-label span{color:#333;}#mermaid-svg-8 .cluster-label span p{background-color:transparent;}#mermaid-svg-8 .label text,#mermaid-svg-8 span{fill:#333;color:#333;}#mermaid-svg-8 .node rect,#mermaid-svg-8 .node circle,#mermaid-svg-8 .node ellipse,#mermaid-svg-8 .node polygon,#mermaid-svg-8 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg-8 .rough-node .label text,#mermaid-svg-8 .node .label text,#mermaid-svg-8 .image-shape .label,#mermaid-svg-8 .icon-shape .label{text-anchor:middle;}#mermaid-svg-8 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-svg-8 .rough-node .label,#mermaid-svg-8 .node .label,#mermaid-svg-8 .image-shape .label,#mermaid-svg-8 .icon-shape .label{text-align:center;}#mermaid-svg-8 .node.clickable{cursor:pointer;}#mermaid-svg-8 .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-svg-8 .arrowheadPath{fill:#333333;}#mermaid-svg-8 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg-8 .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg-8 .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-svg-8 .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-svg-8 .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-svg-8 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-svg-8 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg-8 .cluster text{fill:#333;}#mermaid-svg-8 .cluster span{color:#333;}#mermaid-svg-8 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-8 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-svg-8 rect.text{fill:none;stroke-width:0;}#mermaid-svg-8 .icon-shape,#mermaid-svg-8 .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-svg-8 .icon-shape p,#mermaid-svg-8 .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-svg-8 .icon-shape rect,#mermaid-svg-8 .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-svg-8 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-svg-8 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-svg-8 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker id="mermaid-svg-8_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-8_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-8_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-8_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-8_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg-8_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"><g class="cluster" id="Outputs" data-look="classic"><rect style="" x="924.296875" y="28" width="199.90625" height="404"/><g class="cluster-label" transform="translate(996.078125, 28)"><foreignObject width="56.34375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Outputs</p></span></div></foreignObject></g></g><g class="cluster" id="subGraph1" data-look="classic"><rect style="" x="291.1875" y="8" width="583.109375" height="444"/><g class="cluster-label" transform="translate(522.65625, 8)"><foreignObject width="120.171875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Agent Architecte</p></span></div></foreignObject></g></g><g class="cluster" id="Inputs" data-look="classic"><rect style="" x="8" y="38" width="233.1875" height="404"/><g class="cluster-label" transform="translate(102.7578125, 38)"><foreignObject width="43.671875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Inputs</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M203.656,112L209.911,112C216.167,112,228.677,112,239.099,112C249.521,112,257.854,112,266.188,112C274.521,112,282.854,112,297.205,126.62C311.557,141.239,331.926,170.479,342.11,185.098L352.295,199.718" id="L_REQ_AA_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-8_flowchart-v2-pointEnd)"/><path d="M216.188,240L220.354,240C224.521,240,232.854,240,241.188,240C249.521,240,257.854,240,266.188,240C274.521,240,282.854,240,290.526,239.574C298.197,239.147,305.207,238.295,308.712,237.868L312.217,237.442" id="L_TECH_AA_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-8_flowchart-v2-pointEnd)"/><path d="M183.039,368L192.73,368C202.422,368,221.805,368,235.663,368C249.521,368,257.854,368,266.188,368C274.521,368,282.854,368,297.7,350.073C312.545,332.146,333.903,296.291,344.582,278.364L355.26,260.437" id="L_EXIST_AA_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-8_flowchart-v2-pointEnd)"/><path d="M430.594,230L434.76,230C438.927,230,447.26,230,454.927,230C462.594,230,469.594,230,473.094,230L476.594,230" id="L_AA_DS_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-8_flowchart-v2-pointEnd)"/><path d="M630.5,230L634.667,230C638.833,230,647.167,230,654.833,230C662.5,230,669.5,230,673,230L676.5,230" id="L_DS_DOC_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-8_flowchart-v2-pointEnd)"/><path d="M787.975,203L802.362,186.167C816.749,169.333,845.523,135.667,864.077,118.833C882.63,102,890.964,102,899.297,102C907.63,102,915.964,102,923.63,102C931.297,102,938.297,102,941.797,102L945.297,102" id="L_DOC_ARD_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-8_flowchart-v2-pointEnd)"/><path d="M849.297,230L853.464,230C857.63,230,865.964,230,874.297,230C882.63,230,890.964,230,899.297,230C907.63,230,915.964,230,925.633,230C935.302,230,946.307,230,951.81,230L957.313,230" id="L_DOC_DSD_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-8_flowchart-v2-pointEnd)"/><path d="M787.975,257L802.362,273.833C816.749,290.667,845.523,324.333,864.077,341.167C882.63,358,890.964,358,899.297,358C907.63,358,915.964,358,924.793,358C933.622,358,942.948,358,947.611,358L952.273,358" id="L_DOC_TST_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-svg-8_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-REQ-0" transform="translate(124.59375, 112)"><rect class="basic label-container" style="" x="-79.0625" y="-39" width="158.125" height="78"/><g class="label" style="" transform="translate(-49.0625, -24)"><rect/><foreignObject width="98.125" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Requirements<br />Business</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-TECH-1" transform="translate(124.59375, 240)"><rect class="basic label-container" style="" x="-91.59375" y="-39" width="183.1875" height="78"/><g class="label" style="" transform="translate(-61.59375, -24)"><rect/><foreignObject width="123.1875" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>TECH Constraints<br />Techniques</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-EXIST-2" transform="translate(124.59375, 368)"><rect class="basic label-container" style="" x="-58.4453125" y="-39" width="116.890625" height="78"/><g class="label" style="" transform="translate(-28.4453125, -24)"><rect/><foreignObject width="56.890625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Existing<br />Systems</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-AA-3" transform="translate(373.390625, 230)"><rect class="basic label-container" style="" x="-57.203125" y="-27" width="114.40625" height="54"/><g class="label" style="" transform="translate(-27.203125, -12)"><rect/><foreignObject width="54.40625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Analyse</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-DS-4" transform="translate(555.546875, 230)"><rect class="basic label-container" style="" x="-74.953125" y="-39" width="149.90625" height="78"/><g class="label" style="" transform="translate(-44.953125, -24)"><rect/><foreignObject width="89.90625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Décision<br />Architecture</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-DOC-5" transform="translate(764.8984375, 230)"><rect class="basic label-container" style="" x="-84.3984375" y="-27" width="168.796875" height="54"/><g class="label" style="" transform="translate(-54.3984375, -12)"><rect/><foreignObject width="108.796875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Documentation</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-ARD-6" transform="translate(1024.25, 102)"><rect class="basic label-container" style="" x="-74.953125" y="-39" width="149.90625" height="78"/><g class="label" style="" transform="translate(-44.953125, -24)"><rect/><foreignObject width="89.90625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Architecture<br />Document</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-DSD-7" transform="translate(1024.25, 230)"><rect class="basic label-container" style="" x="-62.9375" y="-39" width="125.875" height="78"/><g class="label" style="" transform="translate(-32.9375, -24)"><rect/><foreignObject width="65.875" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Design<br />Decisions</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-TST-8" transform="translate(1024.25, 358)"><rect class="basic label-container" style="" x="-67.9765625" y="-39" width="135.953125" height="78"/><g class="label" style="" transform="translate(-37.9765625, -24)"><rect/><foreignObject width="75.953125" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Tech Stack<br />Proposal</p></span></div></foreignObject></g></g></g></g></g></svg>

============================================================
FICHIER: SmartContractPipeline\deploy-subagents.ps1
TAILLE: 15.97 KB
============================================================

00001: # deploy-subagents.ps1
00002: Write-Host "=== DEPLOIEMENT COMPLET DES SOUS-AGENTS ===" -ForegroundColor Cyan
00003: Write-Host "Date: $(Get-Date -Format 'yyyy-MM-dd HH:mm:ss')" -ForegroundColor Gray
00004: Write-Host ""
00005: 
00006: $projectPath = "$env:USERPROFILE\Projects\SmartContractPipeline"
00007: Set-Location $projectPath
00008: 
00009: # Liste de tous les sous-agents à créer
00010: $subAgents = @(
00011:     @{Parent="architect"; Name="cloud_architect"; Type="Cloud Architecture"},
00012:     @{Parent="architect"; Name="blockchain_architect"; Type="Blockchain Architecture"},
00013:     @{Parent="architect"; Name="microservices_architect"; Type="Microservices Architecture"},
00014:     
00015:     @{Parent="coder"; Name="backend_coder"; Type="Backend Development"},
00016:     @{Parent="coder"; Name="frontend_coder"; Type="Frontend Development"},
00017:     @{Parent="coder"; Name="devops_coder"; Type="DevOps"},
00018:     
00019:     @{Parent="smart_contract"; Name="solidity_expert"; Type="Solidity Development"},
00020:     @{Parent="smart_contract"; Name="security_expert"; Type="Smart Contract Security"},
00021:     @{Parent="smart_contract"; Name="gas_optimizer"; Type="Gas Optimization"},
00022:     @{Parent="smart_contract"; Name="formal_verification"; Type="Formal Verification"},
00023:     
00024:     @{Parent="frontend_web3"; Name="react_expert"; Type="React/Next.js"},
00025:     @{Parent="frontend_web3"; Name="web3_integration"; Type="Web3 Integration"},
00026:     @{Parent="frontend_web3"; Name="ui_ux_expert"; Type="UI/UX Design"},
00027:     
00028:     @{Parent="tester"; Name="unit_tester"; Type="Unit Testing"},
00029:     @{Parent="tester"; Name="integration_tester"; Type="Integration Testing"},
00030:     @{Parent="tester"; Name="e2e_tester"; Type="E2E Testing"},
00031:     @{Parent="tester"; Name="fuzzing_expert"; Type="Fuzzing"}
00032: )
00033: 
00034: Write-Host "1. CREATION DE LA STRUCTURE DES SOUS-AGENTS..." -ForegroundColor Yellow
00035: 
00036: foreach ($subAgent in $subAgents) {
00037:     $parentDir = "$projectPath\agents\$($subAgent.Parent)\sous_agents"
00038:     $agentDir = "$parentDir\$($subAgent.Name)"
00039:     
00040:     # Créer le dossier du sous-agent
00041:     New-Item -ItemType Directory -Path $agentDir -Force | Out-Null
00042:     
00043:     # Créer les fichiers de base
00044:     $files = @("config.yaml", "agent.py", "tools.py", "__init__.py")
00045:     foreach ($file in $files) {
00046:         $filePath = "$agentDir\$file"
00047:         if (-not (Test-Path $filePath)) {
00048:             New-Item -ItemType File -Path $filePath -Force | Out-Null
00049:         }
00050:     }
00051:     
00052:     Write-Host "   ✅ $($subAgent.Parent)/$($subAgent.Name) ($($subAgent.Type))" -ForegroundColor Green
00053: }
00054: 
00055: # 2. Créer les fichiers __init__.py pour l'import
00056: Write-Host "`n2. CONFIGURATION DES IMPORTS..." -ForegroundColor Yellow
00057: 
00058: foreach ($parent in @("architect", "coder", "smart_contract", "frontend_web3", "tester")) {
00059:     $initFile = "$projectPath\agents\$parent\sous_agents\__init__.py"
00060:     
00061:     $imports = @'
00062: # Import des sous-agents
00063: try:
00064:     from .cloud_architect import CloudArchitectSubAgent
00065:     from .blockchain_architect import BlockchainArchitectSubAgent
00066:     from .microservices_architect import MicroservicesArchitectSubAgent
00067: except ImportError as e:
00068:     print(f"Erreur d'import des sous-agents: {e}")
00069: 
00070: __all__ = [
00071:     "CloudArchitectSubAgent",
00072:     "BlockchainArchitectSubAgent", 
00073:     "MicroservicesArchitectSubAgent"
00074: ]
00075: '@
00076:     
00077:     # Adapter les imports selon le parent
00078:     if ($parent -eq "coder") {
00079:         $imports = $imports.Replace("cloud_architect", "backend_coder")
00080:         $imports = $imports.Replace("blockchain_architect", "frontend_coder")
00081:         $imports = $imports.Replace("microservices_architect", "devops_coder")
00082:         $imports = $imports.Replace("CloudArchitectSubAgent", "BackendCoderSubAgent")
00083:         $imports = $imports.Replace("BlockchainArchitectSubAgent", "FrontendCoderSubAgent")
00084:         $imports = $imports.Replace("MicroservicesArchitectSubAgent", "DevOpsCoderSubAgent")
00085:     }
00086:     
00087:     $imports | Out-File -FilePath $initFile -Force -Encoding UTF8
00088:     Write-Host "   ✅ $parent/__init__.py créé" -ForegroundColor Green
00089: }
00090: 
00091: # 3. Mettre à jour l'agent parent pour gérer les sous-agents
00092: Write-Host "`n3. MISE A JOUR DES AGENTS PARENTS..." -ForegroundColor Yellow
00093: 
00094: foreach ($parent in @("architect", "coder", "smart_contract", "frontend_web3", "tester")) {
00095:     $parentAgentFile = "$projectPath\agents\$parent\agent.py"
00096:     
00097:     if (Test-Path $parentAgentFile) {
00098:         $parentCode = Get-Content $parentAgentFile -Raw
00099:         
00100:         # Ajouter la gestion des sous-agents
00101:         $subAgentManagement = @'
00102: 
00103:     # Gestion des sous-agents
00104:     def __init__(self, config_path: str):
00105:         super().__init__(config_path)
00106:         self.sub_agents = {}
00107:         self._initialize_sub_agents()
00108:     
00109:     def _initialize_sub_agents(self):
00110:         """Initialise les sous-agents spécialisés"""
00111:         try:
00112:             from .sous_agents import *
00113:             
00114:             # Création dynamique des sous-agents basée sur la configuration
00115:             sub_agent_configs = self.config.get("sub_agents", {})
00116:             
00117:             for agent_name, agent_config in sub_agent_configs.items():
00118:                 agent_class_name = f"{agent_name.capitalize().replace('_', '')}SubAgent"
00119:                 agent_class = globals().get(agent_class_name)
00120:                 
00121:                 if agent_class:
00122:                     sub_agent = agent_class(agent_config.get("config_path", ""))
00123:                     self.sub_agents[agent_name] = sub_agent
00124:                     self.logger.info(f"Sous-agent {agent_name} initialisé")
00125:                 else:
00126:                     self.logger.warning(f"Classe non trouvée pour le sous-agent {agent_name}")
00127:                     
00128:         except ImportError as e:
00129:             self.logger.error(f"Erreur lors de l'import des sous-agents: {e}")
00130:     
00131:     async def delegate_to_sub_agent(self, task_type: str, task_data: Dict[str, Any]) -> Dict[str, Any]:
00132:         """Délègue une tâche à un sous-agent approprié"""
00133:         # Logique de routage vers le bon sous-agent
00134:         sub_agent_mapping = self.config.get("sub_agent_mapping", {})
00135:         
00136:         for pattern, agent_name in sub_agent_mapping.items():
00137:             if task_type.startswith(pattern):
00138:                 if agent_name in self.sub_agents:
00139:                     self.logger.info(f"Délégation de la tâche {task_type} au sous-agent {agent_name}")
00140:                     return await self.sub_agents[agent_name].execute(task_data, {})
00141:         
00142:         # Fallback: utiliser l'agent principal
00143:         self.logger.info(f"Aucun sous-agent trouvé pour {task_type}, utilisation de l'agent principal")
00144:         return await self.execute(task_data, {})
00145:     
00146:     async def get_sub_agents_status(self) -> Dict[str, Any]:
00147:         """Retourne le statut de tous les sous-agents"""
00148:         status = {}
00149:         
00150:         for agent_name, agent_instance in self.sub_agents.items():
00151:             try:
00152:                 health = await agent_instance.health_check()
00153:                 status[agent_name] = {
00154:                     "status": health.get("status", "unknown"),
00155:                     "agent_info": agent_instance.get_agent_info()
00156:                 }
00157:             except Exception as e:
00158:                 status[agent_name] = {
00159:                     "status": "error",
00160:                     "error": str(e)
00161:                 }
00162:         
00163:         return {
00164:             "total_sub_agents": len(self.sub_agents),
00165:             "sub_agents": status
00166:         }
00167: '@
00168:         
00169:         # Insérer après la classe BaseAgent
00170:         if ($parentCode -match "class.*Agent\(BaseAgent\):") {
00171:             $modifiedCode = $parentCode -replace "(class.*Agent\(BaseAgent\):[\s\S]*?)(def __init__)", "`$1$subAgentManagement`n`n    `$2"
00172:             $modifiedCode | Out-File -FilePath $parentAgentFile -Force -Encoding UTF8
00173:             Write-Host "   ✅ $parent/agent.py mis à jour avec la gestion des sous-agents" -ForegroundColor Green
00174:         }
00175:     }
00176: }
00177: 
00178: # 4. Créer les configurations de mapping
00179: Write-Host "`n4. CREATION DES CONFIGURATIONS DE MAPPING..." -ForegroundColor Yellow
00180: 
00181: foreach ($parent in @("architect", "coder", "smart_contract", "frontend_web3", "tester")) {
00182:     $configFile = "$projectPath\agents\$parent\config.yaml"
00183:     
00184:     if (Test-Path $configFile) {
00185:         $configContent = Get-Content $configFile -Raw
00186:         
00187:         # Ajouter la section sub_agents
00188:         $subAgentSection = @'
00189: # Configuration des sous-agents
00190: sub_agents:
00191:   cloud_architect:
00192:     enabled: true
00193:     config_path: "agents/architect/sous_agents/cloud_config.yaml"
00194:     specialization: "Architecture Cloud"
00195:   blockchain_architect:
00196:     enabled: true
00197:     config_path: "agents/architect/sous_agents/blockchain_config.yaml"
00198:     specialization: "Architecture Blockchain"
00199:   microservices_architect:
00200:     enabled: true
00201:     config_path: "agents/architect/sous_agents/microservices_config.yaml"
00202:     specialization: "Architecture Microservices"
00203: 
00204: # Mapping des tâches vers les sous-agents
00205: sub_agent_mapping:
00206:   "cloud_": "cloud_architect"
00207:   "aws_": "cloud_architect"
00208:   "azure_": "cloud_architect"
00209:   "gcp_": "cloud_architect"
00210:   "blockchain_": "blockchain_architect"
00211:   "web3_": "blockchain_architect"
00212:   "smart_contract_": "blockchain_architect"
00213:   "microservices_": "microservices_architect"
00214:   "service_": "microservices_architect"
00215:   "api_": "microservices_architect"
00216: '@
00217:         
00218:         # Adapter pour chaque parent
00219:         if ($parent -eq "coder") {
00220:             $subAgentSection = $subAgentSection.Replace("cloud_architect", "backend_coder")
00221:             $subAgentSection = $subAgentSection.Replace("blockchain_architect", "frontend_coder")
00222:             $subAgentSection = $subAgentSection.Replace("microservices_architect", "devops_coder")
00223:             $subAgentSection = $subAgentSection.Replace("Architecture Cloud", "Backend Development")
00224:             $subAgentSection = $subAgentSection.Replace("Architecture Blockchain", "Frontend Development")
00225:             $subAgentSection = $subAgentSection.Replace("Architecture Microservices", "DevOps")
00226:             $subAgentSection = $subAgentSection.Replace("cloud_", "backend_")
00227:             $subAgentSection = $subAgentSection.Replace("aws_", "api_")
00228:             $subAgentSection = $subAgentSection.Replace("azure_", "database_")
00229:             $subAgentSection = $subAgentSection.Replace("gcp_", "infrastructure_")
00230:             $subAgentSection = $subAgentSection.Replace("blockchain_", "frontend_")
00231:             $subAgentSection = $subAgentSection.Replace("web3_", "ui_")
00232:             $subAgentSection = $subAgentSection.Replace("smart_contract_", "component_")
00233:             $subAgentSection = $subAgentSection.Replace("microservices_", "devops_")
00234:             $subAgentSection = $subAgentSection.Replace("service_", "pipeline_")
00235:             $subAgentSection = $subAgentSection.Replace("api_", "deployment_")
00236:         }
00237:         
00238:         # Ajouter à la fin du fichier
00239:         $newContent = $configContent.Trim() + "`n`n" + $subAgentSection
00240:         $newContent | Out-File -FilePath $configFile -Force -Encoding UTF8
00241:         
00242:         Write-Host "   ✅ $parent/config.yaml mis à jour avec le mapping des sous-agents" -ForegroundColor Green
00243:     }
00244: }
00245: 
00246: # 5. Tester l'intégration des sous-agents
00247: Write-Host "`n5. TEST DE L'INTEGRATION..." -ForegroundColor Yellow
00248: 
00249: $testIntegrationScript = @'
00250: # test_subagents_integration.py
00251: import asyncio
00252: import sys
00253: from pathlib import Path
00254: 
00255: # Ajouter le dossier agents au path
00256: agents_dir = Path(__file__).parent / "agents"
00257: sys.path.insert(0, str(agents_dir))
00258: 
00259: async def test_subagents():
00260:     """Teste l'intégration des sous-agents"""
00261:     print("🧪 TEST D'INTEGRATION DES SOUS-AGENTS")
00262:     print("="*60)
00263:     
00264:     # Test avec l'agent architecte
00265:     try:
00266:         from architect.agent import ArchitectAgent
00267:         
00268:         # Créer l'agent
00269:         architect = ArchitectAgent("agents/architect/config.yaml")
00270:         await architect.initialize()
00271:         
00272:         print(f"✅ Agent architecte initialisé")
00273:         print(f"📊 Sous-agents chargés: {len(architect.sub_agents)}")
00274:         
00275:         # Tester chaque sous-agent
00276:         for agent_name, agent_instance in architect.sub_agents.items():
00277:             try:
00278:                 info = agent_instance.get_agent_info()
00279:                 print(f"  • {agent_name}: {info.get('specialization', 'N/A')}")
00280:             except Exception as e:
00281:                 print(f"  • {agent_name}: ❌ Erreur - {e}")
00282:         
00283:         # Tester la délégation
00284:         test_task = {
00285:             "type": "cloud_design",
00286:             "requirements": {
00287:                 "name": "Test Cloud Architecture",
00288:                 "budget_constrained": True,
00289:                 "needs_global_presence": False
00290:             }
00291:         }
00292:         
00293:         result = await architect.delegate_to_sub_agent("cloud_design", test_task)
00294:         print(f"📋 Résultat de délégation: {result.get('status', 'N/A')}")
00295:         
00296:     except Exception as e:
00297:         print(f"❌ Erreur lors du test: {e}")
00298:         import traceback
00299:         traceback.print_exc()
00300:     
00301:     print("="*60)
00302:     print("✅ TEST D'INTEGRATION TERMINE")
00303: 
00304: if __name__ == "__main__":
00305:     asyncio.run(test_subagents())
00306: '@
00307: 
00308: $testIntegrationScript | Out-File -FilePath "$projectPath\test_subagents_integration.py" -Force -Encoding UTF8
00309: 
00310: try {
00311:     & "$projectPath\.venv\Scripts\Activate.ps1"
00312:     python "$projectPath\test_subagents_integration.py"
00313:     Write-Host "   ✅ Test d'intégration réussi" -ForegroundColor Green
00314: } catch {
00315:     Write-Host "   ⚠️  Erreur lors du test d'intégration: $_" -ForegroundColor Yellow
00316: }
00317: 
00318: # 6. Générer le rapport final
00319: Write-Host "`n6. GENERATION DU RAPPORT FINAL..." -ForegroundColor Yellow
00320: 
00321: $subAgentsReport = @{
00322:     deployment_date = Get-Date -Format "yyyy-MM-dd HH:mm:ss"
00323:     total_sub_agents = $subAgents.Count
00324:     sub_agents_by_parent = @{}
00325:     structure = @{}
00326: }
00327: 
00328: foreach ($parent in @("architect", "coder", "smart_contract", "frontend_web3", "tester")) {
00329:     $parentSubAgents = $subAgents | Where-Object { $_.Parent -eq $parent }
00330:     $subAgentsReport.sub_agents_by_parent[$parent] = @{
00331:         count = $parentSubAgents.Count
00332:         agents = $parentSubAgents.Name
00333:         types = $parentSubAgents.Type
00334:     }
00335:     
00336:     # Compter les fichiers créés
00337:     $parentDir = "$projectPath\agents\$parent\sous_agents"
00338:     if (Test-Path $parentDir) {
00339:         $fileCount = (Get-ChildItem -Path $parentDir -File -Recurse).Count
00340:         $dirCount = (Get-ChildItem -Path $parentDir -Directory).Count
00341:         $subAgentsReport.structure[$parent] = @{
00342:             directories = $dirCount
00343:             files = $fileCount
00344:         }
00345:     }
00346: }
00347: 
00348: $subAgentsReport | ConvertTo-Json -Depth 10 | Out-File -FilePath "$projectPath\reports\subagents_deployment_report.json" -Force
00349: 
00350: Write-Host "`n" + "="*60 -ForegroundColor Cyan
00351: Write-Host "🎉 DEPLOIEMENT DES SOUS-AGENTS TERMINE !" -ForegroundColor Green
00352: Write-Host "="*60 -ForegroundColor Cyan
00353: Write-Host ""
00354: Write-Host "📊 RESUME:" -ForegroundColor Yellow
00355: Write-Host "  • Sous-agents déployés: $($subAgentsReport.total_sub_agents)" -ForegroundColor White
00356: Write-Host ""
00357: Write-Host "🔧 PAR AGENT PRINCIPAL:" -ForegroundColor Yellow
00358: foreach ($parent in $subAgentsReport.sub_agents_by_parent.Keys) {
00359:     $parentData = $subAgentsReport.sub_agents_by_parent[$parent]
00360:     Write-Host "  • $parent : $($parentData.count) sous-agents" -ForegroundColor White
00361:     foreach ($agent in $parentData.agents) {
00362:         Write-Host "    ◦ $agent" -ForegroundColor Gray
00363:     }
00364: }
00365: Write-Host ""
00366: Write-Host "📁 FICHIERS CREES:" -ForegroundColor Yellow
00367: foreach ($parent in $subAgentsReport.structure.Keys) {
00368:     $structure = $subAgentsReport.structure[$parent]
00369:     Write-Host "  • $parent : $($structure.files) fichiers dans $($structure.directories) dossiers" -ForegroundColor White
00370: }
00371: Write-Host ""
00372: Write-Host "⚡ COMMANDES DE TEST:" -ForegroundColor Yellow
00373: Write-Host "  Tester l'intégration: python test_subagents_integration.py" -ForegroundColor White
00374: Write-Host "  Voir le rapport: cat reports\subagents_deployment_report.json" -ForegroundColor White
00375: Write-Host "  Lister tous les agents: Get-ChildItem agents\*\sous_agents\*" -ForegroundColor White
00376: Write-Host ""
00377: Write-Host "✅ ARCHITECTURE HIERARCHIQUE COMPLETE" -ForegroundColor Green

============================================================
FICHIER: deploy-subagents.ps1
TAILLE: 15.61 KB
============================================================

00001: # deploy-subagents.ps1
00002: Write-Host "=== DEPLOIEMENT COMPLET DES SOUS-AGENTS ===" -ForegroundColor Cyan
00003: Write-Host "Date: $(Get-Date -Format 'yyyy-MM-dd HH:mm:ss')" -ForegroundColor Gray
00004: Write-Host ""
00005: 
00006: $projectPath = "$env:USERPROFILE\Projects\SmartContractPipeline"
00007: Set-Location $projectPath
00008: 
00009: # Liste de tous les sous-agents à créer
00010: $subAgents = @(
00011:     @{Parent="architect"; Name="cloud_architect"; Type="Cloud Architecture"},
00012:     @{Parent="architect"; Name="blockchain_architect"; Type="Blockchain Architecture"},
00013:     @{Parent="architect"; Name="microservices_architect"; Type="Microservices Architecture"},
00014:     
00015:     @{Parent="coder"; Name="backend_coder"; Type="Backend Development"},
00016:     @{Parent="coder"; Name="frontend_coder"; Type="Frontend Development"},
00017:     @{Parent="coder"; Name="devops_coder"; Type="DevOps"},
00018:     
00019:     @{Parent="smart_contract"; Name="solidity_expert"; Type="Solidity Development"},
00020:     @{Parent="smart_contract"; Name="security_expert"; Type="Smart Contract Security"},
00021:     @{Parent="smart_contract"; Name="gas_optimizer"; Type="Gas Optimization"},
00022:     @{Parent="smart_contract"; Name="formal_verification"; Type="Formal Verification"},
00023:     
00024:     @{Parent="frontend_web3"; Name="react_expert"; Type="React/Next.js"},
00025:     @{Parent="frontend_web3"; Name="web3_integration"; Type="Web3 Integration"},
00026:     @{Parent="frontend_web3"; Name="ui_ux_expert"; Type="UI/UX Design"},
00027:     
00028:     @{Parent="tester"; Name="unit_tester"; Type="Unit Testing"},
00029:     @{Parent="tester"; Name="integration_tester"; Type="Integration Testing"},
00030:     @{Parent="tester"; Name="e2e_tester"; Type="E2E Testing"},
00031:     @{Parent="tester"; Name="fuzzing_expert"; Type="Fuzzing"}
00032: )
00033: 
00034: Write-Host "1. CREATION DE LA STRUCTURE DES SOUS-AGENTS..." -ForegroundColor Yellow
00035: 
00036: foreach ($subAgent in $subAgents) {
00037:     $parentDir = "$projectPath\agents\$($subAgent.Parent)\sous_agents"
00038:     $agentDir = "$parentDir\$($subAgent.Name)"
00039:     
00040:     # Créer le dossier du sous-agent
00041:     New-Item -ItemType Directory -Path $agentDir -Force | Out-Null
00042:     
00043:     # Créer les fichiers de base
00044:     $files = @("config.yaml", "agent.py", "tools.py", "__init__.py")
00045:     foreach ($file in $files) {
00046:         $filePath = "$agentDir\$file"
00047:         if (-not (Test-Path $filePath)) {
00048:             New-Item -ItemType File -Path $filePath -Force | Out-Null
00049:         }
00050:     }
00051:     
00052:     Write-Host "   ✅ $($subAgent.Parent)/$($subAgent.Name) ($($subAgent.Type))" -ForegroundColor Green
00053: }
00054: 
00055: # 2. Créer les fichiers __init__.py pour l'import
00056: Write-Host "`n2. CONFIGURATION DES IMPORTS..." -ForegroundColor Yellow
00057: 
00058: foreach ($parent in @("architect", "coder", "smart_contract", "frontend_web3", "tester")) {
00059:     $initFile = "$projectPath\agents\$parent\sous_agents\__init__.py"
00060:     
00061:     $imports = @'
00062: # Import des sous-agents
00063: try:
00064:     from .cloud_architect import CloudArchitectSubAgent
00065:     from .blockchain_architect import BlockchainArchitectSubAgent
00066:     from .microservices_architect import MicroservicesArchitectSubAgent
00067: except ImportError as e:
00068:     print(f"Erreur d'import des sous-agents: {e}")
00069: 
00070: __all__ = [
00071:     "CloudArchitectSubAgent",
00072:     "BlockchainArchitectSubAgent", 
00073:     "MicroservicesArchitectSubAgent"
00074: ]
00075: '@
00076:     
00077:     # Adapter les imports selon le parent
00078:     if ($parent -eq "coder") {
00079:         $imports = $imports.Replace("cloud_architect", "backend_coder")
00080:         $imports = $imports.Replace("blockchain_architect", "frontend_coder")
00081:         $imports = $imports.Replace("microservices_architect", "devops_coder")
00082:         $imports = $imports.Replace("CloudArchitectSubAgent", "BackendCoderSubAgent")
00083:         $imports = $imports.Replace("BlockchainArchitectSubAgent", "FrontendCoderSubAgent")
00084:         $imports = $imports.Replace("MicroservicesArchitectSubAgent", "DevOpsCoderSubAgent")
00085:     }
00086:     
00087:     $imports | Out-File -FilePath $initFile -Force -Encoding UTF8
00088:     Write-Host "   ✅ $parent/__init__.py créé" -ForegroundColor Green
00089: }
00090: 
00091: # 3. Mettre à jour l'agent parent pour gérer les sous-agents
00092: Write-Host "`n3. MISE A JOUR DES AGENTS PARENTS..." -ForegroundColor Yellow
00093: 
00094: foreach ($parent in @("architect", "coder", "smart_contract", "frontend_web3", "tester")) {
00095:     $parentAgentFile = "$projectPath\agents\$parent\agent.py"
00096:     
00097:     if (Test-Path $parentAgentFile) {
00098:         $parentCode = Get-Content $parentAgentFile -Raw
00099:         
00100:         # Ajouter la gestion des sous-agents
00101:         $subAgentManagement = @'
00102: 
00103:     # Gestion des sous-agents
00104:     def __init__(self, config_path: str):
00105:         super().__init__(config_path)
00106:         self.sub_agents = {}
00107:         self._initialize_sub_agents()
00108:     
00109:     def _initialize_sub_agents(self):
00110:         """Initialise les sous-agents spécialisés"""
00111:         try:
00112:             from .sous_agents import *
00113:             
00114:             # Création dynamique des sous-agents basée sur la configuration
00115:             sub_agent_configs = self.config.get("sub_agents", {})
00116:             
00117:             for agent_name, agent_config in sub_agent_configs.items():
00118:                 agent_class_name = f"{agent_name.capitalize().replace('_', '')}SubAgent"
00119:                 agent_class = globals().get(agent_class_name)
00120:                 
00121:                 if agent_class:
00122:                     sub_agent = agent_class(agent_config.get("config_path", ""))
00123:                     self.sub_agents[agent_name] = sub_agent
00124:                     self.logger.info(f"Sous-agent {agent_name} initialisé")
00125:                 else:
00126:                     self.logger.warning(f"Classe non trouvée pour le sous-agent {agent_name}")
00127:                     
00128:         except ImportError as e:
00129:             self.logger.error(f"Erreur lors de l'import des sous-agents: {e}")
00130:     
00131:     async def delegate_to_sub_agent(self, task_type: str, task_data: Dict[str, Any]) -> Dict[str, Any]:
00132:         """Délègue une tâche à un sous-agent approprié"""
00133:         # Logique de routage vers le bon sous-agent
00134:         sub_agent_mapping = self.config.get("sub_agent_mapping", {})
00135:         
00136:         for pattern, agent_name in sub_agent_mapping.items():
00137:             if task_type.startswith(pattern):
00138:                 if agent_name in self.sub_agents:
00139:                     self.logger.info(f"Délégation de la tâche {task_type} au sous-agent {agent_name}")
00140:                     return await self.sub_agents[agent_name].execute(task_data, {})
00141:         
00142:         # Fallback: utiliser l'agent principal
00143:         self.logger.info(f"Aucun sous-agent trouvé pour {task_type}, utilisation de l'agent principal")
00144:         return await self.execute(task_data, {})
00145:     
00146:     async def get_sub_agents_status(self) -> Dict[str, Any]:
00147:         """Retourne le statut de tous les sous-agents"""
00148:         status = {}
00149:         
00150:         for agent_name, agent_instance in self.sub_agents.items():
00151:             try:
00152:                 health = await agent_instance.health_check()
00153:                 status[agent_name] = {
00154:                     "status": health.get("status", "unknown"),
00155:                     "agent_info": agent_instance.get_agent_info()
00156:                 }
00157:             except Exception as e:
00158:                 status[agent_name] = {
00159:                     "status": "error",
00160:                     "error": str(e)
00161:                 }
00162:         
00163:         return {
00164:             "total_sub_agents": len(self.sub_agents),
00165:             "sub_agents": status
00166:         }
00167: '@
00168:         
00169:         # Insérer après la classe BaseAgent
00170:         if ($parentCode -match "class.*Agent\(BaseAgent\):") {
00171:             $modifiedCode = $parentCode -replace "(class.*Agent\(BaseAgent\):[\s\S]*?)(def __init__)", "`$1$subAgentManagement`n`n    `$2"
00172:             $modifiedCode | Out-File -FilePath $parentAgentFile -Force -Encoding UTF8
00173:             Write-Host "   ✅ $parent/agent.py mis à jour avec la gestion des sous-agents" -ForegroundColor Green
00174:         }
00175:     }
00176: }
00177: 
00178: # 4. Créer les configurations de mapping
00179: Write-Host "`n4. CREATION DES CONFIGURATIONS DE MAPPING..." -ForegroundColor Yellow
00180: 
00181: foreach ($parent in @("architect", "coder", "smart_contract", "frontend_web3", "tester")) {
00182:     $configFile = "$projectPath\agents\$parent\config.yaml"
00183:     
00184:     if (Test-Path $configFile) {
00185:         $configContent = Get-Content $configFile -Raw
00186:         
00187:         # Ajouter la section sub_agents
00188:         $subAgentSection = @'
00189: # Configuration des sous-agents
00190: sub_agents:
00191:   cloud_architect:
00192:     enabled: true
00193:     config_path: "agents/architect/sous_agents/cloud_config.yaml"
00194:     specialization: "Architecture Cloud"
00195:   blockchain_architect:
00196:     enabled: true
00197:     config_path: "agents/architect/sous_agents/blockchain_config.yaml"
00198:     specialization: "Architecture Blockchain"
00199:   microservices_architect:
00200:     enabled: true
00201:     config_path: "agents/architect/sous_agents/microservices_config.yaml"
00202:     specialization: "Architecture Microservices"
00203: 
00204: # Mapping des tâches vers les sous-agents
00205: sub_agent_mapping:
00206:   "cloud_": "cloud_architect"
00207:   "aws_": "cloud_architect"
00208:   "azure_": "cloud_architect"
00209:   "gcp_": "cloud_architect"
00210:   "blockchain_": "blockchain_architect"
00211:   "web3_": "blockchain_architect"
00212:   "smart_contract_": "blockchain_architect"
00213:   "microservices_": "microservices_architect"
00214:   "service_": "microservices_architect"
00215:   "api_": "microservices_architect"
00216: '@
00217:         
00218:         # Adapter pour chaque parent
00219:         if ($parent -eq "coder") {
00220:             $subAgentSection = $subAgentSection.Replace("cloud_architect", "backend_coder")
00221:             $subAgentSection = $subAgentSection.Replace("blockchain_architect", "frontend_coder")
00222:             $subAgentSection = $subAgentSection.Replace("microservices_architect", "devops_coder")
00223:             $subAgentSection = $subAgentSection.Replace("Architecture Cloud", "Backend Development")
00224:             $subAgentSection = $subAgentSection.Replace("Architecture Blockchain", "Frontend Development")
00225:             $subAgentSection = $subAgentSection.Replace("Architecture Microservices", "DevOps")
00226:             $subAgentSection = $subAgentSection.Replace("cloud_", "backend_")
00227:             $subAgentSection = $subAgentSection.Replace("aws_", "api_")
00228:             $subAgentSection = $subAgentSection.Replace("azure_", "database_")
00229:             $subAgentSection = $subAgentSection.Replace("gcp_", "infrastructure_")
00230:             $subAgentSection = $subAgentSection.Replace("blockchain_", "frontend_")
00231:             $subAgentSection = $subAgentSection.Replace("web3_", "ui_")
00232:             $subAgentSection = $subAgentSection.Replace("smart_contract_", "component_")
00233:             $subAgentSection = $subAgentSection.Replace("microservices_", "devops_")
00234:             $subAgentSection = $subAgentSection.Replace("service_", "pipeline_")
00235:             $subAgentSection = $subAgentSection.Replace("api_", "deployment_")
00236:         }
00237:         
00238:         # Ajouter à la fin du fichier
00239:         $newContent = $configContent.Trim() + "`n`n" + $subAgentSection
00240:         $newContent | Out-File -FilePath $configFile -Force -Encoding UTF8
00241:         
00242:         Write-Host "   ✅ $parent/config.yaml mis à jour avec le mapping des sous-agents" -ForegroundColor Green
00243:     }
00244: }
00245: 
00246: # 5. Tester l'intégration des sous-agents
00247: Write-Host "`n5. TEST DE L'INTEGRATION..." -ForegroundColor Yellow
00248: 
00249: $testIntegrationScript = @'
00250: # test_subagents_integration.py
00251: import asyncio
00252: import sys
00253: from pathlib import Path
00254: 
00255: # Ajouter le dossier agents au path
00256: agents_dir = Path(__file__).parent / "agents"
00257: sys.path.insert(0, str(agents_dir))
00258: 
00259: async def test_subagents():
00260:     """Teste l'intégration des sous-agents"""
00261:     print("🧪 TEST D'INTEGRATION DES SOUS-AGENTS")
00262:     print("="*60)
00263:     
00264:     # Test avec l'agent architecte
00265:     try:
00266:         from architect.agent import ArchitectAgent
00267:         
00268:         # Créer l'agent
00269:         architect = ArchitectAgent("agents/architect/config.yaml")
00270:         await architect.initialize()
00271:         
00272:         print(f"✅ Agent architecte initialisé")
00273:         print(f"📊 Sous-agents chargés: {len(architect.sub_agents)}")
00274:         
00275:         # Tester chaque sous-agent
00276:         for agent_name, agent_instance in architect.sub_agents.items():
00277:             try:
00278:                 info = agent_instance.get_agent_info()
00279:                 print(f"  • {agent_name}: {info.get('specialization', 'N/A')}")
00280:             except Exception as e:
00281:                 print(f"  • {agent_name}: ❌ Erreur - {e}")
00282:         
00283:         # Tester la délégation
00284:         test_task = {
00285:             "type": "cloud_design",
00286:             "requirements": {
00287:                 "name": "Test Cloud Architecture",
00288:                 "budget_constrained": True,
00289:                 "needs_global_presence": False
00290:             }
00291:         }
00292:         
00293:         result = await architect.delegate_to_sub_agent("cloud_design", test_task)
00294:         print(f"📋 Résultat de délégation: {result.get('status', 'N/A')}")
00295:         
00296:     except Exception as e:
00297:         print(f"❌ Erreur lors du test: {e}")
00298:         import traceback
00299:         traceback.print_exc()
00300:     
00301:     print("="*60)
00302:     print("✅ TEST D'INTEGRATION TERMINE")
00303: 
00304: if __name__ == "__main__":
00305:     asyncio.run(test_subagents())
00306: '@
00307: 
00308: $testIntegrationScript | Out-File -FilePath "$projectPath\test_subagents_integration.py" -Force -Encoding UTF8
00309: 
00310: try {
00311:     & "$projectPath\.venv\Scripts\Activate.ps1"
00312:     python "$projectPath\test_subagents_integration.py"
00313:     Write-Host "   ✅ Test d'intégration réussi" -ForegroundColor Green
00314: } catch {
00315:     Write-Host "   ⚠️  Erreur lors du test d'intégration: $_" -ForegroundColor Yellow
00316: }
00317: 
00318: # 6. Générer le rapport final
00319: Write-Host "`n6. GENERATION DU RAPPORT FINAL..." -ForegroundColor Yellow
00320: 
00321: $subAgentsReport = @{
00322:     deployment_date = Get-Date -Format "yyyy-MM-dd HH:mm:ss"
00323:     total_sub_agents = $subAgents.Count
00324:     sub_agents_by_parent = @{}
00325:     structure = @{}
00326: }
00327: 
00328: foreach ($parent in @("architect", "coder", "smart_contract", "frontend_web3", "tester")) {
00329:     $parentSubAgents = $subAgents | Where-Object { $_.Parent -eq $parent }
00330:     $subAgentsReport.sub_agents_by_parent[$parent] = @{
00331:         count = $parentSubAgents.Count
00332:         agents = $parentSubAgents.Name
00333:         types = $parentSubAgents.Type
00334:     }
00335:     
00336:     # Compter les fichiers créés
00337:     $parentDir = "$projectPath\agents\$parent\sous_agents"
00338:     if (Test-Path $parentDir) {
00339:         $fileCount = (Get-ChildItem -Path $parentDir -File -Recurse).Count
00340:         $dirCount = (Get-ChildItem -Path $parentDir -Directory).Count
00341:         $subAgentsReport.structure[$parent] = @{
00342:             directories = $dirCount
00343:             files = $fileCount
00344:         }
00345:     }
00346: }
00347: 
00348: $subAgentsReport | ConvertTo-Json -Depth 10 | Out-File -FilePath "$projectPath\reports\subagents_deployment_report.json" -Force
00349: 
00350: Write-Host "`n" + "="*60 -ForegroundColor Cyan
00351: Write-Host "🎉 DEPLOIEMENT DES SOUS-AGENTS TERMINE !" -ForegroundColor Green
00352: Write-Host "="*60 -ForegroundColor Cyan
00353: Write-Host ""
00354: Write-Host "📊 RESUME:" -ForegroundColor Yellow
00355: Write-Host "  • Sous-agents déployés: $($subAgentsReport.total_sub_agents)" -ForegroundColor White
00356: Write-Host ""
00357: Write-Host "🔧 PAR AGENT PRINCIPAL:" -ForegroundColor Yellow
00358: foreach ($parent in $subAgentsReport.sub_agents_by_parent.Keys) {
00359:     $parentData = $subAgentsReport.sub_agents_by_parent[$parent]
00360:     Write-Host "  • $parent : $($parentData.count) sous-agents" -ForegroundColor White
00361:     foreach ($agent in $parentData.agents) {
00362:         Write-Host "    ◦ $agent" -ForegroundColor Gray
00363:     }
00364: }
00365: Write-Host ""
00366: Write-Host "📁 FICHIERS CREES:" -ForegroundColor Yellow
00367: foreach ($parent in $subAgentsReport.structure.Keys) {
00368:     $structure = $subAgentsReport.structure[$parent]
00369:     Write-Host "  • $parent : $($structure.files) fichiers dans $($structure.directories) dossiers" -ForegroundColor White
00370: }
00371: Write-Host ""
00372: Write-Host "⚡ COMMANDES DE TEST:" -ForegroundColor Yellow
00373: Write-Host "  Tester l'intégration: python test_subagents_integration.py" -ForegroundColor White
00374: Write-Host "  Voir le rapport: cat reports\subagents_deployment_report.json" -ForegroundColor White
00375: Write-Host "  Lister tous les agents: Get-ChildItem agents\*\sous_agents\*" -ForegroundColor White
00376: Write-Host ""
00377: Write-Host "✅ ARCHITECTURE HIERARCHIQUE COMPLETE" -ForegroundColor Green

============================================================
FICHIER: ShareSplit1M_fixed_encoding.ps1
TAILLE: 12.92 KB
============================================================

00001: # ShareSplit1M_fixed.ps1 - Version qui protège les tokens
00002: # ============================================================================
00003: # CONFIGURATION
00004: # ============================================================================
00005: 
00006: # Lecture sécurisée de la configuration
00007: $configPath = "project_config.json"
00008: $gitignorePath = ".gitignore"
00009: 
00010: # Ajouter project_config.json au .gitignore s'il n'y est pas
00011: if (Test-Path $gitignorePath) {
00012:     $gitignoreContent = Get-Content $gitignorePath -Raw
00013:     if ($gitignoreContent -notmatch "project_config\.json") {
00014:         Add-Content -Path $gitignorePath -Value "`nproject_config.json"
00015:     }
00016: } else {
00017:     "# Configuration files`nproject_config.json`n" | Out-File -FilePath $gitignorePath -Encoding UTF8
00018: }
00019: 
00020: if (Test-Path $configPath) {
00021:     try {
00022:         $config = Get-Content $configPath -Raw | ConvertFrom-Json
00023:         $PROJECT_NAME = $config.PROJECT_NAME
00024:         $PROJECT_PATH = $config.PROJECT_PATH
00025:         $GITHUB_USERNAME = $config.GITHUB_USERNAME
00026:         $GITHUB_REPO_NAME = $config.GITHUB_REPO_NAME
00027:         $GITHUB_REPO_PRIVATE = $config.GITHUB_REPO_PRIVATE
00028:         $GITHUB_REPO_DESCRIPTION = $config.GITHUB_REPO_DESCRIPTION
00029:         
00030:         # Le token est lu mais NE sera PAS utilisé directement
00031:         # On va demander à l'utilisateur s'il n'est pas déjà en variable d'environnement
00032:         if ($config.PSObject.Properties.Name -contains "GITHUB_TOKEN") {
00033:             # On stocke mais on ne l'utilise que temporairement
00034:             $script:TempGitHubToken = $config.GITHUB_TOKEN
00035:         } else {
00036:             $script:TempGitHubToken = $null
00037:         }
00038:     } catch {
00039:         Write-Host "⚠ Erreur lecture configuration: $_" -ForegroundColor Yellow
00040:         Set-DefaultValues
00041:     }
00042: } else {
00043:     Set-DefaultValues
00044: }
00045: 
00046: function Set-DefaultValues {
00047:     $PROJECT_NAME = "SmartContractDevPipeline"
00048:     $PROJECT_PATH = "."
00049:     $GITHUB_USERNAME = ""
00050:     $GITHUB_REPO_NAME = ""
00051:     $GITHUB_REPO_PRIVATE = $false
00052:     $GITHUB_REPO_DESCRIPTION = "Pipeline de développement de Smart Contracts"
00053:     $script:TempGitHubToken = $null
00054: }
00055: 
00056: # ============================================================================
00057: # FONCTION PRINCIPALE CORRIGÉE - Ne stocke pas le token dans le repo
00058: # ============================================================================
00059: 
00060: function Publish-ToGitHubRepo-Secure {
00061:     param(
00062:         [string]$Username,
00063:         [string]$RepoName,
00064:         [string]$Description,
00065:         [bool]$IsPrivate
00066:     )
00067:     
00068:     Write-Host "`n=== PUBLICATION SÉCURISÉE GITHUB ===" -ForegroundColor Cyan
00069:     
00070:     # Demander le token à l'utilisateur (ne pas le lire du fichier)
00071:     Write-Host "🔐 AUTHENTIFICATION GITHUB" -ForegroundColor Yellow
00072:     Write-Host "Le token GitHub NE DOIT PAS être stocké dans le repository." -ForegroundColor Red
00073:     Write-Host ""
00074:     
00075:     if ($script:TempGitHubToken -and (Read-Host "Utiliser le token en mémoire? (O/N)") -eq 'O') {
00076:         $Token = $script:TempGitHubToken
00077:         Write-Host "✓ Token utilisé depuis la mémoire" -ForegroundColor Green
00078:     } else {
00079:         Write-Host "Instructions pour générer un token:" -ForegroundColor Gray
00080:         Write-Host "1. https://github.com/settings/tokens" -ForegroundColor Gray
00081:         Write-Host "2. 'Generate new token (classic)'" -ForegroundColor Gray
00082:         Write-Host "3. Permission: 'repo' (seulement)" -ForegroundColor Green
00083:         Write-Host "4. Copiez le token (commence par 'ghp_')" -ForegroundColor Gray
00084:         Write-Host ""
00085:         
00086:         $Token = Read-Host "Collez votre token GitHub (NE sera PAS sauvegardé)"
00087:         
00088:         if ([string]::IsNullOrWhiteSpace($Token)) {
00089:             Write-Host "❌ Token requis" -ForegroundColor Red
00090:             return @{ success = $false; error = "Token GitHub requis" }
00091:         }
00092:     }
00093:     
00094:     # Sauvegarder la localisation
00095:     $originalDir = Get-Location
00096:     
00097:     try {
00098:         # Aller dans le projet
00099:         Set-Location $PROJECT_PATH -ErrorAction Stop
00100:         Write-Host "Répertoire: $(Get-Location)" -ForegroundColor Gray
00101:         
00102:         # ÉTAPE CRITIQUE: Créer un fichier config SANS le token pour le commit
00103:         Write-Host "Préparation configuration sécurisée..." -NoNewline
00104:         
00105:         # Créer une version safe de la configuration
00106:         $safeConfig = @{
00107:             PROJECT_NAME = $PROJECT_NAME
00108:             PROJECT_PATH = $PROJECT_PATH
00109:             GITHUB_USERNAME = $Username
00110:             GITHUB_REPO_NAME = $RepoName
00111:             GITHUB_REPO_PRIVATE = $IsPrivate
00112:             GITHUB_REPO_DESCRIPTION = $Description
00113:             GITHUB_TOKEN = "*** REMOVED FOR SECURITY ***"
00114:         }
00115:         
00116:         # Sauvegarder l'original
00117:         if (Test-Path $configPath) {
00118:             Copy-Item $configPath "$configPath.backup" -Force
00119:         }
00120:         
00121:         # Écrire la version safe
00122:         $safeConfig | ConvertTo-Json | Out-File $configPath -Encoding UTF8
00123:         Write-Host " ✓" -ForegroundColor Green
00124:         
00125:         # Configuration Git
00126:         Write-Host "Configuration Git..." -NoNewline
00127:         git config user.name "$Username"
00128:         git config user.email "$Username@users.noreply.github.com"
00129:         Write-Host " ✓" -ForegroundColor Green
00130:         
00131:         # URL avec token (ne sera pas dans l'historique Git)
00132:         $remoteUrl = "https://x-access-token:${Token}@github.com/${Username}/${RepoName}.git"
00133:         
00134:         # Initialiser si nécessaire
00135:         if (-not (Test-Path ".git")) {
00136:             Write-Host "Initialisation Git..." -NoNewline
00137:             git init
00138:             Write-Host " ✓" -ForegroundColor Green
00139:         }
00140:         
00141:         # Remote
00142:         git remote remove origin 2>$null
00143:         git remote add origin $remoteUrl
00144:         
00145:         # Ajouter fichiers (sauf backup)
00146:         Write-Host "Ajout fichiers sécurisés..." -NoNewline
00147:         
00148:         # S'assurer que .gitignore exclut les fichiers sensibles
00149:         $secureGitignore = @"
00150: # Fichiers sensibles
00151: project_config.json
00152: *.backup
00153: *.bak
00154: 
00155: # Fichiers générés
00156: PROJECT_SHARE_*
00157: GISTS_INDEX*
00158: GITHUB_PUBLISH_*
00159: 
00160: # Dossiers système
00161: node_modules/
00162: .vscode/
00163: .idea/
00164: __pycache__/
00165: .env
00166: "@
00167:         $secureGitignore | Out-File ".gitignore" -Encoding UTF8
00168:         
00169:         # Ajouter tout sauf les fichiers sensibles
00170:         git add .
00171:         Write-Host " ✓" -ForegroundColor Green
00172:         
00173:         # Commit
00174:         Write-Host "Commit..." -NoNewline
00175:         $commitMsg = "🔒 Publication sécurisée: $PROJECT_NAME - $(Get-Date -Format 'yyyy-MM-dd HH:mm:ss')"
00176:         git commit -m $commitMsg --quiet
00177:         Write-Host " ✓" -ForegroundColor Green
00178:         
00179:         # Branche
00180:         Write-Host "Branche..." -NoNewline
00181:         git branch -M main
00182:         Write-Host " ✓" -ForegroundColor Green
00183:         
00184:         # Push
00185:         Write-Host "Push..." -NoNewline
00186:         $env:GIT_TERMINAL_PROMPT = "0"
00187:         $output = git push -u origin main --force 2>&1
00188:         
00189:         if ($LASTEXITCODE -eq 0) {
00190:             Write-Host " ✓" -ForegroundColor Green
00191:             Write-Host "✅ PUBLICATION RÉUSSIE ET SÉCURISÉE !" -ForegroundColor Green
00192:             Write-Host "🔗 https://github.com/$Username/$RepoName" -ForegroundColor Cyan
00193:             
00194:             # Restaurer la config originale
00195:             if (Test-Path "$configPath.backup") {
00196:                 Move-Item "$configPath.backup" $configPath -Force
00197:             }
00198:             
00199:             Set-Location $originalDir
00200:             return @{
00201:                 success = $true
00202:                 url = "https://github.com/$Username/$RepoName"
00203:                 secure = $true
00204:             }
00205:         } else {
00206:             Write-Host " ✗" -ForegroundColor Red
00207:             
00208:             # Vérifier si c'est une erreur de secret
00209:             if ($output -match "secret" -or $output -match "GH013") {
00210:                 Write-Host "❌ GitHub a bloqué le push à cause d'un secret détecté" -ForegroundColor Red
00211:                 Write-Host "Solution: Autorisez manuellement ou supprimez le token du fichier" -ForegroundColor Yellow
00212:                 
00213:                 # Restaurer la config
00214:                 if (Test-Path "$configPath.backup") {
00215:                     Move-Item "$configPath.backup" $configPath -Force
00216:                 }
00217:             }
00218:             
00219:             Write-Host "Erreur: $output" -ForegroundColor Red
00220:             
00221:             Set-Location $originalDir
00222:             return @{ success = $false; error = $output }
00223:         }
00224:         
00225:     } catch {
00226:         Write-Host " ✗" -ForegroundColor Red
00227:         Write-Host "❌ Erreur: $_" -ForegroundColor Red
00228:         
00229:         # Restaurer la config en cas d'erreur
00230:         if (Test-Path "$configPath.backup") {
00231:             Move-Item "$configPath.backup" $configPath -Force
00232:         }
00233:         
00234:         Set-Location $originalDir
00235:         return @{ success = $false; error = $_ }
00236:     }
00237: }
00238: 
00239: # ============================================================================
00240: # SCRIPT POUR NETTOYER L'HISTORIQUE GIT DES SECRETS
00241: # ============================================================================
00242: 
00243: function Remove-Secrets-From-Git {
00244:     Write-Host "=== NETTOYAGE DES SECRETS DE L'HISTORIQUE GIT ===" -ForegroundColor Cyan
00245:     
00246:     Write-Host "ATTENTION: Cette opération va réécrire l'historique Git." -ForegroundColor Red
00247:     Write-Host "Ne l'utilisez que si vous avez poussé des secrets par accident." -ForegroundColor Red
00248:     Write-Host ""
00249:     
00250:     $confirm = Read-Host "Voulez-vous continuer? (tapez 'OUI' pour confirmer)"
00251:     if ($confirm -ne "OUI") {
00252:         Write-Host "Opération annulée." -ForegroundColor Yellow
00253:         return
00254:     }
00255:     
00256:     # Installation de git-filter-repo si nécessaire
00257:     Write-Host "Vérification de git-filter-repo..." -NoNewline
00258:     try {
00259:         git filter-repo --version 2>&1 | Out-Null
00260:         Write-Host " ✓" -ForegroundColor Green
00261:     } catch {
00262:         Write-Host " ✗" -ForegroundColor Red
00263:         Write-Host "Installation de git-filter-repo requise:" -ForegroundColor Yellow
00264:         Write-Host "pip install git-filter-repo" -ForegroundColor Gray
00265:         return
00266:     }
00267:     
00268:     # Créer un fichier de remplacement
00269:     $replacements = @()
00270:     
00271:     # Motifs de tokens GitHub à rechercher
00272:     $tokenPatterns = @(
00273:         'ghp_[a-zA-Z0-9]{36,}',
00274:         'github_pat_[a-zA-Z0-9_]{82}',
00275:         'gho_[a-zA-Z0-9]{36,}',
00276:         'ghu_[a-zA-Z0-9]{36,}',
00277:         'ghs_[a-zA-Z0-9]{36,}',
00278:         'ghr_[a-zA-Z0-9]{36,}'
00279:     )
00280:     
00281:     # Créer le fichier de configuration pour git-filter-repo
00282:     $filterConfig = @"
00283:     # Créer le fichier de configuration pour git-filter-repo
00284:     $filterConfigContent = @"
00285: [filter "remove-secrets"]
00286:     smudge = cat
00287:     clean = sed -E ''s/REPLACE_PATTERNS/***REMOVED***/g''
00288: "@
00289:     
00290:     # Remplacer le placeholder par les patterns réels
00291:     $patterns = $tokenPatterns -join ''|''
00292:     $filterConfigContent = $filterConfigContent -replace ''REPLACE_PATTERNS'', $patterns
00293:     
00294:     $filterConfigContent | Out-File "git-filter-config.txt" -Encoding UTF8
00295:     
00296:     Write-Host "Nettoyage en cours..." -ForegroundColor Yellow
00297:     git filter-repo --force --replace-text "git-filter-config.txt"
00298:     
00299:     Remove-Item "git-filter-config.txt" -Force
00300:     
00301:     Write-Host "✅ Historique nettoyé !" -ForegroundColor Green
00302:     Write-Host "Maintenant forcez le push: git push origin --force --all" -ForegroundColor Cyan
00303: }
00304: 
00305: # ============================================================================
00306: # MENU PRINCIPAL MIS À JOUR
00307: # ============================================================================
00308: 
00309: # Dans le menu, remplacez l'option 1 par:
00310: switch ($choice) {
00311:     '1' {
00312:         Write-Host "`n=== PUBLICATION SÉCURISÉE GITHUB ===" -ForegroundColor Cyan
00313:         
00314:         # Demander les informations
00315:         if (-not $GITHUB_USERNAME) {
00316:             $GITHUB_USERNAME = Read-Host "Nom d'utilisateur GitHub"
00317:         }
00318:         
00319:         if (-not $GITHUB_REPO_NAME) {
00320:             $GITHUB_REPO_NAME = Read-Host "Nom du repository"
00321:         }
00322:         
00323:         # Option de nettoyage si nécessaire
00324:         Write-Host "`nOptions:" -ForegroundColor Yellow
00325:         Write-Host "1. Publier normalement" -ForegroundColor Green
00326:         Write-Host "2. Nettoyer l'historique des secrets d'abord" -ForegroundColor Red
00327:         
00328:         $option = Read-Host "Choix [1-2]"
00329:         
00330:         if ($option -eq '2') {
00331:             Remove-Secrets-From-Git
00332:         }
00333:         
00334:         # Publication sécurisée
00335:         $result = Publish-ToGitHubRepo-Secure -Username $GITHUB_USERNAME `
00336:                                             -RepoName $GITHUB_REPO_NAME `
00337:                                             -Description $GITHUB_REPO_DESCRIPTION `
00338:                                             -IsPrivate $GITHUB_REPO_PRIVATE
00339:         
00340:         if ($result.success) {
00341:             Write-Host ""
00342:             Write-Host "✅ Publication sécurisée réussie !" -ForegroundColor Green
00343:             Write-Host "Le token a été protégé et n'est pas dans l'historique Git." -ForegroundColor Cyan
00344:         } else {
00345:             Write-Host ""
00346:             Write-Host "❌ Échec de la publication" -ForegroundColor Red
00347:             Write-Host "Erreur: $($result.error)" -ForegroundColor Red
00348:         }
00349:         
00350:         Write-Host ""
00351:         Write-Host "Appuyez sur Entrée pour continuer..."
00352:         Read-Host
00353:     }
00354:     # ... autres options ...
00355: }
00356: 

============================================================
FICHIER: ShareSplit1M_backup_20260121_164234.ps1
TAILLE: 12.64 KB
============================================================

00001: # ShareSplit1M_fixed.ps1 - Version qui protège les tokens
00002: # ============================================================================
00003: # CONFIGURATION
00004: # ============================================================================
00005: 
00006: # Lecture sécurisée de la configuration
00007: $configPath = "project_config.json"
00008: $gitignorePath = ".gitignore"
00009: 
00010: # Ajouter project_config.json au .gitignore s'il n'y est pas
00011: if (Test-Path $gitignorePath) {
00012:     $gitignoreContent = Get-Content $gitignorePath -Raw
00013:     if ($gitignoreContent -notmatch "project_config\.json") {
00014:         Add-Content -Path $gitignorePath -Value "`nproject_config.json"
00015:     }
00016: } else {
00017:     "# Configuration files`nproject_config.json`n" | Out-File -FilePath $gitignorePath -Encoding UTF8
00018: }
00019: 
00020: if (Test-Path $configPath) {
00021:     try {
00022:         $config = Get-Content $configPath -Raw | ConvertFrom-Json
00023:         $PROJECT_NAME = $config.PROJECT_NAME
00024:         $PROJECT_PATH = $config.PROJECT_PATH
00025:         $GITHUB_USERNAME = $config.GITHUB_USERNAME
00026:         $GITHUB_REPO_NAME = $config.GITHUB_REPO_NAME
00027:         $GITHUB_REPO_PRIVATE = $config.GITHUB_REPO_PRIVATE
00028:         $GITHUB_REPO_DESCRIPTION = $config.GITHUB_REPO_DESCRIPTION
00029:         
00030:         # Le token est lu mais NE sera PAS utilisé directement
00031:         # On va demander à l'utilisateur s'il n'est pas déjà en variable d'environnement
00032:         if ($config.PSObject.Properties.Name -contains "GITHUB_TOKEN") {
00033:             # On stocke mais on ne l'utilise que temporairement
00034:             $script:TempGitHubToken = $config.GITHUB_TOKEN
00035:         } else {
00036:             $script:TempGitHubToken = $null
00037:         }
00038:     } catch {
00039:         Write-Host "⚠ Erreur lecture configuration: $_" -ForegroundColor Yellow
00040:         Set-DefaultValues
00041:     }
00042: } else {
00043:     Set-DefaultValues
00044: }
00045: 
00046: function Set-DefaultValues {
00047:     $PROJECT_NAME = "SmartContractDevPipeline"
00048:     $PROJECT_PATH = "."
00049:     $GITHUB_USERNAME = ""
00050:     $GITHUB_REPO_NAME = ""
00051:     $GITHUB_REPO_PRIVATE = $false
00052:     $GITHUB_REPO_DESCRIPTION = "Pipeline de développement de Smart Contracts"
00053:     $script:TempGitHubToken = $null
00054: }
00055: 
00056: # ============================================================================
00057: # FONCTION PRINCIPALE CORRIGÉE - Ne stocke pas le token dans le repo
00058: # ============================================================================
00059: 
00060: function Publish-ToGitHubRepo-Secure {
00061:     param(
00062:         [string]$Username,
00063:         [string]$RepoName,
00064:         [string]$Description,
00065:         [bool]$IsPrivate
00066:     )
00067:     
00068:     Write-Host "`n=== PUBLICATION SÉCURISÉE GITHUB ===" -ForegroundColor Cyan
00069:     
00070:     # Demander le token à l'utilisateur (ne pas le lire du fichier)
00071:     Write-Host "🔐 AUTHENTIFICATION GITHUB" -ForegroundColor Yellow
00072:     Write-Host "Le token GitHub NE DOIT PAS être stocké dans le repository." -ForegroundColor Red
00073:     Write-Host ""
00074:     
00075:     if ($script:TempGitHubToken -and (Read-Host "Utiliser le token en mémoire? (O/N)") -eq 'O') {
00076:         $Token = $script:TempGitHubToken
00077:         Write-Host "✓ Token utilisé depuis la mémoire" -ForegroundColor Green
00078:     } else {
00079:         Write-Host "Instructions pour générer un token:" -ForegroundColor Gray
00080:         Write-Host "1. https://github.com/settings/tokens" -ForegroundColor Gray
00081:         Write-Host "2. 'Generate new token (classic)'" -ForegroundColor Gray
00082:         Write-Host "3. Permission: 'repo' (seulement)" -ForegroundColor Green
00083:         Write-Host "4. Copiez le token (commence par 'ghp_')" -ForegroundColor Gray
00084:         Write-Host ""
00085:         
00086:         $Token = Read-Host "Collez votre token GitHub (NE sera PAS sauvegardé)"
00087:         
00088:         if ([string]::IsNullOrWhiteSpace($Token)) {
00089:             Write-Host "❌ Token requis" -ForegroundColor Red
00090:             return @{ success = $false; error = "Token GitHub requis" }
00091:         }
00092:     }
00093:     
00094:     # Sauvegarder la localisation
00095:     $originalDir = Get-Location
00096:     
00097:     try {
00098:         # Aller dans le projet
00099:         Set-Location $PROJECT_PATH -ErrorAction Stop
00100:         Write-Host "Répertoire: $(Get-Location)" -ForegroundColor Gray
00101:         
00102:         # ÉTAPE CRITIQUE: Créer un fichier config SANS le token pour le commit
00103:         Write-Host "Préparation configuration sécurisée..." -NoNewline
00104:         
00105:         # Créer une version safe de la configuration
00106:         $safeConfig = @{
00107:             PROJECT_NAME = $PROJECT_NAME
00108:             PROJECT_PATH = $PROJECT_PATH
00109:             GITHUB_USERNAME = $Username
00110:             GITHUB_REPO_NAME = $RepoName
00111:             GITHUB_REPO_PRIVATE = $IsPrivate
00112:             GITHUB_REPO_DESCRIPTION = $Description
00113:             GITHUB_TOKEN = "*** REMOVED FOR SECURITY ***"
00114:         }
00115:         
00116:         # Sauvegarder l'original
00117:         if (Test-Path $configPath) {
00118:             Copy-Item $configPath "$configPath.backup" -Force
00119:         }
00120:         
00121:         # Écrire la version safe
00122:         $safeConfig | ConvertTo-Json | Out-File $configPath -Encoding UTF8
00123:         Write-Host " ✓" -ForegroundColor Green
00124:         
00125:         # Configuration Git
00126:         Write-Host "Configuration Git..." -NoNewline
00127:         git config user.name "$Username"
00128:         git config user.email "$Username@users.noreply.github.com"
00129:         Write-Host " ✓" -ForegroundColor Green
00130:         
00131:         # URL avec token (ne sera pas dans l'historique Git)
00132:         $remoteUrl = "https://x-access-token:${Token}@github.com/${Username}/${RepoName}.git"
00133:         
00134:         # Initialiser si nécessaire
00135:         if (-not (Test-Path ".git")) {
00136:             Write-Host "Initialisation Git..." -NoNewline
00137:             git init
00138:             Write-Host " ✓" -ForegroundColor Green
00139:         }
00140:         
00141:         # Remote
00142:         git remote remove origin 2>$null
00143:         git remote add origin $remoteUrl
00144:         
00145:         # Ajouter fichiers (sauf backup)
00146:         Write-Host "Ajout fichiers sécurisés..." -NoNewline
00147:         
00148:         # S'assurer que .gitignore exclut les fichiers sensibles
00149:         $secureGitignore = @"
00150: # Fichiers sensibles
00151: project_config.json
00152: *.backup
00153: *.bak
00154: 
00155: # Fichiers générés
00156: PROJECT_SHARE_*
00157: GISTS_INDEX*
00158: GITHUB_PUBLISH_*
00159: 
00160: # Dossiers système
00161: node_modules/
00162: .vscode/
00163: .idea/
00164: __pycache__/
00165: .env
00166: "@
00167:         $secureGitignore | Out-File ".gitignore" -Encoding UTF8
00168:         
00169:         # Ajouter tout sauf les fichiers sensibles
00170:         git add .
00171:         Write-Host " ✓" -ForegroundColor Green
00172:         
00173:         # Commit
00174:         Write-Host "Commit..." -NoNewline
00175:         $commitMsg = "🔒 Publication sécurisée: $PROJECT_NAME - $(Get-Date -Format 'yyyy-MM-dd HH:mm:ss')"
00176:         git commit -m $commitMsg --quiet
00177:         Write-Host " ✓" -ForegroundColor Green
00178:         
00179:         # Branche
00180:         Write-Host "Branche..." -NoNewline
00181:         git branch -M main
00182:         Write-Host " ✓" -ForegroundColor Green
00183:         
00184:         # Push
00185:         Write-Host "Push..." -NoNewline
00186:         $env:GIT_TERMINAL_PROMPT = "0"
00187:         $output = git push -u origin main --force 2>&1
00188:         
00189:         if ($LASTEXITCODE -eq 0) {
00190:             Write-Host " ✓" -ForegroundColor Green
00191:             Write-Host "✅ PUBLICATION RÉUSSIE ET SÉCURISÉE !" -ForegroundColor Green
00192:             Write-Host "🔗 https://github.com/$Username/$RepoName" -ForegroundColor Cyan
00193:             
00194:             # Restaurer la config originale
00195:             if (Test-Path "$configPath.backup") {
00196:                 Move-Item "$configPath.backup" $configPath -Force
00197:             }
00198:             
00199:             Set-Location $originalDir
00200:             return @{
00201:                 success = $true
00202:                 url = "https://github.com/$Username/$RepoName"
00203:                 secure = $true
00204:             }
00205:         } else {
00206:             Write-Host " ✗" -ForegroundColor Red
00207:             
00208:             # Vérifier si c'est une erreur de secret
00209:             if ($output -match "secret" -or $output -match "GH013") {
00210:                 Write-Host "❌ GitHub a bloqué le push à cause d'un secret détecté" -ForegroundColor Red
00211:                 Write-Host "Solution: Autorisez manuellement ou supprimez le token du fichier" -ForegroundColor Yellow
00212:                 
00213:                 # Restaurer la config
00214:                 if (Test-Path "$configPath.backup") {
00215:                     Move-Item "$configPath.backup" $configPath -Force
00216:                 }
00217:             }
00218:             
00219:             Write-Host "Erreur: $output" -ForegroundColor Red
00220:             
00221:             Set-Location $originalDir
00222:             return @{ success = $false; error = $output }
00223:         }
00224:         
00225:     } catch {
00226:         Write-Host " ✗" -ForegroundColor Red
00227:         Write-Host "❌ Erreur: $_" -ForegroundColor Red
00228:         
00229:         # Restaurer la config en cas d'erreur
00230:         if (Test-Path "$configPath.backup") {
00231:             Move-Item "$configPath.backup" $configPath -Force
00232:         }
00233:         
00234:         Set-Location $originalDir
00235:         return @{ success = $false; error = $_ }
00236:     }
00237: }
00238: 
00239: # ============================================================================
00240: # SCRIPT POUR NETTOYER L'HISTORIQUE GIT DES SECRETS
00241: # ============================================================================
00242: 
00243: function Remove-Secrets-From-Git {
00244:     Write-Host "=== NETTOYAGE DES SECRETS DE L'HISTORIQUE GIT ===" -ForegroundColor Cyan
00245:     
00246:     Write-Host "ATTENTION: Cette opération va réécrire l'historique Git." -ForegroundColor Red
00247:     Write-Host "Ne l'utilisez que si vous avez poussé des secrets par accident." -ForegroundColor Red
00248:     Write-Host ""
00249:     
00250:     $confirm = Read-Host "Voulez-vous continuer? (tapez 'OUI' pour confirmer)"
00251:     if ($confirm -ne "OUI") {
00252:         Write-Host "Opération annulée." -ForegroundColor Yellow
00253:         return
00254:     }
00255:     
00256:     # Installation de git-filter-repo si nécessaire
00257:     Write-Host "Vérification de git-filter-repo..." -NoNewline
00258:     try {
00259:         git filter-repo --version 2>&1 | Out-Null
00260:         Write-Host " ✓" -ForegroundColor Green
00261:     } catch {
00262:         Write-Host " ✗" -ForegroundColor Red
00263:         Write-Host "Installation de git-filter-repo requise:" -ForegroundColor Yellow
00264:         Write-Host "pip install git-filter-repo" -ForegroundColor Gray
00265:         return
00266:     }
00267:     
00268:     # Créer un fichier de remplacement
00269:     $replacements = @()
00270:     
00271:     # Motifs de tokens GitHub à rechercher
00272:     $tokenPatterns = @(
00273:         'ghp_[a-zA-Z0-9]{36,}',
00274:         'github_pat_[a-zA-Z0-9_]{82}',
00275:         'gho_[a-zA-Z0-9]{36,}',
00276:         'ghu_[a-zA-Z0-9]{36,}',
00277:         'ghs_[a-zA-Z0-9]{36,}',
00278:         'ghr_[a-zA-Z0-9]{36,}'
00279:     )
00280:     
00281:     # Créer le fichier de configuration pour git-filter-repo
00282:     $filterConfig = @"
00283: [filter "remove-secrets"]
00284:     smudge = cat
00285:     clean = sed -E 's/$($tokenPatterns -join '|')/***REMOVED***/g'
00286: "@
00287:     
00288:     $filterConfig | Out-File "git-filter-config.txt" -Encoding UTF8
00289:     
00290:     Write-Host "Nettoyage en cours..." -ForegroundColor Yellow
00291:     git filter-repo --force --replace-text "git-filter-config.txt"
00292:     
00293:     Remove-Item "git-filter-config.txt" -Force
00294:     
00295:     Write-Host "✅ Historique nettoyé !" -ForegroundColor Green
00296:     Write-Host "Maintenant forcez le push: git push origin --force --all" -ForegroundColor Cyan
00297: }
00298: 
00299: # ============================================================================
00300: # MENU PRINCIPAL MIS À JOUR
00301: # ============================================================================
00302: 
00303: # Dans le menu, remplacez l'option 1 par:
00304: switch ($choice) {
00305:     '1' {
00306:         Write-Host "`n=== PUBLICATION SÉCURISÉE GITHUB ===" -ForegroundColor Cyan
00307:         
00308:         # Demander les informations
00309:         if (-not $GITHUB_USERNAME) {
00310:             $GITHUB_USERNAME = Read-Host "Nom d'utilisateur GitHub"
00311:         }
00312:         
00313:         if (-not $GITHUB_REPO_NAME) {
00314:             $GITHUB_REPO_NAME = Read-Host "Nom du repository"
00315:         }
00316:         
00317:         # Option de nettoyage si nécessaire
00318:         Write-Host "`nOptions:" -ForegroundColor Yellow
00319:         Write-Host "1. Publier normalement" -ForegroundColor Green
00320:         Write-Host "2. Nettoyer l'historique des secrets d'abord" -ForegroundColor Red
00321:         
00322:         $option = Read-Host "Choix [1-2]"
00323:         
00324:         if ($option -eq '2') {
00325:             Remove-Secrets-From-Git
00326:         }
00327:         
00328:         # Publication sécurisée
00329:         $result = Publish-ToGitHubRepo-Secure -Username $GITHUB_USERNAME `
00330:                                             -RepoName $GITHUB_REPO_NAME `
00331:                                             -Description $GITHUB_REPO_DESCRIPTION `
00332:                                             -IsPrivate $GITHUB_REPO_PRIVATE
00333:         
00334:         if ($result.success) {
00335:             Write-Host ""
00336:             Write-Host "✅ Publication sécurisée réussie !" -ForegroundColor Green
00337:             Write-Host "Le token a été protégé et n'est pas dans l'historique Git." -ForegroundColor Cyan
00338:         } else {
00339:             Write-Host ""
00340:             Write-Host "❌ Échec de la publication" -ForegroundColor Red
00341:             Write-Host "Erreur: $($result.error)" -ForegroundColor Red
00342:         }
00343:         
00344:         Write-Host ""
00345:         Write-Host "Appuyez sur Entrée pour continuer..."
00346:         Read-Host
00347:     }
00348:     # ... autres options ...
00349: }

============================================================
FICHIER: ShareSplit1M_backup_20260121_164321.ps1
TAILLE: 12.64 KB
============================================================

00001: # ShareSplit1M_fixed.ps1 - Version qui protège les tokens
00002: # ============================================================================
00003: # CONFIGURATION
00004: # ============================================================================
00005: 
00006: # Lecture sécurisée de la configuration
00007: $configPath = "project_config.json"
00008: $gitignorePath = ".gitignore"
00009: 
00010: # Ajouter project_config.json au .gitignore s'il n'y est pas
00011: if (Test-Path $gitignorePath) {
00012:     $gitignoreContent = Get-Content $gitignorePath -Raw
00013:     if ($gitignoreContent -notmatch "project_config\.json") {
00014:         Add-Content -Path $gitignorePath -Value "`nproject_config.json"
00015:     }
00016: } else {
00017:     "# Configuration files`nproject_config.json`n" | Out-File -FilePath $gitignorePath -Encoding UTF8
00018: }
00019: 
00020: if (Test-Path $configPath) {
00021:     try {
00022:         $config = Get-Content $configPath -Raw | ConvertFrom-Json
00023:         $PROJECT_NAME = $config.PROJECT_NAME
00024:         $PROJECT_PATH = $config.PROJECT_PATH
00025:         $GITHUB_USERNAME = $config.GITHUB_USERNAME
00026:         $GITHUB_REPO_NAME = $config.GITHUB_REPO_NAME
00027:         $GITHUB_REPO_PRIVATE = $config.GITHUB_REPO_PRIVATE
00028:         $GITHUB_REPO_DESCRIPTION = $config.GITHUB_REPO_DESCRIPTION
00029:         
00030:         # Le token est lu mais NE sera PAS utilisé directement
00031:         # On va demander à l'utilisateur s'il n'est pas déjà en variable d'environnement
00032:         if ($config.PSObject.Properties.Name -contains "GITHUB_TOKEN") {
00033:             # On stocke mais on ne l'utilise que temporairement
00034:             $script:TempGitHubToken = $config.GITHUB_TOKEN
00035:         } else {
00036:             $script:TempGitHubToken = $null
00037:         }
00038:     } catch {
00039:         Write-Host "⚠ Erreur lecture configuration: $_" -ForegroundColor Yellow
00040:         Set-DefaultValues
00041:     }
00042: } else {
00043:     Set-DefaultValues
00044: }
00045: 
00046: function Set-DefaultValues {
00047:     $PROJECT_NAME = "SmartContractDevPipeline"
00048:     $PROJECT_PATH = "."
00049:     $GITHUB_USERNAME = ""
00050:     $GITHUB_REPO_NAME = ""
00051:     $GITHUB_REPO_PRIVATE = $false
00052:     $GITHUB_REPO_DESCRIPTION = "Pipeline de développement de Smart Contracts"
00053:     $script:TempGitHubToken = $null
00054: }
00055: 
00056: # ============================================================================
00057: # FONCTION PRINCIPALE CORRIGÉE - Ne stocke pas le token dans le repo
00058: # ============================================================================
00059: 
00060: function Publish-ToGitHubRepo-Secure {
00061:     param(
00062:         [string]$Username,
00063:         [string]$RepoName,
00064:         [string]$Description,
00065:         [bool]$IsPrivate
00066:     )
00067:     
00068:     Write-Host "`n=== PUBLICATION SÉCURISÉE GITHUB ===" -ForegroundColor Cyan
00069:     
00070:     # Demander le token à l'utilisateur (ne pas le lire du fichier)
00071:     Write-Host "🔐 AUTHENTIFICATION GITHUB" -ForegroundColor Yellow
00072:     Write-Host "Le token GitHub NE DOIT PAS être stocké dans le repository." -ForegroundColor Red
00073:     Write-Host ""
00074:     
00075:     if ($script:TempGitHubToken -and (Read-Host "Utiliser le token en mémoire? (O/N)") -eq 'O') {
00076:         $Token = $script:TempGitHubToken
00077:         Write-Host "✓ Token utilisé depuis la mémoire" -ForegroundColor Green
00078:     } else {
00079:         Write-Host "Instructions pour générer un token:" -ForegroundColor Gray
00080:         Write-Host "1. https://github.com/settings/tokens" -ForegroundColor Gray
00081:         Write-Host "2. 'Generate new token (classic)'" -ForegroundColor Gray
00082:         Write-Host "3. Permission: 'repo' (seulement)" -ForegroundColor Green
00083:         Write-Host "4. Copiez le token (commence par 'ghp_')" -ForegroundColor Gray
00084:         Write-Host ""
00085:         
00086:         $Token = Read-Host "Collez votre token GitHub (NE sera PAS sauvegardé)"
00087:         
00088:         if ([string]::IsNullOrWhiteSpace($Token)) {
00089:             Write-Host "❌ Token requis" -ForegroundColor Red
00090:             return @{ success = $false; error = "Token GitHub requis" }
00091:         }
00092:     }
00093:     
00094:     # Sauvegarder la localisation
00095:     $originalDir = Get-Location
00096:     
00097:     try {
00098:         # Aller dans le projet
00099:         Set-Location $PROJECT_PATH -ErrorAction Stop
00100:         Write-Host "Répertoire: $(Get-Location)" -ForegroundColor Gray
00101:         
00102:         # ÉTAPE CRITIQUE: Créer un fichier config SANS le token pour le commit
00103:         Write-Host "Préparation configuration sécurisée..." -NoNewline
00104:         
00105:         # Créer une version safe de la configuration
00106:         $safeConfig = @{
00107:             PROJECT_NAME = $PROJECT_NAME
00108:             PROJECT_PATH = $PROJECT_PATH
00109:             GITHUB_USERNAME = $Username
00110:             GITHUB_REPO_NAME = $RepoName
00111:             GITHUB_REPO_PRIVATE = $IsPrivate
00112:             GITHUB_REPO_DESCRIPTION = $Description
00113:             GITHUB_TOKEN = "*** REMOVED FOR SECURITY ***"
00114:         }
00115:         
00116:         # Sauvegarder l'original
00117:         if (Test-Path $configPath) {
00118:             Copy-Item $configPath "$configPath.backup" -Force
00119:         }
00120:         
00121:         # Écrire la version safe
00122:         $safeConfig | ConvertTo-Json | Out-File $configPath -Encoding UTF8
00123:         Write-Host " ✓" -ForegroundColor Green
00124:         
00125:         # Configuration Git
00126:         Write-Host "Configuration Git..." -NoNewline
00127:         git config user.name "$Username"
00128:         git config user.email "$Username@users.noreply.github.com"
00129:         Write-Host " ✓" -ForegroundColor Green
00130:         
00131:         # URL avec token (ne sera pas dans l'historique Git)
00132:         $remoteUrl = "https://x-access-token:${Token}@github.com/${Username}/${RepoName}.git"
00133:         
00134:         # Initialiser si nécessaire
00135:         if (-not (Test-Path ".git")) {
00136:             Write-Host "Initialisation Git..." -NoNewline
00137:             git init
00138:             Write-Host " ✓" -ForegroundColor Green
00139:         }
00140:         
00141:         # Remote
00142:         git remote remove origin 2>$null
00143:         git remote add origin $remoteUrl
00144:         
00145:         # Ajouter fichiers (sauf backup)
00146:         Write-Host "Ajout fichiers sécurisés..." -NoNewline
00147:         
00148:         # S'assurer que .gitignore exclut les fichiers sensibles
00149:         $secureGitignore = @"
00150: # Fichiers sensibles
00151: project_config.json
00152: *.backup
00153: *.bak
00154: 
00155: # Fichiers générés
00156: PROJECT_SHARE_*
00157: GISTS_INDEX*
00158: GITHUB_PUBLISH_*
00159: 
00160: # Dossiers système
00161: node_modules/
00162: .vscode/
00163: .idea/
00164: __pycache__/
00165: .env
00166: "@
00167:         $secureGitignore | Out-File ".gitignore" -Encoding UTF8
00168:         
00169:         # Ajouter tout sauf les fichiers sensibles
00170:         git add .
00171:         Write-Host " ✓" -ForegroundColor Green
00172:         
00173:         # Commit
00174:         Write-Host "Commit..." -NoNewline
00175:         $commitMsg = "🔒 Publication sécurisée: $PROJECT_NAME - $(Get-Date -Format 'yyyy-MM-dd HH:mm:ss')"
00176:         git commit -m $commitMsg --quiet
00177:         Write-Host " ✓" -ForegroundColor Green
00178:         
00179:         # Branche
00180:         Write-Host "Branche..." -NoNewline
00181:         git branch -M main
00182:         Write-Host " ✓" -ForegroundColor Green
00183:         
00184:         # Push
00185:         Write-Host "Push..." -NoNewline
00186:         $env:GIT_TERMINAL_PROMPT = "0"
00187:         $output = git push -u origin main --force 2>&1
00188:         
00189:         if ($LASTEXITCODE -eq 0) {
00190:             Write-Host " ✓" -ForegroundColor Green
00191:             Write-Host "✅ PUBLICATION RÉUSSIE ET SÉCURISÉE !" -ForegroundColor Green
00192:             Write-Host "🔗 https://github.com/$Username/$RepoName" -ForegroundColor Cyan
00193:             
00194:             # Restaurer la config originale
00195:             if (Test-Path "$configPath.backup") {
00196:                 Move-Item "$configPath.backup" $configPath -Force
00197:             }
00198:             
00199:             Set-Location $originalDir
00200:             return @{
00201:                 success = $true
00202:                 url = "https://github.com/$Username/$RepoName"
00203:                 secure = $true
00204:             }
00205:         } else {
00206:             Write-Host " ✗" -ForegroundColor Red
00207:             
00208:             # Vérifier si c'est une erreur de secret
00209:             if ($output -match "secret" -or $output -match "GH013") {
00210:                 Write-Host "❌ GitHub a bloqué le push à cause d'un secret détecté" -ForegroundColor Red
00211:                 Write-Host "Solution: Autorisez manuellement ou supprimez le token du fichier" -ForegroundColor Yellow
00212:                 
00213:                 # Restaurer la config
00214:                 if (Test-Path "$configPath.backup") {
00215:                     Move-Item "$configPath.backup" $configPath -Force
00216:                 }
00217:             }
00218:             
00219:             Write-Host "Erreur: $output" -ForegroundColor Red
00220:             
00221:             Set-Location $originalDir
00222:             return @{ success = $false; error = $output }
00223:         }
00224:         
00225:     } catch {
00226:         Write-Host " ✗" -ForegroundColor Red
00227:         Write-Host "❌ Erreur: $_" -ForegroundColor Red
00228:         
00229:         # Restaurer la config en cas d'erreur
00230:         if (Test-Path "$configPath.backup") {
00231:             Move-Item "$configPath.backup" $configPath -Force
00232:         }
00233:         
00234:         Set-Location $originalDir
00235:         return @{ success = $false; error = $_ }
00236:     }
00237: }
00238: 
00239: # ============================================================================
00240: # SCRIPT POUR NETTOYER L'HISTORIQUE GIT DES SECRETS
00241: # ============================================================================
00242: 
00243: function Remove-Secrets-From-Git {
00244:     Write-Host "=== NETTOYAGE DES SECRETS DE L'HISTORIQUE GIT ===" -ForegroundColor Cyan
00245:     
00246:     Write-Host "ATTENTION: Cette opération va réécrire l'historique Git." -ForegroundColor Red
00247:     Write-Host "Ne l'utilisez que si vous avez poussé des secrets par accident." -ForegroundColor Red
00248:     Write-Host ""
00249:     
00250:     $confirm = Read-Host "Voulez-vous continuer? (tapez 'OUI' pour confirmer)"
00251:     if ($confirm -ne "OUI") {
00252:         Write-Host "Opération annulée." -ForegroundColor Yellow
00253:         return
00254:     }
00255:     
00256:     # Installation de git-filter-repo si nécessaire
00257:     Write-Host "Vérification de git-filter-repo..." -NoNewline
00258:     try {
00259:         git filter-repo --version 2>&1 | Out-Null
00260:         Write-Host " ✓" -ForegroundColor Green
00261:     } catch {
00262:         Write-Host " ✗" -ForegroundColor Red
00263:         Write-Host "Installation de git-filter-repo requise:" -ForegroundColor Yellow
00264:         Write-Host "pip install git-filter-repo" -ForegroundColor Gray
00265:         return
00266:     }
00267:     
00268:     # Créer un fichier de remplacement
00269:     $replacements = @()
00270:     
00271:     # Motifs de tokens GitHub à rechercher
00272:     $tokenPatterns = @(
00273:         'ghp_[a-zA-Z0-9]{36,}',
00274:         'github_pat_[a-zA-Z0-9_]{82}',
00275:         'gho_[a-zA-Z0-9]{36,}',
00276:         'ghu_[a-zA-Z0-9]{36,}',
00277:         'ghs_[a-zA-Z0-9]{36,}',
00278:         'ghr_[a-zA-Z0-9]{36,}'
00279:     )
00280:     
00281:     # Créer le fichier de configuration pour git-filter-repo
00282:     $filterConfig = @"
00283: [filter "remove-secrets"]
00284:     smudge = cat
00285:     clean = sed -E 's/$($tokenPatterns -join '|')/***REMOVED***/g'
00286: "@
00287:     
00288:     $filterConfig | Out-File "git-filter-config.txt" -Encoding UTF8
00289:     
00290:     Write-Host "Nettoyage en cours..." -ForegroundColor Yellow
00291:     git filter-repo --force --replace-text "git-filter-config.txt"
00292:     
00293:     Remove-Item "git-filter-config.txt" -Force
00294:     
00295:     Write-Host "✅ Historique nettoyé !" -ForegroundColor Green
00296:     Write-Host "Maintenant forcez le push: git push origin --force --all" -ForegroundColor Cyan
00297: }
00298: 
00299: # ============================================================================
00300: # MENU PRINCIPAL MIS À JOUR
00301: # ============================================================================
00302: 
00303: # Dans le menu, remplacez l'option 1 par:
00304: switch ($choice) {
00305:     '1' {
00306:         Write-Host "`n=== PUBLICATION SÉCURISÉE GITHUB ===" -ForegroundColor Cyan
00307:         
00308:         # Demander les informations
00309:         if (-not $GITHUB_USERNAME) {
00310:             $GITHUB_USERNAME = Read-Host "Nom d'utilisateur GitHub"
00311:         }
00312:         
00313:         if (-not $GITHUB_REPO_NAME) {
00314:             $GITHUB_REPO_NAME = Read-Host "Nom du repository"
00315:         }
00316:         
00317:         # Option de nettoyage si nécessaire
00318:         Write-Host "`nOptions:" -ForegroundColor Yellow
00319:         Write-Host "1. Publier normalement" -ForegroundColor Green
00320:         Write-Host "2. Nettoyer l'historique des secrets d'abord" -ForegroundColor Red
00321:         
00322:         $option = Read-Host "Choix [1-2]"
00323:         
00324:         if ($option -eq '2') {
00325:             Remove-Secrets-From-Git
00326:         }
00327:         
00328:         # Publication sécurisée
00329:         $result = Publish-ToGitHubRepo-Secure -Username $GITHUB_USERNAME `
00330:                                             -RepoName $GITHUB_REPO_NAME `
00331:                                             -Description $GITHUB_REPO_DESCRIPTION `
00332:                                             -IsPrivate $GITHUB_REPO_PRIVATE
00333:         
00334:         if ($result.success) {
00335:             Write-Host ""
00336:             Write-Host "✅ Publication sécurisée réussie !" -ForegroundColor Green
00337:             Write-Host "Le token a été protégé et n'est pas dans l'historique Git." -ForegroundColor Cyan
00338:         } else {
00339:             Write-Host ""
00340:             Write-Host "❌ Échec de la publication" -ForegroundColor Red
00341:             Write-Host "Erreur: $($result.error)" -ForegroundColor Red
00342:         }
00343:         
00344:         Write-Host ""
00345:         Write-Host "Appuyez sur Entrée pour continuer..."
00346:         Read-Host
00347:     }
00348:     # ... autres options ...
00349: }

============================================================
FICHIER: SmartContractPipeline\quick-start.ps1
TAILLE: 12.47 KB
============================================================

00001: # setup.ps1 - Version sans accents
00002: Write-Host "=== SMART CONTRACT PIPELINE SETUP ===" -ForegroundColor Cyan
00003: Write-Host "Complete installation script" -ForegroundColor Yellow
00004: Write-Host ""
00005: 
00006: # Ask for confirmation
00007: $confirm = Read-Host "Do you want to install all components? (Y/N)"
00008: if ($confirm -ne "Y" -and $confirm -ne "y") {
00009:     Write-Host "Installation cancelled" -ForegroundColor Yellow
00010:     exit
00011: }
00012: 
00013: # 1. Check PowerShell version
00014: Write-Host "`n1. CHECKING POWERSHELL..." -ForegroundColor Yellow
00015: if ($PSVersionTable.PSVersion.Major -lt 5) {
00016:     Write-Host "X PowerShell 5.0 or higher required" -ForegroundColor Red
00017:     exit 1
00018: }
00019: Write-Host "V PowerShell $($PSVersionTable.PSVersion)" -ForegroundColor Green
00020: 
00021: # 2. Check required tools
00022: Write-Host "`n2. CHECKING REQUIRED TOOLS..." -ForegroundColor Yellow
00023: 
00024: $tools = @(
00025:     @{Name="Node.js"; Test="node --version"; Install="https://nodejs.org"},
00026:     @{Name="Python"; Test="python --version"; Install="https://python.org"},
00027:     @{Name="Git"; Test="git --version"; Install="https://git-scm.com"}
00028: )
00029: 
00030: foreach ($tool in $tools) {
00031:     Write-Host "Checking $($tool.Name)..." -ForegroundColor Gray
00032:     try {
00033:         Invoke-Expression $tool.Test 2>$null
00034:         Write-Host "V $($tool.Name) is installed" -ForegroundColor Green
00035:     } catch {
00036:         Write-Host "X $($tool.Name) is NOT installed" -ForegroundColor Red
00037:         Write-Host "  Install from: $($tool.Install)" -ForegroundColor Cyan
00038:     }
00039: }
00040: 
00041: # 3. Create project structure
00042: Write-Host "`n3. CREATING PROJECT STRUCTURE..." -ForegroundColor Yellow
00043: 
00044: $folders = @(
00045:     "agents",
00046:     "agents\architect",
00047:     "agents\coder",
00048:     "agents\communication",
00049:     "agents\documenter",
00050:     "agents\formal_verification",
00051:     "agents\frontend_web3",
00052:     "agents\fuzzing_simulation",
00053:     "agents\quality_metrics",
00054:     "agents\smart_contract",
00055:     "agents\tester",
00056:     "agents\shared",
00057:     "config",
00058:     "context",
00059:     "memory",
00060:     "memory\vector_store",
00061:     "memory\history",
00062:     "memory\learnings",
00063:     "workspace",
00064:     "workspace\contracts",
00065:     "workspace\frontend",
00066:     "sprints",
00067:     "reports",
00068:     "logs",
00069:     "scripts",
00070:     "tests"
00071: )
00072: 
00073: foreach ($folder in $folders) {
00074:     New-Item -ItemType Directory -Path $folder -Force -ErrorAction SilentlyContinue | Out-Null
00075:     Write-Host "  [FOLDER] $folder" -ForegroundColor Gray
00076: }
00077: 
00078: # 4. Create essential files
00079: Write-Host "`n4. CREATING ESSENTIAL FILES..." -ForegroundColor Yellow
00080: 
00081: # package.json
00082: @'
00083: {
00084:   "name": "smart-contract-pipeline",
00085:   "version": "1.0.0",
00086:   "description": "Automated Smart Contract Development Pipeline with AI Agents",
00087:   "main": "main.py",
00088:   "scripts": {
00089:     "start": "python main.py",
00090:     "test": "python -m pytest",
00091:     "hardhat": "cd workspace\\contracts && npx hardhat",
00092:     "frontend": "cd workspace\\frontend && npm run dev"
00093:   },
00094:   "keywords": ["blockchain", "smart-contract", "ai", "web3"],
00095:   "author": "SmartContractPipeline",
00096:   "license": "MIT"
00097: }
00098: '@ | Out-File -FilePath "package.json" -Force -Encoding UTF8
00099: Write-Host "V package.json created" -ForegroundColor Green
00100: 
00101: # requirements.txt
00102: @'
00103: # Core AI & ML
00104: langchain>=0.1.0
00105: chromadb>=0.4.0
00106: 
00107: # Web3 & Blockchain
00108: web3>=6.0.0
00109: eth-account>=0.11.0
00110: 
00111: # Web Framework & API
00112: fastapi>=0.104.0
00113: requests>=2.31.0
00114: 
00115: # Data Processing
00116: pyyaml>=6.0.0
00117: python-dotenv>=1.0.0
00118: 
00119: # Utilities
00120: pydantic>=2.0.0
00121: pytest>=7.4.0
00122: '@ | Out-File -FilePath "requirements.txt" -Force -Encoding UTF8
00123: Write-Host "V requirements.txt created" -ForegroundColor Green
00124: 
00125: # Create Python virtual environment
00126: Write-Host "`n5. SETTING UP PYTHON ENVIRONMENT..." -ForegroundColor Yellow
00127: if (-not (Test-Path ".venv")) {
00128:     python -m venv .venv
00129:     Write-Host "V Python virtual environment created" -ForegroundColor Green
00130: }
00131: 
00132: # Activate and install Python dependencies
00133: try {
00134:     & .\.venv\Scripts\Activate.ps1
00135:     python -m pip install --upgrade pip
00136:     pip install -r requirements.txt
00137:     Write-Host "V Python dependencies installed" -ForegroundColor Green
00138: } catch {
00139:     Write-Host "X Error installing Python dependencies: $_" -ForegroundColor Red
00140: }
00141: 
00142: # 6. Initialize Hardhat project
00143: Write-Host "`n6. INITIALIZING HARPHAT..." -ForegroundColor Yellow
00144: Set-Location "workspace\contracts"
00145: 
00146: try {
00147:     # Check if Hardhat is installed
00148:     npx hardhat --version 2>$null
00149:     Write-Host "V Hardhat is installed" -ForegroundColor Green
00150: } catch {
00151:     Write-Host "Installing Hardhat..." -ForegroundColor Gray
00152:     npm init -y
00153:     npm install --save-dev hardhat @nomicfoundation/hardhat-toolbox
00154: }
00155: 
00156: # Initialize Hardhat project if not exists
00157: if (-not (Test-Path "hardhat.config.js") -and -not (Test-Path "hardhat.config.ts")) {
00158:     npx hardhat init --typescript
00159:     npm install @openzeppelin/contracts ethers
00160:     Write-Host "V Hardhat project initialized" -ForegroundColor Green
00161: }
00162: 
00163: Set-Location ..\..
00164: 
00165: # 7. Create basic agent
00166: Write-Host "`n7. CREATING BASIC AGENT..." -ForegroundColor Yellow
00167: 
00168: $agentCode = @'
00169: # agents/smart_contract/agent.py
00170: import json
00171: from typing import Dict, Any
00172: 
00173: class SmartContractAgent:
00174:     """Basic Smart Contract Agent"""
00175:     
00176:     def __init__(self):
00177:         self.name = "Smart Contract Agent"
00178:         self.version = "1.0.0"
00179:     
00180:     def generate_contract(self, requirements: Dict[str, Any]) -> str:
00181:         """Generate a smart contract based on requirements"""
00182:         contract_name = requirements.get("name", "MyContract")
00183:         
00184:         template = f'''// SPDX-License-Identifier: MIT
00185: pragma solidity ^0.8.19;
00186: 
00187: contract {contract_name} {{
00188:     address public owner;
00189:     string public name;
00190:     string public symbol;
00191:     
00192:     constructor(string memory _name, string memory _symbol) {{
00193:         owner = msg.sender;
00194:         name = _name;
00195:         symbol = _symbol;
00196:     }}
00197:     
00198:     modifier onlyOwner() {{
00199:         require(msg.sender == owner, "Not owner");
00200:         _;
00201:     }}
00202:     
00203:     function transferOwnership(address newOwner) public onlyOwner {{
00204:         require(newOwner != address(0), "Invalid address");
00205:         owner = newOwner;
00206:     }}
00207:     
00208:     function getContractInfo() public view returns (string memory, string memory, address) {{
00209:         return (name, symbol, owner);
00210:     }}
00211: }}
00212: '''
00213:         
00214:         return template
00215:     
00216:     def get_agent_info(self) -> Dict[str, Any]:
00217:         """Get agent information"""
00218:         return {
00219:             "name": self.name,
00220:             "version": self.version,
00221:             "capabilities": ["contract_generation", "basic_validation"]
00222:         }
00223: '@
00224: 
00225: New-Item -ItemType Directory -Path "agents\smart_contract" -Force | Out-Null
00226: $agentCode | Out-File -FilePath "agents\smart_contract\agent.py" -Force -Encoding UTF8
00227: Write-Host "V Basic agent created" -ForegroundColor Green
00228: 
00229: # 8. Create test script
00230: Write-Host "`n8. CREATING TEST SCRIPT..." -ForegroundColor Yellow
00231: 
00232: $testScript = @'
00233: # test_basic.py
00234: import sys
00235: import os
00236: 
00237: # Add agents directory to path
00238: sys.path.append(os.path.join(os.path.dirname(__file__), "agents"))
00239: 
00240: def test_smart_contract_agent():
00241:     """Test the basic smart contract agent"""
00242:     print("🤖 Testing Smart Contract Agent")
00243:     print("=" * 40)
00244:     
00245:     try:
00246:         from smart_contract.agent import SmartContractAgent
00247:         
00248:         # Create agent
00249:         agent = SmartContractAgent()
00250:         print(f"Agent: {agent.name} v{agent.version}")
00251:         
00252:         # Test contract generation
00253:         requirements = {
00254:             "name": "MyToken",
00255:             "symbol": "MTK"
00256:         }
00257:         
00258:         contract = agent.generate_contract(requirements)
00259:         
00260:         print("✅ Contract generated successfully")
00261:         print(f"📄 Contract length: {len(contract)} characters")
00262:         
00263:         # Show agent info
00264:         info = agent.get_agent_info()
00265:         print(f"🔧 Capabilities: {', '.join(info['capabilities'])}")
00266:         
00267:         return True
00268:         
00269:     except Exception as e:
00270:         print(f"❌ Error: {e}")
00271:         import traceback
00272:         traceback.print_exc()
00273:         return False
00274: 
00275: if __name__ == "__main__":
00276:     success = test_smart_contract_agent()
00277:     print("=" * 40)
00278:     if success:
00279:         print("🎉 All tests passed!")
00280:     else:
00281:         print("💥 Some tests failed")
00282:     sys.exit(0 if success else 1)
00283: '@
00284: 
00285: $testScript | Out-File -FilePath "test_basic.py" -Force -Encoding UTF8
00286: Write-Host "V Test script created" -ForegroundColor Green
00287: 
00288: # 9. Create main.py
00289: Write-Host "`n9. CREATING MAIN APPLICATION..." -ForegroundColor Yellow
00290: 
00291: $mainApp = @'
00292: # main.py
00293: import asyncio
00294: import sys
00295: import os
00296: from typing import Dict, Any
00297: 
00298: class Pipeline:
00299:     """Main pipeline orchestrator"""
00300:     
00301:     def __init__(self):
00302:         self.agents = {}
00303:         
00304:     async def initialize(self):
00305:         """Initialize the pipeline"""
00306:         print("🚀 Initializing Smart Contract Pipeline...")
00307:         
00308:         # Load agents
00309:         await self._load_agents()
00310:         
00311:         print(f"✅ Pipeline initialized with {len(self.agents)} agents")
00312:         return True
00313:     
00314:     async def _load_agents(self):
00315:         """Load all available agents"""
00316:         agents_dir = os.path.join(os.path.dirname(__file__), "agents")
00317:         
00318:         # Load Smart Contract Agent
00319:         try:
00320:             from agents.smart_contract.agent import SmartContractAgent
00321:             self.agents["smart_contract"] = SmartContractAgent()
00322:             print("✅ Smart Contract Agent loaded")
00323:         except ImportError as e:
00324:             print(f"❌ Failed to load Smart Contract Agent: {e}")
00325:     
00326:     async def run(self):
00327:         """Run the main pipeline"""
00328:         print("🎯 Smart Contract Pipeline Ready!")
00329:         print("=" * 50)
00330:         
00331:         while True:
00332:             print("`nAvailable commands:")
00333:             print("1. Generate Smart Contract")
00334:             print("2. Test Agent")
00335:             print("3. Exit")
00336:             
00337:             choice = input("Select option (1-3): ").strip()
00338:             
00339:             if choice == "1":
00340:                 await self.generate_contract()
00341:             elif choice == "2":
00342:                 await self.test_agent()
00343:             elif choice == "3":
00344:                 print("👋 Goodbye!")
00345:                 break
00346:             else:
00347:                 print("❌ Invalid choice")
00348:     
00349:     async def generate_contract(self):
00350:         """Generate a smart contract"""
00351:         print("`n📝 Smart Contract Generator")
00352:         print("-" * 30)
00353:         
00354:         name = input("Contract name: ").strip() or "MyContract"
00355:         symbol = input("Contract symbol: ").strip() or "MC"
00356:         
00357:         if "smart_contract" in self.agents:
00358:             agent = self.agents["smart_contract"]
00359:             
00360:             requirements = {
00361:                 "name": name,
00362:                 "symbol": symbol
00363:             }
00364:             
00365:             contract = agent.generate_contract(requirements)
00366:             
00367:             print("✅ Contract generated!")
00368:             print("-" * 30)
00369:             print(contract[:500] + "..." if len(contract) > 500 else contract)
00370:             print("-" * 30)
00371:             
00372:             # Save to file
00373:             filename = f"contracts/{name}.sol"
00374:             os.makedirs("contracts", exist_ok=True)
00375:             with open(filename, "w") as f:
00376:                 f.write(contract)
00377:             
00378:             print(f"📄 Contract saved to {filename}")
00379:         else:
00380:             print("❌ Smart Contract Agent not available")
00381:     
00382:     async def test_agent(self):
00383:         """Test the agent"""
00384:         print("`n🧪 Testing Agent...")
00385:         
00386:         if "smart_contract" in self.agents:
00387:             agent = self.agents["smart_contract"]
00388:             info = agent.get_agent_info()
00389:             
00390:             print(f"Agent: {info['name']}")
00391:             print(f"Version: {info['version']}")
00392:             print(f"Capabilities: {', '.join(info['capabilities'])}")
00393:             print("✅ Agent is working correctly")
00394:         else:
00395:             print("❌ No agents available")
00396: 
00397: async def main():
00398:     """Main entry point"""
00399:     pipeline = Pipeline()
00400:     
00401:     if await pipeline.initialize():
00402:         await pipeline.run()
00403:     else:
00404:         print("❌ Failed to initialize pipeline")
00405: 
00406: if __name__ == "__main__":
00407:     asyncio.run(main())
00408: '@
00409: 
00410: $mainApp | Out-File -FilePath "main.py" -Force -Encoding UTF8
00411: Write-Host "V Main application created" -ForegroundColor Green
00412: 
00413: # 10. Create README
00414: Write-Host "`n10. CREATING DOCUMENTATION..." -ForegroundColor Yellow
00415: 
00416: $readme = @'
00417: # Smart Contract Pipeline
00418: 
00419: Automated Smart Contract development pipeline with AI agents.
00420: 
00421: ## Quick Start
00422: 
00423: 1. Run the setup script:
00424: ```powershell
00425: powershell -ExecutionPolicy Bypass -File .\setup.ps1

============================================================
FICHIER: SmartContractPipeline\v1_setup (sans agents).ps1
TAILLE: 12.47 KB
============================================================

00001: # setup.ps1 - Version sans accents
00002: Write-Host "=== SMART CONTRACT PIPELINE SETUP ===" -ForegroundColor Cyan
00003: Write-Host "Complete installation script" -ForegroundColor Yellow
00004: Write-Host ""
00005: 
00006: # Ask for confirmation
00007: $confirm = Read-Host "Do you want to install all components? (Y/N)"
00008: if ($confirm -ne "Y" -and $confirm -ne "y") {
00009:     Write-Host "Installation cancelled" -ForegroundColor Yellow
00010:     exit
00011: }
00012: 
00013: # 1. Check PowerShell version
00014: Write-Host "`n1. CHECKING POWERSHELL..." -ForegroundColor Yellow
00015: if ($PSVersionTable.PSVersion.Major -lt 5) {
00016:     Write-Host "X PowerShell 5.0 or higher required" -ForegroundColor Red
00017:     exit 1
00018: }
00019: Write-Host "V PowerShell $($PSVersionTable.PSVersion)" -ForegroundColor Green
00020: 
00021: # 2. Check required tools
00022: Write-Host "`n2. CHECKING REQUIRED TOOLS..." -ForegroundColor Yellow
00023: 
00024: $tools = @(
00025:     @{Name="Node.js"; Test="node --version"; Install="https://nodejs.org"},
00026:     @{Name="Python"; Test="python --version"; Install="https://python.org"},
00027:     @{Name="Git"; Test="git --version"; Install="https://git-scm.com"}
00028: )
00029: 
00030: foreach ($tool in $tools) {
00031:     Write-Host "Checking $($tool.Name)..." -ForegroundColor Gray
00032:     try {
00033:         Invoke-Expression $tool.Test 2>$null
00034:         Write-Host "V $($tool.Name) is installed" -ForegroundColor Green
00035:     } catch {
00036:         Write-Host "X $($tool.Name) is NOT installed" -ForegroundColor Red
00037:         Write-Host "  Install from: $($tool.Install)" -ForegroundColor Cyan
00038:     }
00039: }
00040: 
00041: # 3. Create project structure
00042: Write-Host "`n3. CREATING PROJECT STRUCTURE..." -ForegroundColor Yellow
00043: 
00044: $folders = @(
00045:     "agents",
00046:     "agents\architect",
00047:     "agents\coder",
00048:     "agents\communication",
00049:     "agents\documenter",
00050:     "agents\formal_verification",
00051:     "agents\frontend_web3",
00052:     "agents\fuzzing_simulation",
00053:     "agents\quality_metrics",
00054:     "agents\smart_contract",
00055:     "agents\tester",
00056:     "agents\shared",
00057:     "config",
00058:     "context",
00059:     "memory",
00060:     "memory\vector_store",
00061:     "memory\history",
00062:     "memory\learnings",
00063:     "workspace",
00064:     "workspace\contracts",
00065:     "workspace\frontend",
00066:     "sprints",
00067:     "reports",
00068:     "logs",
00069:     "scripts",
00070:     "tests"
00071: )
00072: 
00073: foreach ($folder in $folders) {
00074:     New-Item -ItemType Directory -Path $folder -Force -ErrorAction SilentlyContinue | Out-Null
00075:     Write-Host "  [FOLDER] $folder" -ForegroundColor Gray
00076: }
00077: 
00078: # 4. Create essential files
00079: Write-Host "`n4. CREATING ESSENTIAL FILES..." -ForegroundColor Yellow
00080: 
00081: # package.json
00082: @'
00083: {
00084:   "name": "smart-contract-pipeline",
00085:   "version": "1.0.0",
00086:   "description": "Automated Smart Contract Development Pipeline with AI Agents",
00087:   "main": "main.py",
00088:   "scripts": {
00089:     "start": "python main.py",
00090:     "test": "python -m pytest",
00091:     "hardhat": "cd workspace\\contracts && npx hardhat",
00092:     "frontend": "cd workspace\\frontend && npm run dev"
00093:   },
00094:   "keywords": ["blockchain", "smart-contract", "ai", "web3"],
00095:   "author": "SmartContractPipeline",
00096:   "license": "MIT"
00097: }
00098: '@ | Out-File -FilePath "package.json" -Force -Encoding UTF8
00099: Write-Host "V package.json created" -ForegroundColor Green
00100: 
00101: # requirements.txt
00102: @'
00103: # Core AI & ML
00104: langchain>=0.1.0
00105: chromadb>=0.4.0
00106: 
00107: # Web3 & Blockchain
00108: web3>=6.0.0
00109: eth-account>=0.11.0
00110: 
00111: # Web Framework & API
00112: fastapi>=0.104.0
00113: requests>=2.31.0
00114: 
00115: # Data Processing
00116: pyyaml>=6.0.0
00117: python-dotenv>=1.0.0
00118: 
00119: # Utilities
00120: pydantic>=2.0.0
00121: pytest>=7.4.0
00122: '@ | Out-File -FilePath "requirements.txt" -Force -Encoding UTF8
00123: Write-Host "V requirements.txt created" -ForegroundColor Green
00124: 
00125: # Create Python virtual environment
00126: Write-Host "`n5. SETTING UP PYTHON ENVIRONMENT..." -ForegroundColor Yellow
00127: if (-not (Test-Path ".venv")) {
00128:     python -m venv .venv
00129:     Write-Host "V Python virtual environment created" -ForegroundColor Green
00130: }
00131: 
00132: # Activate and install Python dependencies
00133: try {
00134:     & .\.venv\Scripts\Activate.ps1
00135:     python -m pip install --upgrade pip
00136:     pip install -r requirements.txt
00137:     Write-Host "V Python dependencies installed" -ForegroundColor Green
00138: } catch {
00139:     Write-Host "X Error installing Python dependencies: $_" -ForegroundColor Red
00140: }
00141: 
00142: # 6. Initialize Hardhat project
00143: Write-Host "`n6. INITIALIZING HARPHAT..." -ForegroundColor Yellow
00144: Set-Location "workspace\contracts"
00145: 
00146: try {
00147:     # Check if Hardhat is installed
00148:     npx hardhat --version 2>$null
00149:     Write-Host "V Hardhat is installed" -ForegroundColor Green
00150: } catch {
00151:     Write-Host "Installing Hardhat..." -ForegroundColor Gray
00152:     npm init -y
00153:     npm install --save-dev hardhat @nomicfoundation/hardhat-toolbox
00154: }
00155: 
00156: # Initialize Hardhat project if not exists
00157: if (-not (Test-Path "hardhat.config.js") -and -not (Test-Path "hardhat.config.ts")) {
00158:     npx hardhat init --typescript
00159:     npm install @openzeppelin/contracts ethers
00160:     Write-Host "V Hardhat project initialized" -ForegroundColor Green
00161: }
00162: 
00163: Set-Location ..\..
00164: 
00165: # 7. Create basic agent
00166: Write-Host "`n7. CREATING BASIC AGENT..." -ForegroundColor Yellow
00167: 
00168: $agentCode = @'
00169: # agents/smart_contract/agent.py
00170: import json
00171: from typing import Dict, Any
00172: 
00173: class SmartContractAgent:
00174:     """Basic Smart Contract Agent"""
00175:     
00176:     def __init__(self):
00177:         self.name = "Smart Contract Agent"
00178:         self.version = "1.0.0"
00179:     
00180:     def generate_contract(self, requirements: Dict[str, Any]) -> str:
00181:         """Generate a smart contract based on requirements"""
00182:         contract_name = requirements.get("name", "MyContract")
00183:         
00184:         template = f'''// SPDX-License-Identifier: MIT
00185: pragma solidity ^0.8.19;
00186: 
00187: contract {contract_name} {{
00188:     address public owner;
00189:     string public name;
00190:     string public symbol;
00191:     
00192:     constructor(string memory _name, string memory _symbol) {{
00193:         owner = msg.sender;
00194:         name = _name;
00195:         symbol = _symbol;
00196:     }}
00197:     
00198:     modifier onlyOwner() {{
00199:         require(msg.sender == owner, "Not owner");
00200:         _;
00201:     }}
00202:     
00203:     function transferOwnership(address newOwner) public onlyOwner {{
00204:         require(newOwner != address(0), "Invalid address");
00205:         owner = newOwner;
00206:     }}
00207:     
00208:     function getContractInfo() public view returns (string memory, string memory, address) {{
00209:         return (name, symbol, owner);
00210:     }}
00211: }}
00212: '''
00213:         
00214:         return template
00215:     
00216:     def get_agent_info(self) -> Dict[str, Any]:
00217:         """Get agent information"""
00218:         return {
00219:             "name": self.name,
00220:             "version": self.version,
00221:             "capabilities": ["contract_generation", "basic_validation"]
00222:         }
00223: '@
00224: 
00225: New-Item -ItemType Directory -Path "agents\smart_contract" -Force | Out-Null
00226: $agentCode | Out-File -FilePath "agents\smart_contract\agent.py" -Force -Encoding UTF8
00227: Write-Host "V Basic agent created" -ForegroundColor Green
00228: 
00229: # 8. Create test script
00230: Write-Host "`n8. CREATING TEST SCRIPT..." -ForegroundColor Yellow
00231: 
00232: $testScript = @'
00233: # test_basic.py
00234: import sys
00235: import os
00236: 
00237: # Add agents directory to path
00238: sys.path.append(os.path.join(os.path.dirname(__file__), "agents"))
00239: 
00240: def test_smart_contract_agent():
00241:     """Test the basic smart contract agent"""
00242:     print("🤖 Testing Smart Contract Agent")
00243:     print("=" * 40)
00244:     
00245:     try:
00246:         from smart_contract.agent import SmartContractAgent
00247:         
00248:         # Create agent
00249:         agent = SmartContractAgent()
00250:         print(f"Agent: {agent.name} v{agent.version}")
00251:         
00252:         # Test contract generation
00253:         requirements = {
00254:             "name": "MyToken",
00255:             "symbol": "MTK"
00256:         }
00257:         
00258:         contract = agent.generate_contract(requirements)
00259:         
00260:         print("✅ Contract generated successfully")
00261:         print(f"📄 Contract length: {len(contract)} characters")
00262:         
00263:         # Show agent info
00264:         info = agent.get_agent_info()
00265:         print(f"🔧 Capabilities: {', '.join(info['capabilities'])}")
00266:         
00267:         return True
00268:         
00269:     except Exception as e:
00270:         print(f"❌ Error: {e}")
00271:         import traceback
00272:         traceback.print_exc()
00273:         return False
00274: 
00275: if __name__ == "__main__":
00276:     success = test_smart_contract_agent()
00277:     print("=" * 40)
00278:     if success:
00279:         print("🎉 All tests passed!")
00280:     else:
00281:         print("💥 Some tests failed")
00282:     sys.exit(0 if success else 1)
00283: '@
00284: 
00285: $testScript | Out-File -FilePath "test_basic.py" -Force -Encoding UTF8
00286: Write-Host "V Test script created" -ForegroundColor Green
00287: 
00288: # 9. Create main.py
00289: Write-Host "`n9. CREATING MAIN APPLICATION..." -ForegroundColor Yellow
00290: 
00291: $mainApp = @'
00292: # main.py
00293: import asyncio
00294: import sys
00295: import os
00296: from typing import Dict, Any
00297: 
00298: class Pipeline:
00299:     """Main pipeline orchestrator"""
00300:     
00301:     def __init__(self):
00302:         self.agents = {}
00303:         
00304:     async def initialize(self):
00305:         """Initialize the pipeline"""
00306:         print("🚀 Initializing Smart Contract Pipeline...")
00307:         
00308:         # Load agents
00309:         await self._load_agents()
00310:         
00311:         print(f"✅ Pipeline initialized with {len(self.agents)} agents")
00312:         return True
00313:     
00314:     async def _load_agents(self):
00315:         """Load all available agents"""
00316:         agents_dir = os.path.join(os.path.dirname(__file__), "agents")
00317:         
00318:         # Load Smart Contract Agent
00319:         try:
00320:             from agents.smart_contract.agent import SmartContractAgent
00321:             self.agents["smart_contract"] = SmartContractAgent()
00322:             print("✅ Smart Contract Agent loaded")
00323:         except ImportError as e:
00324:             print(f"❌ Failed to load Smart Contract Agent: {e}")
00325:     
00326:     async def run(self):
00327:         """Run the main pipeline"""
00328:         print("🎯 Smart Contract Pipeline Ready!")
00329:         print("=" * 50)
00330:         
00331:         while True:
00332:             print("`nAvailable commands:")
00333:             print("1. Generate Smart Contract")
00334:             print("2. Test Agent")
00335:             print("3. Exit")
00336:             
00337:             choice = input("Select option (1-3): ").strip()
00338:             
00339:             if choice == "1":
00340:                 await self.generate_contract()
00341:             elif choice == "2":
00342:                 await self.test_agent()
00343:             elif choice == "3":
00344:                 print("👋 Goodbye!")
00345:                 break
00346:             else:
00347:                 print("❌ Invalid choice")
00348:     
00349:     async def generate_contract(self):
00350:         """Generate a smart contract"""
00351:         print("`n📝 Smart Contract Generator")
00352:         print("-" * 30)
00353:         
00354:         name = input("Contract name: ").strip() or "MyContract"
00355:         symbol = input("Contract symbol: ").strip() or "MC"
00356:         
00357:         if "smart_contract" in self.agents:
00358:             agent = self.agents["smart_contract"]
00359:             
00360:             requirements = {
00361:                 "name": name,
00362:                 "symbol": symbol
00363:             }
00364:             
00365:             contract = agent.generate_contract(requirements)
00366:             
00367:             print("✅ Contract generated!")
00368:             print("-" * 30)
00369:             print(contract[:500] + "..." if len(contract) > 500 else contract)
00370:             print("-" * 30)
00371:             
00372:             # Save to file
00373:             filename = f"contracts/{name}.sol"
00374:             os.makedirs("contracts", exist_ok=True)
00375:             with open(filename, "w") as f:
00376:                 f.write(contract)
00377:             
00378:             print(f"📄 Contract saved to {filename}")
00379:         else:
00380:             print("❌ Smart Contract Agent not available")
00381:     
00382:     async def test_agent(self):
00383:         """Test the agent"""
00384:         print("`n🧪 Testing Agent...")
00385:         
00386:         if "smart_contract" in self.agents:
00387:             agent = self.agents["smart_contract"]
00388:             info = agent.get_agent_info()
00389:             
00390:             print(f"Agent: {info['name']}")
00391:             print(f"Version: {info['version']}")
00392:             print(f"Capabilities: {', '.join(info['capabilities'])}")
00393:             print("✅ Agent is working correctly")
00394:         else:
00395:             print("❌ No agents available")
00396: 
00397: async def main():
00398:     """Main entry point"""
00399:     pipeline = Pipeline()
00400:     
00401:     if await pipeline.initialize():
00402:         await pipeline.run()
00403:     else:
00404:         print("❌ Failed to initialize pipeline")
00405: 
00406: if __name__ == "__main__":
00407:     asyncio.run(main())
00408: '@
00409: 
00410: $mainApp | Out-File -FilePath "main.py" -Force -Encoding UTF8
00411: Write-Host "V Main application created" -ForegroundColor Green
00412: 
00413: # 10. Create README
00414: Write-Host "`n10. CREATING DOCUMENTATION..." -ForegroundColor Yellow
00415: 
00416: $readme = @'
00417: # Smart Contract Pipeline
00418: 
00419: Automated Smart Contract development pipeline with AI agents.
00420: 
00421: ## Quick Start
00422: 
00423: 1. Run the setup script:
00424: ```powershell
00425: powershell -ExecutionPolicy Bypass -File .\setup.ps1

============================================================
FICHIER: SmartContractPipeline\Share_GithubV7.bat
TAILLE: 12.26 KB
============================================================

00001: @echo off
00002: chcp 65001
00003: title Final Share - Batch Only
00004: color 0A
00005: 
00006: :menu
00007: cls
00008: echo.
00009: echo ========================================
00010: echo   FINAL SHARE - BATCH ONLY
00011: echo ========================================
00012: echo.
00013: echo 1. CREATE FULL SHARE (all files with line numbers)
00014: echo 2. CREATE DIFF SHARE (changed files only)
00015: echo 3. GIT COMMIT + PUSH
00016: echo 4. EXIT
00017: echo.
00018: 
00019: set /p choice=Enter choice (1-4): 
00020: 
00021: if "%choice%"=="1" goto fullshare
00022: if "%choice%"=="2" goto diffshare
00023: if "%choice%"=="3" goto gitpush
00024: if "%choice%"=="4" exit /b 0
00025: goto menu
00026: 
00027: :fullshare
00028: cls
00029: echo Creating project share with line numbers and full paths...
00030: 
00031: rem Create header
00032: echo ============================================================================== > PROJECT_SHARE.txt
00033: echo STRUCTURED LENDING PROTOCOL - FULL PROJECT SHARE >> PROJECT_SHARE.txt
00034: echo ============================================================================== >> PROJECT_SHARE.txt
00035: echo GitHub: poolsyncdefi-ui/SmartContractPipeline >> PROJECT_SHARE.txt
00036: echo Repo URL: https://github.com/poolsyncdefi-ui/SmartContractPipeline >> PROJECT_SHARE.txt
00037: echo Date: %date% Time: %time% >> PROJECT_SHARE.txt
00038: echo. >> PROJECT_SHARE.txt
00039: 
00040: rem Get git info
00041: echo [GIT INFORMATION] >> PROJECT_SHARE.txt
00042: echo ------------------------------------------------------------------------------ >> PROJECT_SHARE.txt
00043: for /f "delims=" %%i in ('git branch --show-current 2^>nul') do echo Branch: %%i >> PROJECT_SHARE.txt
00044: for /f "delims=" %%i in ('git rev-parse --short HEAD 2^>nul') do echo Commit: %%i >> PROJECT_SHARE.txt
00045: for /f "delims=" %%i in ('git log --oneline -1 --pretty=format:"%%s" 2^>nul') do echo Last commit: %%i >> PROJECT_SHARE.txt
00046: echo. >> PROJECT_SHARE.txt
00047: 
00048: rem === CONTRACTS DIRECTORY ===
00049: echo [CONTRACTS DIRECTORY - *.sol files] >> PROJECT_SHARE.txt
00050: echo ============================================================================== >> PROJECT_SHARE.txt
00051: set contract_count=0
00052: for /r contracts %%f in (*.sol) do (
00053:     set /a contract_count+=1
00054:     
00055:     set "filepath=%%f"
00056:     set "filename=%%~nxf"
00057:     set "filesize=%%~z"
00058:     set "filemodified=%%~tf"
00059:     
00060:     echo. >> PROJECT_SHARE.txt
00061:     echo FILE %contract_count% ^| !filepath! >> PROJECT_SHARE.txt
00062:     echo Size: !filesize! bytes ^| Modified: !filemodified! >> PROJECT_SHARE.txt
00063:     echo ------------------------------------------------------------------------------ >> PROJECT_SHARE.txt
00064:     
00065:     if exist "%%f" (
00066:         setlocal enabledelayedexpansion
00067:         set line_num=1
00068:         for /f "tokens=* delims=" %%a in ('type "%%f"') do (
00069:             echo !line_num!: %%a >> PROJECT_SHARE.txt
00070:             set /a line_num+=1
00071:         )
00072:         endlocal
00073:     ) else (
00074:         echo [FILE NOT FOUND] >> PROJECT_SHARE.txt
00075:     )
00076:     echo ------------------------------------------------------------------------------ >> PROJECT_SHARE.txt
00077: )
00078: 
00079: rem === SCRIPTS DIRECTORY ===
00080: echo. >> PROJECT_SHARE.txt
00081: echo [SCRIPTS DIRECTORY - *.js, *.bat, *.sh, *.txt files] >> PROJECT_SHARE.txt
00082: echo ============================================================================== >> PROJECT_SHARE.txt
00083: set script_count=0
00084: for /r scripts %%f in (*.js *.bat *.sh *.txt) do (
00085:     if exist "%%f" (
00086:         set /a script_count+=1
00087:         
00088:         set "filepath=%%f"
00089:         set "filename=%%~nxf"
00090:         set "filesize=%%~z"
00091:         set "filemodified=%%~tf"
00092:         set "fileext=%%~xf"
00093:         
00094:         echo. >> PROJECT_SHARE.txt
00095:         echo SCRIPT !script_count! ^| !filepath! >> PROJECT_SHARE.txt
00096:         echo Size: !filesize! bytes ^| Type: !fileext! ^| Modified: !filemodified! >> PROJECT_SHARE.txt
00097:         echo ------------------------------------------------------------------------------ >> PROJECT_SHARE.txt
00098:         
00099:         setlocal enabledelayedexpansion
00100:         set line_num=1
00101:         for /f "tokens=* delims=" %%a in ('type "%%f"') do (
00102:             echo !line_num!: %%a >> PROJECT_SHARE.txt
00103:             set /a line_num+=1
00104:         )
00105:         endlocal
00106:         echo ------------------------------------------------------------------------------ >> PROJECT_SHARE.txt
00107:     )
00108: )
00109: 
00110: rem === TESTS DIRECTORY ===
00111: echo. >> PROJECT_SHARE.txt
00112: echo [TESTS DIRECTORY - *.js, *.txt files] >> PROJECT_SHARE.txt
00113: echo ============================================================================== >> PROJECT_SHARE.txt
00114: set test_count=0
00115: for /r test %%f in (*.js *.txt) do (
00116:     if exist "%%f" (
00117:         set /a test_count+=1
00118:         
00119:         set "filepath=%%f"
00120:         set "filename=%%~nxf"
00121:         set "filesize=%%~z"
00122:         set "filemodified=%%~tf"
00123:         set "fileext=%%~xf"
00124:         
00125:         echo. >> PROJECT_SHARE.txt
00126:         echo TEST !test_count! ^| !filepath! >> PROJECT_SHARE.txt
00127:         echo Size: !filesize! bytes ^| Type: !fileext! ^| Modified: !filemodified! >> PROJECT_SHARE.txt
00128:         echo ------------------------------------------------------------------------------ >> PROJECT_SHARE.txt
00129:         
00130:         setlocal enabledelayedexpansion
00131:         set line_num=1
00132:         for /f "tokens=* delims=" %%a in ('type "%%f"') do (
00133:             echo !line_num!: %%a >> PROJECT_SHARE.txt
00134:             set /a line_num+=1
00135:         )
00136:         endlocal
00137:         echo ------------------------------------------------------------------------------ >> PROJECT_SHARE.txt
00138:     )
00139: )
00140: 
00141: rem === PROJECT STRUCTURE ===
00142: echo. >> PROJECT_SHARE.txt
00143: echo [PROJECT FILE STRUCTURE] >> PROJECT_SHARE.txt
00144: echo ============================================================================== >> PROJECT_SHARE.txt
00145: echo Listing all project files... >> PROJECT_SHARE.txt
00146: echo. >> PROJECT_SHARE.txt
00147: 
00148: echo CONTRACTS: >> PROJECT_SHARE.txt
00149: dir contracts /b /s >> PROJECT_SHARE.txt
00150: echo. >> PROJECT_SHARE.txt
00151: 
00152: echo SCRIPTS: >> PROJECT_SHARE.txt
00153: dir scripts /b /s >> PROJECT_SHARE.txt
00154: echo. >> PROJECT_SHARE.txt
00155: 
00156: echo TESTS: >> PROJECT_SHARE.txt
00157: dir test /b /s >> PROJECT_SHARE.txt
00158: echo. >> PROJECT_SHARE.txt
00159: 
00160: echo CONFIG FILES: >> PROJECT_SHARE.txt
00161: dir *.json *.toml *.yml *.yaml *.config *.cfg /b >> PROJECT_SHARE.txt
00162: echo. >> PROJECT_SHARE.txt
00163: 
00164: rem === SUMMARY ===
00165: echo. >> PROJECT_SHARE.txt
00166: echo [SUMMARY] >> PROJECT_SHARE.txt
00167: echo ============================================================================== >> PROJECT_SHARE.txt
00168: echo Total contract files: %contract_count% >> PROJECT_SHARE.txt
00169: echo Total script files: %script_count% >> PROJECT_SHARE.txt
00170: echo Total test files: %test_count% >> PROJECT_SHARE.txt
00171: set /a total_files=contract_count+script_count+test_count
00172: echo Total code files: %total_files% >> PROJECT_SHARE.txt
00173: echo. >> PROJECT_SHARE.txt
00174: echo Generated: %date% %time% >> PROJECT_SHARE.txt
00175: echo ============================================================================== >> PROJECT_SHARE.txt
00176: 
00177: cls
00178: echo File created: PROJECT_SHARE.txt
00179: echo Files: %total_files% total (%contract_count% contracts, %script_count% scripts, %test_count% tests)
00180: echo.
00181: echo Copy content to pastebin.com and share the URL
00182: echo.
00183: pause
00184: goto menu
00185: 
00186: :diffshare
00187: cls
00188: echo Creating diff report...
00189: 
00190: rem Create diff report
00191: echo ============================================================================== > DIFF_REPORT.txt
00192: echo STRUCTURED LENDING PROTOCOL - DIFF REPORT >> DIFF_REPORT.txt
00193: echo ============================================================================== >> DIFF_REPORT.txt
00194: echo Date: %date% Time: %time% >> DIFF_REPORT.txt
00195: echo. >> DIFF_REPORT.txt
00196: 
00197: rem Get git information
00198: echo [GIT STATUS] >> DIFF_REPORT.txt
00199: echo ------------------------------------------------------------------------------ >> DIFF_REPORT.txt
00200: git status >> DIFF_REPORT.txt 2>nul
00201: echo. >> DIFF_REPORT.txt
00202: 
00203: rem Get changed files with details
00204: echo [CHANGED FILES DETAIL] >> DIFF_REPORT.txt
00205: echo ============================================================================== >> DIFF_REPORT.txt
00206: set changed_count=0
00207: for /f "tokens=1,*" %%a in ('git status --porcelain 2^>nul') do (
00208:     set status=%%a
00209:     set "file=%%b"
00210:     
00211:     if exist "!file!" (
00212:         set /a changed_count+=1
00213:         
00214:         set "filepath=!file!"
00215:         set "filesize=%%~z"
00216:         set "filemodified=%%~tf"
00217:         
00218:         echo. >> DIFF_REPORT.txt
00219:         echo FILE !changed_count! ^| !filepath! >> DIFF_REPORT.txt
00220:         echo Status: !status! ^| Size: !filesize! bytes ^| Modified: !filemodified! >> DIFF_REPORT.txt
00221:         echo ------------------------------------------------------------------------------ >> DIFF_REPORT.txt
00222:         
00223:         if "!status!"=="??" (
00224:             echo [NEW FILE - FULL CONTENT WITH LINE NUMBERS] >> DIFF_REPORT.txt
00225:             echo ------------------------------------------------------------------------------ >> DIFF_REPORT.txt
00226:             setlocal enabledelayedexpansion
00227:             set line_num=1
00228:             for /f "tokens=* delims=" %%l in ('type "!file!"') do (
00229:                 echo !line_num!: %%l >> DIFF_REPORT.txt
00230:                 set /a line_num+=1
00231:             )
00232:             endlocal
00233:         ) else (
00234:             echo [MODIFICATIONS - GIT DIFF OUTPUT] >> DIFF_REPORT.txt
00235:             echo ------------------------------------------------------------------------------ >> DIFF_REPORT.txt
00236:             git diff "!file!" >> DIFF_REPORT.txt 2>nul
00237:             if errorlevel 1 (
00238:                 git diff --cached "!file!" >> DIFF_REPORT.txt 2>nul
00239:             )
00240:             echo. >> DIFF_REPORT.txt
00241:             echo [CURRENT FILE CONTENT WITH LINE NUMBERS] >> DIFF_REPORT.txt
00242:             echo ------------------------------------------------------------------------------ >> DIFF_REPORT.txt
00243:             setlocal enabledelayedexpansion
00244:             set line_num=1
00245:             for /f "tokens=* delims=" %%l in ('type "!file!"') do (
00246:                 echo !line_num!: %%l >> DIFF_REPORT.txt
00247:                 set /a line_num+=1
00248:             )
00249:             endlocal
00250:         )
00251:         echo ------------------------------------------------------------------------------ >> DIFF_REPORT.txt
00252:     )
00253: )
00254: 
00255: if %changed_count%==0 (
00256:     echo No changes detected in the working directory. >> DIFF_REPORT.txt
00257:     echo. >> DIFF_REPORT.txt
00258: )
00259: 
00260: if %changed_count% gtr 0 (
00261:     echo. >> DIFF_REPORT.txt
00262:     echo [LINE-BY-LINE CHANGES SUMMARY] >> DIFF_REPORT.txt
00263:     echo ============================================================================== >> DIFF_REPORT.txt
00264:     for /f "tokens=2" %%f in ('git status --porcelain 2^>nul ^| findstr /r "^M ^A ^??"') do (
00265:         if exist "%%f" (
00266:             echo. >> DIFF_REPORT.txt
00267:             echo FILE: %%f >> DIFF_REPORT.txt
00268:             echo ------------------------------------------------------------------------------ >> DIFF_REPORT.txt
00269:             git diff --unified=0 "%%f" 2>nul | findstr "+" "-" >> DIFF_REPORT.txt
00270:             echo ------------------------------------------------------------------------------ >> DIFF_REPORT.txt
00271:         )
00272:     )
00273: )
00274: 
00275: echo. >> DIFF_REPORT.txt
00276: echo [GIT DIFF SUMMARY] >> DIFF_REPORT.txt
00277: echo ============================================================================== >> DIFF_REPORT.txt
00278: git diff --stat >> DIFF_REPORT.txt 2>nul
00279: if errorlevel 1 (
00280:     echo No staged changes. Use 'git diff --cached' for staged changes. >> DIFF_REPORT.txt
00281: )
00282: 
00283: rem Summary
00284: echo. >> DIFF_REPORT.txt
00285: echo [REPORT SUMMARY] >> DIFF_REPORT.txt
00286: echo ============================================================================== >> DIFF_REPORT.txt
00287: echo Total changed files: %changed_count% >> DIFF_REPORT.txt
00288: echo Report generated: %date% %time% >> DIFF_REPORT.txt
00289: echo. >> DIFF_REPORT.txt
00290: echo INSTRUCTIONS FOR CODE REVIEW: >> DIFF_REPORT.txt
00291: echo 1. Files are listed with full paths for precise location >> DIFF_REPORT.txt
00292: echo 2. Line numbers are included for specific references >> DIFF_REPORT.txt
00293: echo 3. Changes marked with + (additions) and - (deletions) >> DIFF_REPORT.txt
00294: echo 4. New files show complete content >> DIFF_REPORT.txt
00295: echo ============================================================================== >> DIFF_REPORT.txt
00296: 
00297: cls
00298: echo File created: DIFF_REPORT.txt
00299: echo Changed files: %changed_count%
00300: echo.
00301: echo Copy content to pastebin.com and share the URL
00302: echo.
00303: pause
00304: goto menu
00305: 
00306: :gitpush
00307: cls
00308: echo GitHub: https://github.com/poolsyncdefi-ui/SmartContractPipeline
00309: echo.
00310: set /p msg=Commit message: 
00311: if "%msg%"=="" set msg="Project update"
00312: echo.
00313: git add .
00314: git commit -m "%msg%"
00315: git push
00316: echo.
00317: echo Verify commit: https://github.com/poolsyncdefi-ui/SmartContractPipeline/commits/main
00318: echo.
00319: pause
00320: goto menu

============================================================
FICHIER: v1_setup (sans agents).ps1
TAILLE: 12.06 KB
============================================================

00001: # setup.ps1 - Version sans accents
00002: Write-Host "=== SMART CONTRACT PIPELINE SETUP ===" -ForegroundColor Cyan
00003: Write-Host "Complete installation script" -ForegroundColor Yellow
00004: Write-Host ""
00005: 
00006: # Ask for confirmation
00007: $confirm = Read-Host "Do you want to install all components? (Y/N)"
00008: if ($confirm -ne "Y" -and $confirm -ne "y") {
00009:     Write-Host "Installation cancelled" -ForegroundColor Yellow
00010:     exit
00011: }
00012: 
00013: # 1. Check PowerShell version
00014: Write-Host "`n1. CHECKING POWERSHELL..." -ForegroundColor Yellow
00015: if ($PSVersionTable.PSVersion.Major -lt 5) {
00016:     Write-Host "X PowerShell 5.0 or higher required" -ForegroundColor Red
00017:     exit 1
00018: }
00019: Write-Host "V PowerShell $($PSVersionTable.PSVersion)" -ForegroundColor Green
00020: 
00021: # 2. Check required tools
00022: Write-Host "`n2. CHECKING REQUIRED TOOLS..." -ForegroundColor Yellow
00023: 
00024: $tools = @(
00025:     @{Name="Node.js"; Test="node --version"; Install="https://nodejs.org"},
00026:     @{Name="Python"; Test="python --version"; Install="https://python.org"},
00027:     @{Name="Git"; Test="git --version"; Install="https://git-scm.com"}
00028: )
00029: 
00030: foreach ($tool in $tools) {
00031:     Write-Host "Checking $($tool.Name)..." -ForegroundColor Gray
00032:     try {
00033:         Invoke-Expression $tool.Test 2>$null
00034:         Write-Host "V $($tool.Name) is installed" -ForegroundColor Green
00035:     } catch {
00036:         Write-Host "X $($tool.Name) is NOT installed" -ForegroundColor Red
00037:         Write-Host "  Install from: $($tool.Install)" -ForegroundColor Cyan
00038:     }
00039: }
00040: 
00041: # 3. Create project structure
00042: Write-Host "`n3. CREATING PROJECT STRUCTURE..." -ForegroundColor Yellow
00043: 
00044: $folders = @(
00045:     "agents",
00046:     "agents\architect",
00047:     "agents\coder",
00048:     "agents\communication",
00049:     "agents\documenter",
00050:     "agents\formal_verification",
00051:     "agents\frontend_web3",
00052:     "agents\fuzzing_simulation",
00053:     "agents\quality_metrics",
00054:     "agents\smart_contract",
00055:     "agents\tester",
00056:     "agents\shared",
00057:     "config",
00058:     "context",
00059:     "memory",
00060:     "memory\vector_store",
00061:     "memory\history",
00062:     "memory\learnings",
00063:     "workspace",
00064:     "workspace\contracts",
00065:     "workspace\frontend",
00066:     "sprints",
00067:     "reports",
00068:     "logs",
00069:     "scripts",
00070:     "tests"
00071: )
00072: 
00073: foreach ($folder in $folders) {
00074:     New-Item -ItemType Directory -Path $folder -Force -ErrorAction SilentlyContinue | Out-Null
00075:     Write-Host "  [FOLDER] $folder" -ForegroundColor Gray
00076: }
00077: 
00078: # 4. Create essential files
00079: Write-Host "`n4. CREATING ESSENTIAL FILES..." -ForegroundColor Yellow
00080: 
00081: # package.json
00082: @'
00083: {
00084:   "name": "smart-contract-pipeline",
00085:   "version": "1.0.0",
00086:   "description": "Automated Smart Contract Development Pipeline with AI Agents",
00087:   "main": "main.py",
00088:   "scripts": {
00089:     "start": "python main.py",
00090:     "test": "python -m pytest",
00091:     "hardhat": "cd workspace\\contracts && npx hardhat",
00092:     "frontend": "cd workspace\\frontend && npm run dev"
00093:   },
00094:   "keywords": ["blockchain", "smart-contract", "ai", "web3"],
00095:   "author": "SmartContractPipeline",
00096:   "license": "MIT"
00097: }
00098: '@ | Out-File -FilePath "package.json" -Force -Encoding UTF8
00099: Write-Host "V package.json created" -ForegroundColor Green
00100: 
00101: # requirements.txt
00102: @'
00103: # Core AI & ML
00104: langchain>=0.1.0
00105: chromadb>=0.4.0
00106: 
00107: # Web3 & Blockchain
00108: web3>=6.0.0
00109: eth-account>=0.11.0
00110: 
00111: # Web Framework & API
00112: fastapi>=0.104.0
00113: requests>=2.31.0
00114: 
00115: # Data Processing
00116: pyyaml>=6.0.0
00117: python-dotenv>=1.0.0
00118: 
00119: # Utilities
00120: pydantic>=2.0.0
00121: pytest>=7.4.0
00122: '@ | Out-File -FilePath "requirements.txt" -Force -Encoding UTF8
00123: Write-Host "V requirements.txt created" -ForegroundColor Green
00124: 
00125: # Create Python virtual environment
00126: Write-Host "`n5. SETTING UP PYTHON ENVIRONMENT..." -ForegroundColor Yellow
00127: if (-not (Test-Path ".venv")) {
00128:     python -m venv .venv
00129:     Write-Host "V Python virtual environment created" -ForegroundColor Green
00130: }
00131: 
00132: # Activate and install Python dependencies
00133: try {
00134:     & .\.venv\Scripts\Activate.ps1
00135:     python -m pip install --upgrade pip
00136:     pip install -r requirements.txt
00137:     Write-Host "V Python dependencies installed" -ForegroundColor Green
00138: } catch {
00139:     Write-Host "X Error installing Python dependencies: $_" -ForegroundColor Red
00140: }
00141: 
00142: # 6. Initialize Hardhat project
00143: Write-Host "`n6. INITIALIZING HARPHAT..." -ForegroundColor Yellow
00144: Set-Location "workspace\contracts"
00145: 
00146: try {
00147:     # Check if Hardhat is installed
00148:     npx hardhat --version 2>$null
00149:     Write-Host "V Hardhat is installed" -ForegroundColor Green
00150: } catch {
00151:     Write-Host "Installing Hardhat..." -ForegroundColor Gray
00152:     npm init -y
00153:     npm install --save-dev hardhat @nomicfoundation/hardhat-toolbox
00154: }
00155: 
00156: # Initialize Hardhat project if not exists
00157: if (-not (Test-Path "hardhat.config.js") -and -not (Test-Path "hardhat.config.ts")) {
00158:     npx hardhat init --typescript
00159:     npm install @openzeppelin/contracts ethers
00160:     Write-Host "V Hardhat project initialized" -ForegroundColor Green
00161: }
00162: 
00163: Set-Location ..\..
00164: 
00165: # 7. Create basic agent
00166: Write-Host "`n7. CREATING BASIC AGENT..." -ForegroundColor Yellow
00167: 
00168: $agentCode = @'
00169: # agents/smart_contract/agent.py
00170: import json
00171: from typing import Dict, Any
00172: 
00173: class SmartContractAgent:
00174:     """Basic Smart Contract Agent"""
00175:     
00176:     def __init__(self):
00177:         self.name = "Smart Contract Agent"
00178:         self.version = "1.0.0"
00179:     
00180:     def generate_contract(self, requirements: Dict[str, Any]) -> str:
00181:         """Generate a smart contract based on requirements"""
00182:         contract_name = requirements.get("name", "MyContract")
00183:         
00184:         template = f'''// SPDX-License-Identifier: MIT
00185: pragma solidity ^0.8.19;
00186: 
00187: contract {contract_name} {{
00188:     address public owner;
00189:     string public name;
00190:     string public symbol;
00191:     
00192:     constructor(string memory _name, string memory _symbol) {{
00193:         owner = msg.sender;
00194:         name = _name;
00195:         symbol = _symbol;
00196:     }}
00197:     
00198:     modifier onlyOwner() {{
00199:         require(msg.sender == owner, "Not owner");
00200:         _;
00201:     }}
00202:     
00203:     function transferOwnership(address newOwner) public onlyOwner {{
00204:         require(newOwner != address(0), "Invalid address");
00205:         owner = newOwner;
00206:     }}
00207:     
00208:     function getContractInfo() public view returns (string memory, string memory, address) {{
00209:         return (name, symbol, owner);
00210:     }}
00211: }}
00212: '''
00213:         
00214:         return template
00215:     
00216:     def get_agent_info(self) -> Dict[str, Any]:
00217:         """Get agent information"""
00218:         return {
00219:             "name": self.name,
00220:             "version": self.version,
00221:             "capabilities": ["contract_generation", "basic_validation"]
00222:         }
00223: '@
00224: 
00225: New-Item -ItemType Directory -Path "agents\smart_contract" -Force | Out-Null
00226: $agentCode | Out-File -FilePath "agents\smart_contract\agent.py" -Force -Encoding UTF8
00227: Write-Host "V Basic agent created" -ForegroundColor Green
00228: 
00229: # 8. Create test script
00230: Write-Host "`n8. CREATING TEST SCRIPT..." -ForegroundColor Yellow
00231: 
00232: $testScript = @'
00233: # test_basic.py
00234: import sys
00235: import os
00236: 
00237: # Add agents directory to path
00238: sys.path.append(os.path.join(os.path.dirname(__file__), "agents"))
00239: 
00240: def test_smart_contract_agent():
00241:     """Test the basic smart contract agent"""
00242:     print("🤖 Testing Smart Contract Agent")
00243:     print("=" * 40)
00244:     
00245:     try:
00246:         from smart_contract.agent import SmartContractAgent
00247:         
00248:         # Create agent
00249:         agent = SmartContractAgent()
00250:         print(f"Agent: {agent.name} v{agent.version}")
00251:         
00252:         # Test contract generation
00253:         requirements = {
00254:             "name": "MyToken",
00255:             "symbol": "MTK"
00256:         }
00257:         
00258:         contract = agent.generate_contract(requirements)
00259:         
00260:         print("✅ Contract generated successfully")
00261:         print(f"📄 Contract length: {len(contract)} characters")
00262:         
00263:         # Show agent info
00264:         info = agent.get_agent_info()
00265:         print(f"🔧 Capabilities: {', '.join(info['capabilities'])}")
00266:         
00267:         return True
00268:         
00269:     except Exception as e:
00270:         print(f"❌ Error: {e}")
00271:         import traceback
00272:         traceback.print_exc()
00273:         return False
00274: 
00275: if __name__ == "__main__":
00276:     success = test_smart_contract_agent()
00277:     print("=" * 40)
00278:     if success:
00279:         print("🎉 All tests passed!")
00280:     else:
00281:         print("💥 Some tests failed")
00282:     sys.exit(0 if success else 1)
00283: '@
00284: 
00285: $testScript | Out-File -FilePath "test_basic.py" -Force -Encoding UTF8
00286: Write-Host "V Test script created" -ForegroundColor Green
00287: 
00288: # 9. Create main.py
00289: Write-Host "`n9. CREATING MAIN APPLICATION..." -ForegroundColor Yellow
00290: 
00291: $mainApp = @'
00292: # main.py
00293: import asyncio
00294: import sys
00295: import os
00296: from typing import Dict, Any
00297: 
00298: class Pipeline:
00299:     """Main pipeline orchestrator"""
00300:     
00301:     def __init__(self):
00302:         self.agents = {}
00303:         
00304:     async def initialize(self):
00305:         """Initialize the pipeline"""
00306:         print("🚀 Initializing Smart Contract Pipeline...")
00307:         
00308:         # Load agents
00309:         await self._load_agents()
00310:         
00311:         print(f"✅ Pipeline initialized with {len(self.agents)} agents")
00312:         return True
00313:     
00314:     async def _load_agents(self):
00315:         """Load all available agents"""
00316:         agents_dir = os.path.join(os.path.dirname(__file__), "agents")
00317:         
00318:         # Load Smart Contract Agent
00319:         try:
00320:             from agents.smart_contract.agent import SmartContractAgent
00321:             self.agents["smart_contract"] = SmartContractAgent()
00322:             print("✅ Smart Contract Agent loaded")
00323:         except ImportError as e:
00324:             print(f"❌ Failed to load Smart Contract Agent: {e}")
00325:     
00326:     async def run(self):
00327:         """Run the main pipeline"""
00328:         print("🎯 Smart Contract Pipeline Ready!")
00329:         print("=" * 50)
00330:         
00331:         while True:
00332:             print("`nAvailable commands:")
00333:             print("1. Generate Smart Contract")
00334:             print("2. Test Agent")
00335:             print("3. Exit")
00336:             
00337:             choice = input("Select option (1-3): ").strip()
00338:             
00339:             if choice == "1":
00340:                 await self.generate_contract()
00341:             elif choice == "2":
00342:                 await self.test_agent()
00343:             elif choice == "3":
00344:                 print("👋 Goodbye!")
00345:                 break
00346:             else:
00347:                 print("❌ Invalid choice")
00348:     
00349:     async def generate_contract(self):
00350:         """Generate a smart contract"""
00351:         print("`n📝 Smart Contract Generator")
00352:         print("-" * 30)
00353:         
00354:         name = input("Contract name: ").strip() or "MyContract"
00355:         symbol = input("Contract symbol: ").strip() or "MC"
00356:         
00357:         if "smart_contract" in self.agents:
00358:             agent = self.agents["smart_contract"]
00359:             
00360:             requirements = {
00361:                 "name": name,
00362:                 "symbol": symbol
00363:             }
00364:             
00365:             contract = agent.generate_contract(requirements)
00366:             
00367:             print("✅ Contract generated!")
00368:             print("-" * 30)
00369:             print(contract[:500] + "..." if len(contract) > 500 else contract)
00370:             print("-" * 30)
00371:             
00372:             # Save to file
00373:             filename = f"contracts/{name}.sol"
00374:             os.makedirs("contracts", exist_ok=True)
00375:             with open(filename, "w") as f:
00376:                 f.write(contract)
00377:             
00378:             print(f"📄 Contract saved to {filename}")
00379:         else:
00380:             print("❌ Smart Contract Agent not available")
00381:     
00382:     async def test_agent(self):
00383:         """Test the agent"""
00384:         print("`n🧪 Testing Agent...")
00385:         
00386:         if "smart_contract" in self.agents:
00387:             agent = self.agents["smart_contract"]
00388:             info = agent.get_agent_info()
00389:             
00390:             print(f"Agent: {info['name']}")
00391:             print(f"Version: {info['version']}")
00392:             print(f"Capabilities: {', '.join(info['capabilities'])}")
00393:             print("✅ Agent is working correctly")
00394:         else:
00395:             print("❌ No agents available")
00396: 
00397: async def main():
00398:     """Main entry point"""
00399:     pipeline = Pipeline()
00400:     
00401:     if await pipeline.initialize():
00402:         await pipeline.run()
00403:     else:
00404:         print("❌ Failed to initialize pipeline")
00405: 
00406: if __name__ == "__main__":
00407:     asyncio.run(main())
00408: '@
00409: 
00410: $mainApp | Out-File -FilePath "main.py" -Force -Encoding UTF8
00411: Write-Host "V Main application created" -ForegroundColor Green
00412: 
00413: # 10. Create README
00414: Write-Host "`n10. CREATING DOCUMENTATION..." -ForegroundColor Yellow
00415: 
00416: $readme = @'
00417: # Smart Contract Pipeline
00418: 
00419: Automated Smart Contract development pipeline with AI agents.
00420: 
00421: ## Quick Start
00422: 
00423: 1. Run the setup script:
00424: ```powershell
00425: powershell -ExecutionPolicy Bypass -File .\setup.ps1

============================================================
FICHIER: quick-start.ps1
TAILLE: 12.06 KB
============================================================

00001: # setup.ps1 - Version sans accents
00002: Write-Host "=== SMART CONTRACT PIPELINE SETUP ===" -ForegroundColor Cyan
00003: Write-Host "Complete installation script" -ForegroundColor Yellow
00004: Write-Host ""
00005: 
00006: # Ask for confirmation
00007: $confirm = Read-Host "Do you want to install all components? (Y/N)"
00008: if ($confirm -ne "Y" -and $confirm -ne "y") {
00009:     Write-Host "Installation cancelled" -ForegroundColor Yellow
00010:     exit
00011: }
00012: 
00013: # 1. Check PowerShell version
00014: Write-Host "`n1. CHECKING POWERSHELL..." -ForegroundColor Yellow
00015: if ($PSVersionTable.PSVersion.Major -lt 5) {
00016:     Write-Host "X PowerShell 5.0 or higher required" -ForegroundColor Red
00017:     exit 1
00018: }
00019: Write-Host "V PowerShell $($PSVersionTable.PSVersion)" -ForegroundColor Green
00020: 
00021: # 2. Check required tools
00022: Write-Host "`n2. CHECKING REQUIRED TOOLS..." -ForegroundColor Yellow
00023: 
00024: $tools = @(
00025:     @{Name="Node.js"; Test="node --version"; Install="https://nodejs.org"},
00026:     @{Name="Python"; Test="python --version"; Install="https://python.org"},
00027:     @{Name="Git"; Test="git --version"; Install="https://git-scm.com"}
00028: )
00029: 
00030: foreach ($tool in $tools) {
00031:     Write-Host "Checking $($tool.Name)..." -ForegroundColor Gray
00032:     try {
00033:         Invoke-Expression $tool.Test 2>$null
00034:         Write-Host "V $($tool.Name) is installed" -ForegroundColor Green
00035:     } catch {
00036:         Write-Host "X $($tool.Name) is NOT installed" -ForegroundColor Red
00037:         Write-Host "  Install from: $($tool.Install)" -ForegroundColor Cyan
00038:     }
00039: }
00040: 
00041: # 3. Create project structure
00042: Write-Host "`n3. CREATING PROJECT STRUCTURE..." -ForegroundColor Yellow
00043: 
00044: $folders = @(
00045:     "agents",
00046:     "agents\architect",
00047:     "agents\coder",
00048:     "agents\communication",
00049:     "agents\documenter",
00050:     "agents\formal_verification",
00051:     "agents\frontend_web3",
00052:     "agents\fuzzing_simulation",
00053:     "agents\quality_metrics",
00054:     "agents\smart_contract",
00055:     "agents\tester",
00056:     "agents\shared",
00057:     "config",
00058:     "context",
00059:     "memory",
00060:     "memory\vector_store",
00061:     "memory\history",
00062:     "memory\learnings",
00063:     "workspace",
00064:     "workspace\contracts",
00065:     "workspace\frontend",
00066:     "sprints",
00067:     "reports",
00068:     "logs",
00069:     "scripts",
00070:     "tests"
00071: )
00072: 
00073: foreach ($folder in $folders) {
00074:     New-Item -ItemType Directory -Path $folder -Force -ErrorAction SilentlyContinue | Out-Null
00075:     Write-Host "  [FOLDER] $folder" -ForegroundColor Gray
00076: }
00077: 
00078: # 4. Create essential files
00079: Write-Host "`n4. CREATING ESSENTIAL FILES..." -ForegroundColor Yellow
00080: 
00081: # package.json
00082: @'
00083: {
00084:   "name": "smart-contract-pipeline",
00085:   "version": "1.0.0",
00086:   "description": "Automated Smart Contract Development Pipeline with AI Agents",
00087:   "main": "main.py",
00088:   "scripts": {
00089:     "start": "python main.py",
00090:     "test": "python -m pytest",
00091:     "hardhat": "cd workspace\\contracts && npx hardhat",
00092:     "frontend": "cd workspace\\frontend && npm run dev"
00093:   },
00094:   "keywords": ["blockchain", "smart-contract", "ai", "web3"],
00095:   "author": "SmartContractPipeline",
00096:   "license": "MIT"
00097: }
00098: '@ | Out-File -FilePath "package.json" -Force -Encoding UTF8
00099: Write-Host "V package.json created" -ForegroundColor Green
00100: 
00101: # requirements.txt
00102: @'
00103: # Core AI & ML
00104: langchain>=0.1.0
00105: chromadb>=0.4.0
00106: 
00107: # Web3 & Blockchain
00108: web3>=6.0.0
00109: eth-account>=0.11.0
00110: 
00111: # Web Framework & API
00112: fastapi>=0.104.0
00113: requests>=2.31.0
00114: 
00115: # Data Processing
00116: pyyaml>=6.0.0
00117: python-dotenv>=1.0.0
00118: 
00119: # Utilities
00120: pydantic>=2.0.0
00121: pytest>=7.4.0
00122: '@ | Out-File -FilePath "requirements.txt" -Force -Encoding UTF8
00123: Write-Host "V requirements.txt created" -ForegroundColor Green
00124: 
00125: # Create Python virtual environment
00126: Write-Host "`n5. SETTING UP PYTHON ENVIRONMENT..." -ForegroundColor Yellow
00127: if (-not (Test-Path ".venv")) {
00128:     python -m venv .venv
00129:     Write-Host "V Python virtual environment created" -ForegroundColor Green
00130: }
00131: 
00132: # Activate and install Python dependencies
00133: try {
00134:     & .\.venv\Scripts\Activate.ps1
00135:     python -m pip install --upgrade pip
00136:     pip install -r requirements.txt
00137:     Write-Host "V Python dependencies installed" -ForegroundColor Green
00138: } catch {
00139:     Write-Host "X Error installing Python dependencies: $_" -ForegroundColor Red
00140: }
00141: 
00142: # 6. Initialize Hardhat project
00143: Write-Host "`n6. INITIALIZING HARPHAT..." -ForegroundColor Yellow
00144: Set-Location "workspace\contracts"
00145: 
00146: try {
00147:     # Check if Hardhat is installed
00148:     npx hardhat --version 2>$null
00149:     Write-Host "V Hardhat is installed" -ForegroundColor Green
00150: } catch {
00151:     Write-Host "Installing Hardhat..." -ForegroundColor Gray
00152:     npm init -y
00153:     npm install --save-dev hardhat @nomicfoundation/hardhat-toolbox
00154: }
00155: 
00156: # Initialize Hardhat project if not exists
00157: if (-not (Test-Path "hardhat.config.js") -and -not (Test-Path "hardhat.config.ts")) {
00158:     npx hardhat init --typescript
00159:     npm install @openzeppelin/contracts ethers
00160:     Write-Host "V Hardhat project initialized" -ForegroundColor Green
00161: }
00162: 
00163: Set-Location ..\..
00164: 
00165: # 7. Create basic agent
00166: Write-Host "`n7. CREATING BASIC AGENT..." -ForegroundColor Yellow
00167: 
00168: $agentCode = @'
00169: # agents/smart_contract/agent.py
00170: import json
00171: from typing import Dict, Any
00172: 
00173: class SmartContractAgent:
00174:     """Basic Smart Contract Agent"""
00175:     
00176:     def __init__(self):
00177:         self.name = "Smart Contract Agent"
00178:         self.version = "1.0.0"
00179:     
00180:     def generate_contract(self, requirements: Dict[str, Any]) -> str:
00181:         """Generate a smart contract based on requirements"""
00182:         contract_name = requirements.get("name", "MyContract")
00183:         
00184:         template = f'''// SPDX-License-Identifier: MIT
00185: pragma solidity ^0.8.19;
00186: 
00187: contract {contract_name} {{
00188:     address public owner;
00189:     string public name;
00190:     string public symbol;
00191:     
00192:     constructor(string memory _name, string memory _symbol) {{
00193:         owner = msg.sender;
00194:         name = _name;
00195:         symbol = _symbol;
00196:     }}
00197:     
00198:     modifier onlyOwner() {{
00199:         require(msg.sender == owner, "Not owner");
00200:         _;
00201:     }}
00202:     
00203:     function transferOwnership(address newOwner) public onlyOwner {{
00204:         require(newOwner != address(0), "Invalid address");
00205:         owner = newOwner;
00206:     }}
00207:     
00208:     function getContractInfo() public view returns (string memory, string memory, address) {{
00209:         return (name, symbol, owner);
00210:     }}
00211: }}
00212: '''
00213:         
00214:         return template
00215:     
00216:     def get_agent_info(self) -> Dict[str, Any]:
00217:         """Get agent information"""
00218:         return {
00219:             "name": self.name,
00220:             "version": self.version,
00221:             "capabilities": ["contract_generation", "basic_validation"]
00222:         }
00223: '@
00224: 
00225: New-Item -ItemType Directory -Path "agents\smart_contract" -Force | Out-Null
00226: $agentCode | Out-File -FilePath "agents\smart_contract\agent.py" -Force -Encoding UTF8
00227: Write-Host "V Basic agent created" -ForegroundColor Green
00228: 
00229: # 8. Create test script
00230: Write-Host "`n8. CREATING TEST SCRIPT..." -ForegroundColor Yellow
00231: 
00232: $testScript = @'
00233: # test_basic.py
00234: import sys
00235: import os
00236: 
00237: # Add agents directory to path
00238: sys.path.append(os.path.join(os.path.dirname(__file__), "agents"))
00239: 
00240: def test_smart_contract_agent():
00241:     """Test the basic smart contract agent"""
00242:     print("🤖 Testing Smart Contract Agent")
00243:     print("=" * 40)
00244:     
00245:     try:
00246:         from smart_contract.agent import SmartContractAgent
00247:         
00248:         # Create agent
00249:         agent = SmartContractAgent()
00250:         print(f"Agent: {agent.name} v{agent.version}")
00251:         
00252:         # Test contract generation
00253:         requirements = {
00254:             "name": "MyToken",
00255:             "symbol": "MTK"
00256:         }
00257:         
00258:         contract = agent.generate_contract(requirements)
00259:         
00260:         print("✅ Contract generated successfully")
00261:         print(f"📄 Contract length: {len(contract)} characters")
00262:         
00263:         # Show agent info
00264:         info = agent.get_agent_info()
00265:         print(f"🔧 Capabilities: {', '.join(info['capabilities'])}")
00266:         
00267:         return True
00268:         
00269:     except Exception as e:
00270:         print(f"❌ Error: {e}")
00271:         import traceback
00272:         traceback.print_exc()
00273:         return False
00274: 
00275: if __name__ == "__main__":
00276:     success = test_smart_contract_agent()
00277:     print("=" * 40)
00278:     if success:
00279:         print("🎉 All tests passed!")
00280:     else:
00281:         print("💥 Some tests failed")
00282:     sys.exit(0 if success else 1)
00283: '@
00284: 
00285: $testScript | Out-File -FilePath "test_basic.py" -Force -Encoding UTF8
00286: Write-Host "V Test script created" -ForegroundColor Green
00287: 
00288: # 9. Create main.py
00289: Write-Host "`n9. CREATING MAIN APPLICATION..." -ForegroundColor Yellow
00290: 
00291: $mainApp = @'
00292: # main.py
00293: import asyncio
00294: import sys
00295: import os
00296: from typing import Dict, Any
00297: 
00298: class Pipeline:
00299:     """Main pipeline orchestrator"""
00300:     
00301:     def __init__(self):
00302:         self.agents = {}
00303:         
00304:     async def initialize(self):
00305:         """Initialize the pipeline"""
00306:         print("🚀 Initializing Smart Contract Pipeline...")
00307:         
00308:         # Load agents
00309:         await self._load_agents()
00310:         
00311:         print(f"✅ Pipeline initialized with {len(self.agents)} agents")
00312:         return True
00313:     
00314:     async def _load_agents(self):
00315:         """Load all available agents"""
00316:         agents_dir = os.path.join(os.path.dirname(__file__), "agents")
00317:         
00318:         # Load Smart Contract Agent
00319:         try:
00320:             from agents.smart_contract.agent import SmartContractAgent
00321:             self.agents["smart_contract"] = SmartContractAgent()
00322:             print("✅ Smart Contract Agent loaded")
00323:         except ImportError as e:
00324:             print(f"❌ Failed to load Smart Contract Agent: {e}")
00325:     
00326:     async def run(self):
00327:         """Run the main pipeline"""
00328:         print("🎯 Smart Contract Pipeline Ready!")
00329:         print("=" * 50)
00330:         
00331:         while True:
00332:             print("`nAvailable commands:")
00333:             print("1. Generate Smart Contract")
00334:             print("2. Test Agent")
00335:             print("3. Exit")
00336:             
00337:             choice = input("Select option (1-3): ").strip()
00338:             
00339:             if choice == "1":
00340:                 await self.generate_contract()
00341:             elif choice == "2":
00342:                 await self.test_agent()
00343:             elif choice == "3":
00344:                 print("👋 Goodbye!")
00345:                 break
00346:             else:
00347:                 print("❌ Invalid choice")
00348:     
00349:     async def generate_contract(self):
00350:         """Generate a smart contract"""
00351:         print("`n📝 Smart Contract Generator")
00352:         print("-" * 30)
00353:         
00354:         name = input("Contract name: ").strip() or "MyContract"
00355:         symbol = input("Contract symbol: ").strip() or "MC"
00356:         
00357:         if "smart_contract" in self.agents:
00358:             agent = self.agents["smart_contract"]
00359:             
00360:             requirements = {
00361:                 "name": name,
00362:                 "symbol": symbol
00363:             }
00364:             
00365:             contract = agent.generate_contract(requirements)
00366:             
00367:             print("✅ Contract generated!")
00368:             print("-" * 30)
00369:             print(contract[:500] + "..." if len(contract) > 500 else contract)
00370:             print("-" * 30)
00371:             
00372:             # Save to file
00373:             filename = f"contracts/{name}.sol"
00374:             os.makedirs("contracts", exist_ok=True)
00375:             with open(filename, "w") as f:
00376:                 f.write(contract)
00377:             
00378:             print(f"📄 Contract saved to {filename}")
00379:         else:
00380:             print("❌ Smart Contract Agent not available")
00381:     
00382:     async def test_agent(self):
00383:         """Test the agent"""
00384:         print("`n🧪 Testing Agent...")
00385:         
00386:         if "smart_contract" in self.agents:
00387:             agent = self.agents["smart_contract"]
00388:             info = agent.get_agent_info()
00389:             
00390:             print(f"Agent: {info['name']}")
00391:             print(f"Version: {info['version']}")
00392:             print(f"Capabilities: {', '.join(info['capabilities'])}")
00393:             print("✅ Agent is working correctly")
00394:         else:
00395:             print("❌ No agents available")
00396: 
00397: async def main():
00398:     """Main entry point"""
00399:     pipeline = Pipeline()
00400:     
00401:     if await pipeline.initialize():
00402:         await pipeline.run()
00403:     else:
00404:         print("❌ Failed to initialize pipeline")
00405: 
00406: if __name__ == "__main__":
00407:     asyncio.run(main())
00408: '@
00409: 
00410: $mainApp | Out-File -FilePath "main.py" -Force -Encoding UTF8
00411: Write-Host "V Main application created" -ForegroundColor Green
00412: 
00413: # 10. Create README
00414: Write-Host "`n10. CREATING DOCUMENTATION..." -ForegroundColor Yellow
00415: 
00416: $readme = @'
00417: # Smart Contract Pipeline
00418: 
00419: Automated Smart Contract development pipeline with AI agents.
00420: 
00421: ## Quick Start
00422: 
00423: 1. Run the setup script:
00424: ```powershell
00425: powershell -ExecutionPolicy Bypass -File .\setup.ps1

============================================================
FICHIER: SmartContractPipeline\agents\smart_contract\sous_agents\solidity_expert.ps1
TAILLE: 11.37 KB
============================================================

00001: # agents/smart_contract/sous_agents/solidity_expert.ps1
00002: Write-Host "Création du Sous-Agent Solidity..." -ForegroundColor Cyan
00003: 
00004: $solidityAgentConfig = @'
00005: # agents/smart_contract/sous_agents/solidity_config.yaml
00006: sous_agent_id: "solidity_expert_001"
00007: parent_agent: "smart_contract"
00008: specialization: "Développement Solidity Avancé"
00009: model: "ollama:deepseek-coder:6.7b"
00010: temperature: 0.1
00011: 
00012: capabilities:
00013:   solidity_versions:
00014:     - "0.8.19 (recommandé)"
00015:     - "0.8.20"
00016:     - "0.8.21"
00017:   patterns:
00018:     - "Proxy Pattern (UUPS, Transparent)"
00019:     - "Factory Pattern"
00020:     - "Diamond Pattern (EIP-2535)"
00021:     - "Minimal Proxy (EIP-1167)"
00022:   libraries:
00023:     - "OpenZeppelin Contracts"
00024:     - "Solmate"
00025:     - "DS-Math"
00026:   optimization:
00027:     - "Gas Optimization"
00028:     - "Bytecode Size Reduction"
00029:     - "Storage Optimization"
00030:     - "Memory Management"
00031: 
00032: tools:
00033:   - name: "contract_generator"
00034:     type: "solidity_generator"
00035:     version: "1.0.0"
00036:     
00037:   - name: "gas_analyzer"
00038:     type: "gas_profiler"
00039:     version: "1.0.0"
00040:     
00041:   - name: "upgradeability_designer"
00042:     type: "proxy_designer"
00043:     version: "1.0.0"
00044: 
00045: context_requirements:
00046:   contract_type: "Type de contrat (ERC20, ERC721, etc.)"
00047:   upgradeability: "Besoin d'upgradeability"
00048:   access_control: "Contrôle d'accès nécessaire"
00049:   composability: "Intégration avec d'autres contrats"
00050: 
00051: outputs:
00052:   required:
00053:     - smart_contract.sol
00054:     - interface.sol
00055:     - test_contract.sol
00056:     - gas_report.md
00057:   optional:
00058:     - upgrade_proxy.sol
00059:     - factory_contract.sol
00060:     - deployment_scripts/
00061: 
00062: learning_objectives:
00063:   - "Réduire les coûts de gas"
00064:   - "Éviter les vulnérabilités courantes"
00065:   - "Design des contrats upgradables"
00066:   - "Optimiser l'utilisation du storage"
00067: '@
00068: 
00069: $solidityAgentConfig | Out-File -FilePath "$projectPath\agents\smart_contract\sous_agents\solidity_config.yaml" -Force -Encoding UTF8
00070: 
00071: # Code du sous-agent Solidity
00072: $solidityAgentCode = @'
00073: # agents/smart_contract/sous_agents/solidity_expert.py
00074: import asyncio
00075: from typing import Dict, Any, List
00076: from pathlib import Path
00077: import json
00078: from ...shared.base_agent import BaseAgent
00079: 
00080: class SolidityExpertSubAgent(BaseAgent):
00081:     """Sous-agent spécialisé en développement Solidity"""
00082:     
00083:     def __init__(self, config_path: str):
00084:         super().__init__(config_path)
00085:         self.solidity_versions = self.config.get("capabilities", {}).get("solidity_versions", [])
00086:         self.patterns = self.config.get("capabilities", {}).get("patterns", [])
00087:         self.recommended_version = "0.8.19"
00088:         
00089:     async def initialize(self) -> bool:
00090:         """Initialise le sous-agent"""
00091:         self.logger.info(f"Initialisation du Solidity Expert")
00092:         self.logger.info(f"Version recommandée: {self.recommended_version}")
00093:         return True
00094:     
00095:     async def develop_smart_contract(self, requirements: Dict[str, Any]) -> Dict[str, Any]:
00096:         """Développe un smart contract Solidity"""
00097:         self.logger.info(f"Développement du contrat: {requirements.get('name', 'Unnamed Contract')}")
00098:         
00099:         # Analyse des besoins
00100:         contract_analysis = await self._analyze_requirements(requirements)
00101:         
00102:         # Sélection du pattern
00103:         pattern = await self._select_pattern(requirements)
00104:         
00105:         # Génération du contrat
00106:         contract_code = await self._generate_contract_code(requirements, pattern)
00107:         
00108:         # Optimisation du gas
00109:         optimized_code = await self._optimize_gas(contract_code)
00110:         
00111:         # Génération des tests
00112:         tests = await self._generate_tests(optimized_code, requirements)
00113:         
00114:         # Documentation
00115:         documentation = await self._generate_documentation(optimized_code, requirements)
00116:         
00117:         return {
00118:             "contract_analysis": contract_analysis,
00119:             "selected_pattern": pattern,
00120:             "contract_code": optimized_code,
00121:             "tests": tests,
00122:             "documentation": documentation,
00123:             "gas_estimation": await self._estimate_gas_costs(optimized_code)
00124:         }
00125:     
00126:     async def _analyze_requirements(self, requirements: Dict[str, Any]) -> Dict[str, Any]:
00127:         """Analyse les besoins du contrat"""
00128:         analysis = {
00129:             "contract_type": requirements.get("type", "custom"),
00130:             "security_requirements": requirements.get("security", {}),
00131:             "upgradeability_needed": requirements.get("upgradeable", False),
00132:             "access_control_needed": requirements.get("access_control", False),
00133:             "composability_needed": requirements.get("composable", False),
00134:             "token_standard": requirements.get("token_standard")
00135:         }
00136:         return analysis
00137:     
00138:     async def _select_pattern(self, requirements: Dict[str, Any]) -> str:
00139:         """Sélectionne le pattern de contrat approprié"""
00140:         if requirements.get("upgradeable"):
00141:             if "proxy" in requirements.get("upgrade_type", "").lower():
00142:                 return "Proxy Pattern (Transparent)"
00143:             else:
00144:                 return "Proxy Pattern (UUPS)"
00145:         
00146:         if requirements.get("factory_deployment"):
00147:             return "Factory Pattern"
00148:         
00149:         if requirements.get("modular"):
00150:             return "Diamond Pattern (EIP-2535)"
00151:         
00152:         return "Standard Contract"
00153:     
00154:     async def _generate_contract_code(self, requirements: Dict[str, Any], pattern: str) -> Dict[str, Any]:
00155:         """Génère le code du contrat"""
00156:         # Version Solidity
00157:         version = self.recommended_version
00158:         
00159:         # Imports
00160:         imports = await self._generate_imports(requirements)
00161:         
00162:         # Contrat principal
00163:         contract_body = await self._generate_contract_body(requirements, pattern)
00164:         
00165:         # Interfaces
00166:         interfaces = await self._generate_interfaces(requirements)
00167:         
00168:         # Libraries
00169:         libraries = await self._generate_libraries(requirements)
00170:         
00171:         return {
00172:             "version": version,
00173:             "imports": imports,
00174:             "contract": contract_body,
00175:             "interfaces": interfaces,
00176:             "libraries": libraries
00177:         }
00178:     
00179:     async def _optimize_gas(self, contract_code: Dict[str, Any]) -> Dict[str, Any]:
00180:         """Optimise le contrat pour réduire le gas"""
00181:         optimizations = []
00182:         
00183:         # Optimisation des variables de storage
00184:         if "storage_variables" in contract_code:
00185:             optimized_storage = await self._optimize_storage_layout(contract_code["storage_variables"])
00186:             optimizations.append({
00187:                 "type": "storage_optimization",
00188:                 "description": "Réorganisation des variables de storage",
00189:                 "gas_saving": "~5000 gas"
00190:             })
00191:             contract_code["storage_variables"] = optimized_storage
00192:         
00193:         # Optimisation des fonctions
00194:         if "functions" in contract_code:
00195:             optimized_functions = await self._optimize_functions(contract_code["functions"])
00196:             optimizations.append({
00197:                 "type": "function_optimization",
00198:                 "description": "Optimisation des fonctions pour réduire le gas",
00199:                 "gas_saving": "~200-1000 gas par appel"
00200:             })
00201:             contract_code["functions"] = optimized_functions
00202:         
00203:         # Utilisation de assembly pour les opérations critiques
00204:         if contract_code.get("needs_assembly_optimization", False):
00205:             contract_code = await self._apply_assembly_optimizations(contract_code)
00206:             optimizations.append({
00207:                 "type": "assembly_optimization",
00208:                 "description": "Utilisation d'assembly pour les opérations critiques",
00209:                 "gas_saving": "~30-50% sur les opérations mathématiques"
00210:             })
00211:         
00212:         contract_code["optimizations_applied"] = optimizations
00213:         return contract_code
00214:     
00215:     async def execute(self, task: Dict[str, Any], context: Dict[str, Any]) -> Dict[str, Any]:
00216:         """Exécute une tâche de développement Solidity"""
00217:         task_type = task.get("type", "develop_contract")
00218:         
00219:         if task_type == "develop_contract":
00220:             return await self.develop_smart_contract(task.get("requirements", {}))
00221:         elif task_type == "optimize_gas":
00222:             return await self.optimize_existing_contract(task.get("contract_code", {}))
00223:         elif task_type == "add_feature":
00224:             return await self.add_feature_to_contract(task.get("feature", {}), task.get("contract_code", {}))
00225:         elif task_type == "audit_contract":
00226:             return await self.audit_contract(task.get("contract_code", {}))
00227:         else:
00228:             return {"error": f"Type de tâche non supporté: {task_type}"}
00229:     
00230:     async def optimize_existing_contract(self, contract_code: Dict[str, Any]) -> Dict[str, Any]:
00231:         """Optimise un contrat existant"""
00232:         # Analyse du contrat
00233:         analysis = await self._analyze_contract_code(contract_code)
00234:         
00235:         # Identification des optimisations possibles
00236:         optimizations = await self._identify_optimizations(analysis)
00237:         
00238:         # Application des optimisations
00239:         optimized_code = await self._apply_optimizations(contract_code, optimizations)
00240:         
00241:         # Calcul des économies estimées
00242:         gas_savings = await self._calculate_gas_savings(contract_code, optimized_code)
00243:         
00244:         return {
00245:             "original_analysis": analysis,
00246:             "optimizations_applied": optimizations,
00247:             "optimized_code": optimized_code,
00248:             "gas_savings_estimate": gas_savings,
00249:             "recommendations": await self._generate_recommendations(analysis)
00250:         }
00251:     
00252:     async def audit_contract(self, contract_code: Dict[str, Any]) -> Dict[str, Any]:
00253:         """Audite un contrat pour trouver des vulnérabilités"""
00254:         vulnerabilities = []
00255:         
00256:         # Vérification des vulnérabilités courantes
00257:         common_checks = [
00258:             self._check_reentrancy,
00259:             self._check_overflow_underflow,
00260:             self._check_access_control,
00261:             self._check_gas_limits,
00262:             self._check_timestamp_dependency,
00263:             self._check_randomness,
00264:             self._check_front_running
00265:         ]
00266:         
00267:         for check in common_checks:
00268:             try:
00269:                 result = await check(contract_code)
00270:                 if result["found"]:
00271:                     vulnerabilities.append(result)
00272:             except Exception as e:
00273:                 self.logger.error(f"Erreur lors de la vérification: {e}")
00274:         
00275:         # Génération du rapport
00276:         severity_levels = {
00277:             "critical": sum(1 for v in vulnerabilities if v["severity"] == "critical"),
00278:             "high": sum(1 for v in vulnerabilities if v["severity"] == "high"),
00279:             "medium": sum(1 for v in vulnerabilities if v["severity"] == "medium"),
00280:             "low": sum(1 for v in vulnerabilities if v["severity"] == "low")
00281:         }
00282:         
00283:         return {
00284:             "vulnerabilities_found": vulnerabilities,
00285:             "severity_summary": severity_levels,
00286:             "total_vulnerabilities": len(vulnerabilities),
00287:             "recommended_fixes": await self._generate_fixes(vulnerabilities),
00288:             "security_score": await self._calculate_security_score(severity_levels)
00289:         }
00290: '@
00291: 
00292: $solidityAgentCode | Out-File -FilePath "$projectPath\agents\smart_contract\sous_agents\solidity_expert.py" -Force -Encoding UTF8

============================================================
FICHIER: agents\smart_contract\sous_agents\solidity_expert.ps1
TAILLE: 11.09 KB
============================================================

00001: # agents/smart_contract/sous_agents/solidity_expert.ps1
00002: Write-Host "Création du Sous-Agent Solidity..." -ForegroundColor Cyan
00003: 
00004: $solidityAgentConfig = @'
00005: # agents/smart_contract/sous_agents/solidity_config.yaml
00006: sous_agent_id: "solidity_expert_001"
00007: parent_agent: "smart_contract"
00008: specialization: "Développement Solidity Avancé"
00009: model: "ollama:deepseek-coder:6.7b"
00010: temperature: 0.1
00011: 
00012: capabilities:
00013:   solidity_versions:
00014:     - "0.8.19 (recommandé)"
00015:     - "0.8.20"
00016:     - "0.8.21"
00017:   patterns:
00018:     - "Proxy Pattern (UUPS, Transparent)"
00019:     - "Factory Pattern"
00020:     - "Diamond Pattern (EIP-2535)"
00021:     - "Minimal Proxy (EIP-1167)"
00022:   libraries:
00023:     - "OpenZeppelin Contracts"
00024:     - "Solmate"
00025:     - "DS-Math"
00026:   optimization:
00027:     - "Gas Optimization"
00028:     - "Bytecode Size Reduction"
00029:     - "Storage Optimization"
00030:     - "Memory Management"
00031: 
00032: tools:
00033:   - name: "contract_generator"
00034:     type: "solidity_generator"
00035:     version: "1.0.0"
00036:     
00037:   - name: "gas_analyzer"
00038:     type: "gas_profiler"
00039:     version: "1.0.0"
00040:     
00041:   - name: "upgradeability_designer"
00042:     type: "proxy_designer"
00043:     version: "1.0.0"
00044: 
00045: context_requirements:
00046:   contract_type: "Type de contrat (ERC20, ERC721, etc.)"
00047:   upgradeability: "Besoin d'upgradeability"
00048:   access_control: "Contrôle d'accès nécessaire"
00049:   composability: "Intégration avec d'autres contrats"
00050: 
00051: outputs:
00052:   required:
00053:     - smart_contract.sol
00054:     - interface.sol
00055:     - test_contract.sol
00056:     - gas_report.md
00057:   optional:
00058:     - upgrade_proxy.sol
00059:     - factory_contract.sol
00060:     - deployment_scripts/
00061: 
00062: learning_objectives:
00063:   - "Réduire les coûts de gas"
00064:   - "Éviter les vulnérabilités courantes"
00065:   - "Design des contrats upgradables"
00066:   - "Optimiser l'utilisation du storage"
00067: '@
00068: 
00069: $solidityAgentConfig | Out-File -FilePath "$projectPath\agents\smart_contract\sous_agents\solidity_config.yaml" -Force -Encoding UTF8
00070: 
00071: # Code du sous-agent Solidity
00072: $solidityAgentCode = @'
00073: # agents/smart_contract/sous_agents/solidity_expert.py
00074: import asyncio
00075: from typing import Dict, Any, List
00076: from pathlib import Path
00077: import json
00078: from ...shared.base_agent import BaseAgent
00079: 
00080: class SolidityExpertSubAgent(BaseAgent):
00081:     """Sous-agent spécialisé en développement Solidity"""
00082:     
00083:     def __init__(self, config_path: str):
00084:         super().__init__(config_path)
00085:         self.solidity_versions = self.config.get("capabilities", {}).get("solidity_versions", [])
00086:         self.patterns = self.config.get("capabilities", {}).get("patterns", [])
00087:         self.recommended_version = "0.8.19"
00088:         
00089:     async def initialize(self) -> bool:
00090:         """Initialise le sous-agent"""
00091:         self.logger.info(f"Initialisation du Solidity Expert")
00092:         self.logger.info(f"Version recommandée: {self.recommended_version}")
00093:         return True
00094:     
00095:     async def develop_smart_contract(self, requirements: Dict[str, Any]) -> Dict[str, Any]:
00096:         """Développe un smart contract Solidity"""
00097:         self.logger.info(f"Développement du contrat: {requirements.get('name', 'Unnamed Contract')}")
00098:         
00099:         # Analyse des besoins
00100:         contract_analysis = await self._analyze_requirements(requirements)
00101:         
00102:         # Sélection du pattern
00103:         pattern = await self._select_pattern(requirements)
00104:         
00105:         # Génération du contrat
00106:         contract_code = await self._generate_contract_code(requirements, pattern)
00107:         
00108:         # Optimisation du gas
00109:         optimized_code = await self._optimize_gas(contract_code)
00110:         
00111:         # Génération des tests
00112:         tests = await self._generate_tests(optimized_code, requirements)
00113:         
00114:         # Documentation
00115:         documentation = await self._generate_documentation(optimized_code, requirements)
00116:         
00117:         return {
00118:             "contract_analysis": contract_analysis,
00119:             "selected_pattern": pattern,
00120:             "contract_code": optimized_code,
00121:             "tests": tests,
00122:             "documentation": documentation,
00123:             "gas_estimation": await self._estimate_gas_costs(optimized_code)
00124:         }
00125:     
00126:     async def _analyze_requirements(self, requirements: Dict[str, Any]) -> Dict[str, Any]:
00127:         """Analyse les besoins du contrat"""
00128:         analysis = {
00129:             "contract_type": requirements.get("type", "custom"),
00130:             "security_requirements": requirements.get("security", {}),
00131:             "upgradeability_needed": requirements.get("upgradeable", False),
00132:             "access_control_needed": requirements.get("access_control", False),
00133:             "composability_needed": requirements.get("composable", False),
00134:             "token_standard": requirements.get("token_standard")
00135:         }
00136:         return analysis
00137:     
00138:     async def _select_pattern(self, requirements: Dict[str, Any]) -> str:
00139:         """Sélectionne le pattern de contrat approprié"""
00140:         if requirements.get("upgradeable"):
00141:             if "proxy" in requirements.get("upgrade_type", "").lower():
00142:                 return "Proxy Pattern (Transparent)"
00143:             else:
00144:                 return "Proxy Pattern (UUPS)"
00145:         
00146:         if requirements.get("factory_deployment"):
00147:             return "Factory Pattern"
00148:         
00149:         if requirements.get("modular"):
00150:             return "Diamond Pattern (EIP-2535)"
00151:         
00152:         return "Standard Contract"
00153:     
00154:     async def _generate_contract_code(self, requirements: Dict[str, Any], pattern: str) -> Dict[str, Any]:
00155:         """Génère le code du contrat"""
00156:         # Version Solidity
00157:         version = self.recommended_version
00158:         
00159:         # Imports
00160:         imports = await self._generate_imports(requirements)
00161:         
00162:         # Contrat principal
00163:         contract_body = await self._generate_contract_body(requirements, pattern)
00164:         
00165:         # Interfaces
00166:         interfaces = await self._generate_interfaces(requirements)
00167:         
00168:         # Libraries
00169:         libraries = await self._generate_libraries(requirements)
00170:         
00171:         return {
00172:             "version": version,
00173:             "imports": imports,
00174:             "contract": contract_body,
00175:             "interfaces": interfaces,
00176:             "libraries": libraries
00177:         }
00178:     
00179:     async def _optimize_gas(self, contract_code: Dict[str, Any]) -> Dict[str, Any]:
00180:         """Optimise le contrat pour réduire le gas"""
00181:         optimizations = []
00182:         
00183:         # Optimisation des variables de storage
00184:         if "storage_variables" in contract_code:
00185:             optimized_storage = await self._optimize_storage_layout(contract_code["storage_variables"])
00186:             optimizations.append({
00187:                 "type": "storage_optimization",
00188:                 "description": "Réorganisation des variables de storage",
00189:                 "gas_saving": "~5000 gas"
00190:             })
00191:             contract_code["storage_variables"] = optimized_storage
00192:         
00193:         # Optimisation des fonctions
00194:         if "functions" in contract_code:
00195:             optimized_functions = await self._optimize_functions(contract_code["functions"])
00196:             optimizations.append({
00197:                 "type": "function_optimization",
00198:                 "description": "Optimisation des fonctions pour réduire le gas",
00199:                 "gas_saving": "~200-1000 gas par appel"
00200:             })
00201:             contract_code["functions"] = optimized_functions
00202:         
00203:         # Utilisation de assembly pour les opérations critiques
00204:         if contract_code.get("needs_assembly_optimization", False):
00205:             contract_code = await self._apply_assembly_optimizations(contract_code)
00206:             optimizations.append({
00207:                 "type": "assembly_optimization",
00208:                 "description": "Utilisation d'assembly pour les opérations critiques",
00209:                 "gas_saving": "~30-50% sur les opérations mathématiques"
00210:             })
00211:         
00212:         contract_code["optimizations_applied"] = optimizations
00213:         return contract_code
00214:     
00215:     async def execute(self, task: Dict[str, Any], context: Dict[str, Any]) -> Dict[str, Any]:
00216:         """Exécute une tâche de développement Solidity"""
00217:         task_type = task.get("type", "develop_contract")
00218:         
00219:         if task_type == "develop_contract":
00220:             return await self.develop_smart_contract(task.get("requirements", {}))
00221:         elif task_type == "optimize_gas":
00222:             return await self.optimize_existing_contract(task.get("contract_code", {}))
00223:         elif task_type == "add_feature":
00224:             return await self.add_feature_to_contract(task.get("feature", {}), task.get("contract_code", {}))
00225:         elif task_type == "audit_contract":
00226:             return await self.audit_contract(task.get("contract_code", {}))
00227:         else:
00228:             return {"error": f"Type de tâche non supporté: {task_type}"}
00229:     
00230:     async def optimize_existing_contract(self, contract_code: Dict[str, Any]) -> Dict[str, Any]:
00231:         """Optimise un contrat existant"""
00232:         # Analyse du contrat
00233:         analysis = await self._analyze_contract_code(contract_code)
00234:         
00235:         # Identification des optimisations possibles
00236:         optimizations = await self._identify_optimizations(analysis)
00237:         
00238:         # Application des optimisations
00239:         optimized_code = await self._apply_optimizations(contract_code, optimizations)
00240:         
00241:         # Calcul des économies estimées
00242:         gas_savings = await self._calculate_gas_savings(contract_code, optimized_code)
00243:         
00244:         return {
00245:             "original_analysis": analysis,
00246:             "optimizations_applied": optimizations,
00247:             "optimized_code": optimized_code,
00248:             "gas_savings_estimate": gas_savings,
00249:             "recommendations": await self._generate_recommendations(analysis)
00250:         }
00251:     
00252:     async def audit_contract(self, contract_code: Dict[str, Any]) -> Dict[str, Any]:
00253:         """Audite un contrat pour trouver des vulnérabilités"""
00254:         vulnerabilities = []
00255:         
00256:         # Vérification des vulnérabilités courantes
00257:         common_checks = [
00258:             self._check_reentrancy,
00259:             self._check_overflow_underflow,
00260:             self._check_access_control,
00261:             self._check_gas_limits,
00262:             self._check_timestamp_dependency,
00263:             self._check_randomness,
00264:             self._check_front_running
00265:         ]
00266:         
00267:         for check in common_checks:
00268:             try:
00269:                 result = await check(contract_code)
00270:                 if result["found"]:
00271:                     vulnerabilities.append(result)
00272:             except Exception as e:
00273:                 self.logger.error(f"Erreur lors de la vérification: {e}")
00274:         
00275:         # Génération du rapport
00276:         severity_levels = {
00277:             "critical": sum(1 for v in vulnerabilities if v["severity"] == "critical"),
00278:             "high": sum(1 for v in vulnerabilities if v["severity"] == "high"),
00279:             "medium": sum(1 for v in vulnerabilities if v["severity"] == "medium"),
00280:             "low": sum(1 for v in vulnerabilities if v["severity"] == "low")
00281:         }
00282:         
00283:         return {
00284:             "vulnerabilities_found": vulnerabilities,
00285:             "severity_summary": severity_levels,
00286:             "total_vulnerabilities": len(vulnerabilities),
00287:             "recommended_fixes": await self._generate_fixes(vulnerabilities),
00288:             "security_score": await self._calculate_security_score(severity_levels)
00289:         }
00290: '@
00291: 
00292: $solidityAgentCode | Out-File -FilePath "$projectPath\agents\smart_contract\sous_agents\solidity_expert.py" -Force -Encoding UTF8

============================================================
FICHIER: SmartContractPipeline\agents\coder\sous_agents\backend_coder.ps1
TAILLE: 9.46 KB
============================================================

00001: # agents/coder/sous_agents/backend_coder.ps1
00002: Write-Host "Création du Sous-Agent Code Backend..." -ForegroundColor Cyan
00003: 
00004: $backendAgentConfig = @'
00005: # agents/coder/sous_agents/backend_config.yaml
00006: sous_agent_id: "backend_coder_001"
00007: parent_agent: "coder"
00008: specialization: "Développement Backend & API"
00009: model: "ollama:deepseek-coder:6.7b"
00010: temperature: 0.2
00011: 
00012: capabilities:
00013:   languages:
00014:     - "Python (FastAPI, Django)"
00015:     - "Node.js (Express, NestJS)"
00016:     - "Go (Gin, Echo)"
00017:     - "Java (Spring Boot)"
00018:     - "Rust (Actix, Rocket)"
00019:   database_orm:
00020:     - "SQLAlchemy (Python)"
00021:     - "Prisma (Node.js)"
00022:     - "GORM (Go)"
00023:     - "Hibernate (Java)"
00024:     - "Diesel (Rust)"
00025:   api_standards:
00026:     - "RESTful API Design"
00027:     - "GraphQL"
00028:     - "gRPC"
00029:     - "OpenAPI Specification"
00030:   caching_strategies:
00031:     - "Redis"
00032:     - "Memcached"
00033:     - "In-memory caching"
00034:     - "CDN caching"
00035: 
00036: tools:
00037:   - name: "api_generator"
00038:     type: "openapi_generator"
00039:     version: "1.0.0"
00040:     
00041:   - name: "database_designer"
00042:     type: "schema_designer"
00043:     version: "1.0.0"
00044:     
00045:   - name: "performance_optimizer"
00046:     type: "backend_performance"
00047:     version: "1.0.0"
00048: 
00049: context_requirements:
00050:   api_complexity: "Complexité des endpoints"
00051:   data_models: "Modèles de données"
00052:   authentication: "Mécanismes d'authentification"
00053:   rate_limiting: "Politiques de rate limiting"
00054: 
00055: outputs:
00056:   required:
00057:     - api_specification.yaml
00058:     - database_schema.sql
00059:     - service_implementations/
00060:     - unit_tests/
00061:   optional:
00062:     - integration_tests/
00063:     - performance_tests/
00064:     - api_documentation/
00065: 
00066: learning_objectives:
00067:   - "Optimiser les performances des API"
00068:   - "Design des schémas de base de données"
00069:   - "Implémenter l'authentification sécurisée"
00070:   - "Gérer les migrations de données"
00071: '@
00072: 
00073: $backendAgentConfig | Out-File -FilePath "$projectPath\agents\coder\sous_agents\backend_config.yaml" -Force -Encoding UTF8
00074: 
00075: # Code du sous-agent Backend
00076: $backendAgentCode = @'
00077: # agents/coder/sous_agents/backend_coder.py
00078: import asyncio
00079: from typing import Dict, Any, List
00080: from pathlib import Path
00081: import yaml
00082: import json
00083: from ...shared.base_agent import BaseAgent
00084: 
00085: class BackendCoderSubAgent(BaseAgent):
00086:     """Sous-agent spécialisé en développement backend"""
00087:     
00088:     def __init__(self, config_path: str):
00089:         super().__init__(config_path)
00090:         self.languages = self.config.get("capabilities", {}).get("languages", [])
00091:         self.frameworks = self._extract_frameworks()
00092:         
00093:     def _extract_frameworks(self) -> Dict[str, List[str]]:
00094:         """Extrait les frameworks par langage"""
00095:         frameworks = {}
00096:         for lang_cap in self.languages:
00097:             if '(' in lang_cap:
00098:                 lang = lang_cap.split('(')[0].strip()
00099:                 framework_str = lang_cap.split('(')[1].rstrip(')')
00100:                 frameworks[lang] = [f.strip() for f in framework_str.split(',')]
00101:         return frameworks
00102:     
00103:     async def initialize(self) -> bool:
00104:         """Initialise le sous-agent"""
00105:         self.logger.info(f"Initialisation du Backend Coder")
00106:         self.logger.info(f"Langages supportés: {list(self.frameworks.keys())}")
00107:         return True
00108:     
00109:     async def develop_api(self, api_spec: Dict[str, Any]) -> Dict[str, Any]:
00110:         """Développe une API complète"""
00111:         self.logger.info(f"Développement de l'API: {api_spec.get('name', 'Unnamed API')}")
00112:         
00113:         # Sélection du stack technologique
00114:         stack = await self._select_technology_stack(api_spec)
00115:         
00116:         # Génération du code
00117:         generated_code = await self._generate_backend_code(api_spec, stack)
00118:         
00119:         # Création des tests
00120:         tests = await self._generate_tests(api_spec, stack)
00121:         
00122:         # Documentation
00123:         documentation = await self._generate_documentation(api_spec, stack)
00124:         
00125:         return {
00126:             "technology_stack": stack,
00127:             "generated_code": generated_code,
00128:             "tests": tests,
00129:             "documentation": documentation,
00130:             "deployment_config": await self._generate_deployment_config(stack)
00131:         }
00132:     
00133:     async def _select_technology_stack(self, api_spec: Dict[str, Any]) -> Dict[str, Any]:
00134:         """Sélectionne le stack technologique optimal"""
00135:         requirements = api_spec.get("requirements", {})
00136:         
00137:         # Critères de sélection
00138:         if requirements.get("high_performance"):
00139:             # Go ou Rust pour haute performance
00140:             if "Go" in self.frameworks:
00141:                 return {
00142:                     "language": "Go",
00143:                     "framework": self.frameworks["Go"][0] if self.frameworks["Go"] else "Gin",
00144:                     "database": "PostgreSQL",
00145:                     "cache": "Redis"
00146:                 }
00147:         
00148:         if requirements.get("rapid_development"):
00149:             # Python ou Node.js pour développement rapide
00150:             if "Python" in self.frameworks:
00151:                 return {
00152:                     "language": "Python",
00153:                     "framework": self.frameworks["Python"][0] if self.frameworks["Python"] else "FastAPI",
00154:                     "database": "PostgreSQL",
00155:                     "cache": "Redis"
00156:                 }
00157:         
00158:         # Par défaut, utiliser Python
00159:         return {
00160:             "language": "Python",
00161:             "framework": "FastAPI",
00162:             "database": "PostgreSQL",
00163:             "cache": "Redis"
00164:         }
00165:     
00166:     async def _generate_backend_code(self, api_spec: Dict[str, Any], stack: Dict[str, Any]) -> Dict[str, Any]:
00167:         """Génère le code backend"""
00168:         language = stack["language"]
00169:         framework = stack["framework"]
00170:         
00171:         code_structure = {
00172:             "main_file": await self._generate_main_file(api_spec, language, framework),
00173:             "models": await self._generate_models(api_spec, language),
00174:             "routes": await self._generate_routes(api_spec, language, framework),
00175:             "services": await self._generate_services(api_spec, language),
00176:             "database": await self._generate_database_code(api_spec, stack["database"], language),
00177:             "middleware": await self._generate_middleware(api_spec, language, framework),
00178:             "config": await self._generate_config_files(language, framework)
00179:         }
00180:         
00181:         return code_structure
00182:     
00183:     async def _generate_tests(self, api_spec: Dict[str, Any], stack: Dict[str, Any]) -> Dict[str, Any]:
00184:         """Génère les tests"""
00185:         language = stack["language"]
00186:         
00187:         tests = {
00188:             "unit_tests": await self._generate_unit_tests(api_spec, language),
00189:             "integration_tests": await self._generate_integration_tests(api_spec, language),
00190:             "api_tests": await self._generate_api_tests(api_spec),
00191:             "performance_tests": await self._generate_performance_tests(api_spec)
00192:         }
00193:         
00194:         return tests
00195:     
00196:     async def execute(self, task: Dict[str, Any], context: Dict[str, Any]) -> Dict[str, Any]:
00197:         """Exécute une tâche de développement backend"""
00198:         task_type = task.get("type", "develop_api")
00199:         
00200:         if task_type == "develop_api":
00201:             return await self.develop_api(task.get("specification", {}))
00202:         elif task_type == "optimize_performance":
00203:             return await self.optimize_performance(task.get("codebase", {}))
00204:         elif task_type == "refactor_code":
00205:             return await self.refactor_code(task.get("codebase", {}))
00206:         elif task_type == "add_feature":
00207:             return await self.add_feature(task.get("feature", {}), task.get("codebase", {}))
00208:         else:
00209:             return {"error": f"Type de tâche non supporté: {task_type}"}
00210:     
00211:     async def optimize_performance(self, codebase: Dict[str, Any]) -> Dict[str, Any]:
00212:         """Optimise les performances du code backend"""
00213:         optimizations = []
00214:         
00215:         # Analyse des bottlenecks
00216:         bottlenecks = await self._analyze_bottlenecks(codebase)
00217:         
00218:         for bottleneck in bottlenecks:
00219:             optimization = await self._generate_optimization(bottleneck)
00220:             optimizations.append(optimization)
00221:         
00222:         # Génération du code optimisé
00223:         optimized_code = await self._apply_optimizations(codebase, optimizations)
00224:         
00225:         return {
00226:             "bottlenecks_found": bottlenecks,
00227:             "optimizations_applied": optimizations,
00228:             "optimized_code": optimized_code,
00229:             "performance_gain_estimate": await self._estimate_performance_gain(optimizations)
00230:         }
00231:     
00232:     async def refactor_code(self, codebase: Dict[str, Any]) -> Dict[str, Any]:
00233:         """Refactorise le code pour améliorer la qualité"""
00234:         refactoring_actions = []
00235:         
00236:         # Détection des code smells
00237:         code_smells = await self._detect_code_smells(codebase)
00238:         
00239:         for smell in code_smells:
00240:             refactoring = await self._generate_refactoring(smell)
00241:             refactoring_actions.append(refactoring)
00242:         
00243:         # Application des refactorings
00244:         refactored_code = await self._apply_refactorings(codebase, refactoring_actions)
00245:         
00246:         return {
00247:             "code_smells_found": code_smells,
00248:             "refactoring_actions": refactoring_actions,
00249:             "refactored_code": refactored_code,
00250:             "quality_metrics": await self._calculate_quality_metrics(refactored_code)
00251:         }
00252: '@
00253: 
00254: $backendAgentCode | Out-File -FilePath "$projectPath\agents\coder\sous_agents\backend_coder.py" -Force -Encoding UTF8

============================================================
FICHIER: agents\coder\sous_agents\backend_coder.ps1
TAILLE: 9.21 KB
============================================================

00001: # agents/coder/sous_agents/backend_coder.ps1
00002: Write-Host "Création du Sous-Agent Code Backend..." -ForegroundColor Cyan
00003: 
00004: $backendAgentConfig = @'
00005: # agents/coder/sous_agents/backend_config.yaml
00006: sous_agent_id: "backend_coder_001"
00007: parent_agent: "coder"
00008: specialization: "Développement Backend & API"
00009: model: "ollama:deepseek-coder:6.7b"
00010: temperature: 0.2
00011: 
00012: capabilities:
00013:   languages:
00014:     - "Python (FastAPI, Django)"
00015:     - "Node.js (Express, NestJS)"
00016:     - "Go (Gin, Echo)"
00017:     - "Java (Spring Boot)"
00018:     - "Rust (Actix, Rocket)"
00019:   database_orm:
00020:     - "SQLAlchemy (Python)"
00021:     - "Prisma (Node.js)"
00022:     - "GORM (Go)"
00023:     - "Hibernate (Java)"
00024:     - "Diesel (Rust)"
00025:   api_standards:
00026:     - "RESTful API Design"
00027:     - "GraphQL"
00028:     - "gRPC"
00029:     - "OpenAPI Specification"
00030:   caching_strategies:
00031:     - "Redis"
00032:     - "Memcached"
00033:     - "In-memory caching"
00034:     - "CDN caching"
00035: 
00036: tools:
00037:   - name: "api_generator"
00038:     type: "openapi_generator"
00039:     version: "1.0.0"
00040:     
00041:   - name: "database_designer"
00042:     type: "schema_designer"
00043:     version: "1.0.0"
00044:     
00045:   - name: "performance_optimizer"
00046:     type: "backend_performance"
00047:     version: "1.0.0"
00048: 
00049: context_requirements:
00050:   api_complexity: "Complexité des endpoints"
00051:   data_models: "Modèles de données"
00052:   authentication: "Mécanismes d'authentification"
00053:   rate_limiting: "Politiques de rate limiting"
00054: 
00055: outputs:
00056:   required:
00057:     - api_specification.yaml
00058:     - database_schema.sql
00059:     - service_implementations/
00060:     - unit_tests/
00061:   optional:
00062:     - integration_tests/
00063:     - performance_tests/
00064:     - api_documentation/
00065: 
00066: learning_objectives:
00067:   - "Optimiser les performances des API"
00068:   - "Design des schémas de base de données"
00069:   - "Implémenter l'authentification sécurisée"
00070:   - "Gérer les migrations de données"
00071: '@
00072: 
00073: $backendAgentConfig | Out-File -FilePath "$projectPath\agents\coder\sous_agents\backend_config.yaml" -Force -Encoding UTF8
00074: 
00075: # Code du sous-agent Backend
00076: $backendAgentCode = @'
00077: # agents/coder/sous_agents/backend_coder.py
00078: import asyncio
00079: from typing import Dict, Any, List
00080: from pathlib import Path
00081: import yaml
00082: import json
00083: from ...shared.base_agent import BaseAgent
00084: 
00085: class BackendCoderSubAgent(BaseAgent):
00086:     """Sous-agent spécialisé en développement backend"""
00087:     
00088:     def __init__(self, config_path: str):
00089:         super().__init__(config_path)
00090:         self.languages = self.config.get("capabilities", {}).get("languages", [])
00091:         self.frameworks = self._extract_frameworks()
00092:         
00093:     def _extract_frameworks(self) -> Dict[str, List[str]]:
00094:         """Extrait les frameworks par langage"""
00095:         frameworks = {}
00096:         for lang_cap in self.languages:
00097:             if '(' in lang_cap:
00098:                 lang = lang_cap.split('(')[0].strip()
00099:                 framework_str = lang_cap.split('(')[1].rstrip(')')
00100:                 frameworks[lang] = [f.strip() for f in framework_str.split(',')]
00101:         return frameworks
00102:     
00103:     async def initialize(self) -> bool:
00104:         """Initialise le sous-agent"""
00105:         self.logger.info(f"Initialisation du Backend Coder")
00106:         self.logger.info(f"Langages supportés: {list(self.frameworks.keys())}")
00107:         return True
00108:     
00109:     async def develop_api(self, api_spec: Dict[str, Any]) -> Dict[str, Any]:
00110:         """Développe une API complète"""
00111:         self.logger.info(f"Développement de l'API: {api_spec.get('name', 'Unnamed API')}")
00112:         
00113:         # Sélection du stack technologique
00114:         stack = await self._select_technology_stack(api_spec)
00115:         
00116:         # Génération du code
00117:         generated_code = await self._generate_backend_code(api_spec, stack)
00118:         
00119:         # Création des tests
00120:         tests = await self._generate_tests(api_spec, stack)
00121:         
00122:         # Documentation
00123:         documentation = await self._generate_documentation(api_spec, stack)
00124:         
00125:         return {
00126:             "technology_stack": stack,
00127:             "generated_code": generated_code,
00128:             "tests": tests,
00129:             "documentation": documentation,
00130:             "deployment_config": await self._generate_deployment_config(stack)
00131:         }
00132:     
00133:     async def _select_technology_stack(self, api_spec: Dict[str, Any]) -> Dict[str, Any]:
00134:         """Sélectionne le stack technologique optimal"""
00135:         requirements = api_spec.get("requirements", {})
00136:         
00137:         # Critères de sélection
00138:         if requirements.get("high_performance"):
00139:             # Go ou Rust pour haute performance
00140:             if "Go" in self.frameworks:
00141:                 return {
00142:                     "language": "Go",
00143:                     "framework": self.frameworks["Go"][0] if self.frameworks["Go"] else "Gin",
00144:                     "database": "PostgreSQL",
00145:                     "cache": "Redis"
00146:                 }
00147:         
00148:         if requirements.get("rapid_development"):
00149:             # Python ou Node.js pour développement rapide
00150:             if "Python" in self.frameworks:
00151:                 return {
00152:                     "language": "Python",
00153:                     "framework": self.frameworks["Python"][0] if self.frameworks["Python"] else "FastAPI",
00154:                     "database": "PostgreSQL",
00155:                     "cache": "Redis"
00156:                 }
00157:         
00158:         # Par défaut, utiliser Python
00159:         return {
00160:             "language": "Python",
00161:             "framework": "FastAPI",
00162:             "database": "PostgreSQL",
00163:             "cache": "Redis"
00164:         }
00165:     
00166:     async def _generate_backend_code(self, api_spec: Dict[str, Any], stack: Dict[str, Any]) -> Dict[str, Any]:
00167:         """Génère le code backend"""
00168:         language = stack["language"]
00169:         framework = stack["framework"]
00170:         
00171:         code_structure = {
00172:             "main_file": await self._generate_main_file(api_spec, language, framework),
00173:             "models": await self._generate_models(api_spec, language),
00174:             "routes": await self._generate_routes(api_spec, language, framework),
00175:             "services": await self._generate_services(api_spec, language),
00176:             "database": await self._generate_database_code(api_spec, stack["database"], language),
00177:             "middleware": await self._generate_middleware(api_spec, language, framework),
00178:             "config": await self._generate_config_files(language, framework)
00179:         }
00180:         
00181:         return code_structure
00182:     
00183:     async def _generate_tests(self, api_spec: Dict[str, Any], stack: Dict[str, Any]) -> Dict[str, Any]:
00184:         """Génère les tests"""
00185:         language = stack["language"]
00186:         
00187:         tests = {
00188:             "unit_tests": await self._generate_unit_tests(api_spec, language),
00189:             "integration_tests": await self._generate_integration_tests(api_spec, language),
00190:             "api_tests": await self._generate_api_tests(api_spec),
00191:             "performance_tests": await self._generate_performance_tests(api_spec)
00192:         }
00193:         
00194:         return tests
00195:     
00196:     async def execute(self, task: Dict[str, Any], context: Dict[str, Any]) -> Dict[str, Any]:
00197:         """Exécute une tâche de développement backend"""
00198:         task_type = task.get("type", "develop_api")
00199:         
00200:         if task_type == "develop_api":
00201:             return await self.develop_api(task.get("specification", {}))
00202:         elif task_type == "optimize_performance":
00203:             return await self.optimize_performance(task.get("codebase", {}))
00204:         elif task_type == "refactor_code":
00205:             return await self.refactor_code(task.get("codebase", {}))
00206:         elif task_type == "add_feature":
00207:             return await self.add_feature(task.get("feature", {}), task.get("codebase", {}))
00208:         else:
00209:             return {"error": f"Type de tâche non supporté: {task_type}"}
00210:     
00211:     async def optimize_performance(self, codebase: Dict[str, Any]) -> Dict[str, Any]:
00212:         """Optimise les performances du code backend"""
00213:         optimizations = []
00214:         
00215:         # Analyse des bottlenecks
00216:         bottlenecks = await self._analyze_bottlenecks(codebase)
00217:         
00218:         for bottleneck in bottlenecks:
00219:             optimization = await self._generate_optimization(bottleneck)
00220:             optimizations.append(optimization)
00221:         
00222:         # Génération du code optimisé
00223:         optimized_code = await self._apply_optimizations(codebase, optimizations)
00224:         
00225:         return {
00226:             "bottlenecks_found": bottlenecks,
00227:             "optimizations_applied": optimizations,
00228:             "optimized_code": optimized_code,
00229:             "performance_gain_estimate": await self._estimate_performance_gain(optimizations)
00230:         }
00231:     
00232:     async def refactor_code(self, codebase: Dict[str, Any]) -> Dict[str, Any]:
00233:         """Refactorise le code pour améliorer la qualité"""
00234:         refactoring_actions = []
00235:         
00236:         # Détection des code smells
00237:         code_smells = await self._detect_code_smells(codebase)
00238:         
00239:         for smell in code_smells:
00240:             refactoring = await self._generate_refactoring(smell)
00241:             refactoring_actions.append(refactoring)
00242:         
00243:         # Application des refactorings
00244:         refactored_code = await self._apply_refactorings(codebase, refactoring_actions)
00245:         
00246:         return {
00247:             "code_smells_found": code_smells,
00248:             "refactoring_actions": refactoring_actions,
00249:             "refactored_code": refactored_code,
00250:             "quality_metrics": await self._calculate_quality_metrics(refactored_code)
00251:         }
00252: '@
00253: 
00254: $backendAgentCode | Out-File -FilePath "$projectPath\agents\coder\sous_agents\backend_coder.py" -Force -Encoding UTF8

============================================================
FICHIER: SmartContractPipeline\agents\architect\sous_agents\cloud_architect.ps1
TAILLE: 8.75 KB
============================================================

00001: # agents/architect/sous_agents/cloud_architect.ps1
00002: Write-Host "Création du Sous-Agent Architecture Cloud..." -ForegroundColor Cyan
00003: 
00004: $cloudAgentConfig = @'
00005: # agents/architect/sous_agents/cloud_config.yaml
00006: sous_agent_id: "cloud_architect_001"
00007: parent_agent: "architect"
00008: specialization: "Architecture Cloud Native"
00009: model: "ollama:llama3.2:3b"
00010: temperature: 0.3
00011: 
00012: capabilities:
00013:   - cloud_providers: ["AWS", "Azure", "GCP", "OVH Cloud"]
00014:   - containerization: ["Docker", "Kubernetes", "Podman"]
00015:   - orchestration: ["K8s", "Docker Swarm", "Nomad"]
00016:   - serverless: ["AWS Lambda", "Azure Functions", "GCP Cloud Functions"]
00017:   - networking: ["VPC", "Subnets", "Load Balancers", "CDN"]
00018: 
00019: tools:
00020:   - name: "terraform_generator"
00021:     type: "iac_generator"
00022:     version: "1.0.0"
00023:     
00024:   - name: "cost_calculator"
00025:     type: "cloud_cost_estimator"
00026:     version: "1.0.0"
00027:     
00028:   - name: "diagram_generator"
00029:     type: "cloud_architecture_diagram"
00030:     version: "1.0.0"
00031: 
00032: context_requirements:
00033:   expected_traffic: "Nombre d'utilisateurs estimés"
00034:   data_storage: "Volume et type de données"
00035:   compliance: "RGPD, HIPAA, etc."
00036:   budget: "Budget mensuel estimé"
00037: 
00038: outputs:
00039:   required:
00040:     - cloud_architecture_diagram.mmd
00041:     - terraform_configurations/
00042:     - cost_estimation_report.md
00043:     - security_groups_config.json
00044:   optional:
00045:     - kubernetes_manifests/
00046:     - monitoring_setup/
00047:     - disaster_recovery_plan.md
00048: 
00049: learning_objectives:
00050:   - "Optimiser les coûts cloud"
00051:   - "Améliorer la scalabilité"
00052:   - "Renforcer la sécurité"
00053:   - "Automatiser les déploiements"
00054: '@
00055: 
00056: $cloudAgentConfig | Out-File -FilePath "$projectPath\agents\architect\sous_agents\cloud_config.yaml" -Force -Encoding UTF8
00057: 
00058: # Code du sous-agent
00059: $cloudAgentCode = @'
00060: # agents/architect/sous_agents/cloud_architect.py
00061: import asyncio
00062: import yaml
00063: import json
00064: from typing import Dict, Any, List
00065: from pathlib import Path
00066: from ..shared.base_agent import BaseAgent
00067: 
00068: class CloudArchitectSubAgent(BaseAgent):
00069:     """Sous-agent spécialisé en architecture cloud"""
00070:     
00071:     def __init__(self, config_path: str):
00072:         super().__init__(config_path)
00073:         self.cloud_providers = self.config.get("capabilities", {}).get("cloud_providers", [])
00074:         self.specializations = self.config.get("capabilities", {})
00075:         
00076:     async def initialize(self) -> bool:
00077:         """Initialise le sous-agent"""
00078:         self.logger.info(f"Initialisation du sous-agent Cloud Architect")
00079:         self.logger.info(f"Spécialisations: {list(self.specializations.keys())}")
00080:         return True
00081:     
00082:     async def design_cloud_architecture(self, requirements: Dict[str, Any]) -> Dict[str, Any]:
00083:         """Conçoit une architecture cloud"""
00084:         self.logger.info("Conception de l'architecture cloud...")
00085:         
00086:         # Analyse des besoins
00087:         analysis = await self._analyze_requirements(requirements)
00088:         
00089:         # Sélection du provider
00090:         provider = await self._select_cloud_provider(requirements)
00091:         
00092:         # Conception de l'architecture
00093:         architecture = await self._design_architecture(analysis, provider)
00094:         
00095:         # Estimation des coûts
00096:         cost_estimation = await self._estimate_costs(architecture, provider)
00097:         
00098:         # Génération de la documentation
00099:         documentation = await self._generate_documentation(architecture, cost_estimation)
00100:         
00101:         return {
00102:             "provider": provider,
00103:             "architecture": architecture,
00104:             "cost_estimation": cost_estimation,
00105:             "documentation": documentation,
00106:             "terraform_configs": await self._generate_terraform_configs(architecture)
00107:         }
00108:     
00109:     async def _analyze_requirements(self, requirements: Dict[str, Any]) -> Dict[str, Any]:
00110:         """Analyse les besoins techniques"""
00111:         analysis = {
00112:             "compute_needs": self._calculate_compute_needs(requirements),
00113:             "storage_needs": self._calculate_storage_needs(requirements),
00114:             "network_needs": self._calculate_network_needs(requirements),
00115:             "security_requirements": requirements.get("security", {}),
00116:             "compliance_requirements": requirements.get("compliance", [])
00117:         }
00118:         return analysis
00119:     
00120:     async def _select_cloud_provider(self, requirements: Dict[str, Any]) -> str:
00121:         """Sélectionne le meilleur fournisseur cloud"""
00122:         # Logique de sélection basée sur les besoins
00123:         provider_scores = {}
00124:         
00125:         for provider in self.cloud_providers:
00126:             score = 0
00127:             
00128:             # Score basé sur les besoins
00129:             if requirements.get("budget_constrained"):
00130:                 if provider in ["OVH Cloud", "Scaleway"]:
00131:                     score += 3
00132:             
00133:             if requirements.get("needs_global_presence"):
00134:                 if provider in ["AWS", "GCP", "Azure"]:
00135:                     score += 2
00136:             
00137:             if requirements.get("blockchain_integration"):
00138:                 if provider in ["AWS", "Azure"]:  # AWS Managed Blockchain, Azure Blockchain Service
00139:                     score += 2
00140:             
00141:             provider_scores[provider] = score
00142:         
00143:         # Retourne le provider avec le meilleur score
00144:         return max(provider_scores, key=provider_scores.get)
00145:     
00146:     async def _design_architecture(self, analysis: Dict[str, Any], provider: str) -> Dict[str, Any]:
00147:         """Conçoit l'architecture détaillée"""
00148:         architecture = {
00149:             "provider": provider,
00150:             "compute": await self._design_compute_layer(analysis["compute_needs"], provider),
00151:             "storage": await self._design_storage_layer(analysis["storage_needs"], provider),
00152:             "network": await self._design_network_layer(analysis["network_needs"], provider),
00153:             "security": await self._design_security_layer(analysis["security_requirements"], provider),
00154:             "monitoring": await self._design_monitoring_layer(provider)
00155:         }
00156:         return architecture
00157:     
00158:     async def _generate_terraform_configs(self, architecture: Dict[str, Any]) -> Dict[str, Any]:
00159:         """Génère les configurations Terraform"""
00160:         terraform_configs = {
00161:             "main.tf": await self._generate_main_tf(architecture),
00162:             "variables.tf": await self._generate_variables_tf(architecture),
00163:             "outputs.tf": await self._generate_outputs_tf(architecture),
00164:             "providers.tf": await self._generate_providers_tf(architecture["provider"])
00165:         }
00166:         return terraform_configs
00167:     
00168:     async def execute(self, task: Dict[str, Any], context: Dict[str, Any]) -> Dict[str, Any]:
00169:         """Exécute une tâche d'architecture cloud"""
00170:         task_type = task.get("type", "design_architecture")
00171:         
00172:         if task_type == "design_architecture":
00173:             return await self.design_cloud_architecture(task.get("requirements", {}))
00174:         elif task_type == "cost_optimization":
00175:             return await self.optimize_costs(task.get("current_architecture", {}))
00176:         elif task_type == "security_review":
00177:             return await self.review_security(task.get("architecture", {}))
00178:         else:
00179:             return {"error": f"Type de tâche non supporté: {task_type}"}
00180:     
00181:     async def optimize_costs(self, architecture: Dict[str, Any]) -> Dict[str, Any]:
00182:         """Optimise les coûts cloud"""
00183:         optimizations = []
00184:         
00185:         # Analyse des ressources surdimensionnées
00186:         if architecture.get("compute", {}).get("instance_type"):
00187:             current_instance = architecture["compute"]["instance_type"]
00188:             optimized_instance = await self._suggest_optimized_instance(current_instance)
00189:             if optimized_instance != current_instance:
00190:                 optimizations.append({
00191:                     "type": "compute_optimization",
00192:                     "current": current_instance,
00193:                     "optimized": optimized_instance,
00194:                     "savings_estimate": "~30%"
00195:                 })
00196:         
00197:         # Analyse du stockage
00198:         if architecture.get("storage", {}).get("type"):
00199:             storage_type = architecture["storage"]["type"]
00200:             optimized_storage = await self._suggest_optimized_storage(storage_type)
00201:             if optimized_storage != storage_type:
00202:                 optimizations.append({
00203:                     "type": "storage_optimization",
00204:                     "current": storage_type,
00205:                     "optimized": optimized_storage,
00206:                     "savings_estimate": "~40%"
00207:                 })
00208:         
00209:         return {
00210:             "optimizations": optimizations,
00211:             "total_savings_estimate": await self._calculate_total_savings(optimizations)
00212:         }
00213: '@
00214: 
00215: $cloudAgentCode | Out-File -FilePath "$projectPath\agents\architect\sous_agents\cloud_architect.py" -Force -Encoding UTF8

============================================================
FICHIER: agents\architect\sous_agents\cloud_architect.ps1
TAILLE: 8.54 KB
============================================================

00001: # agents/architect/sous_agents/cloud_architect.ps1
00002: Write-Host "Création du Sous-Agent Architecture Cloud..." -ForegroundColor Cyan
00003: 
00004: $cloudAgentConfig = @'
00005: # agents/architect/sous_agents/cloud_config.yaml
00006: sous_agent_id: "cloud_architect_001"
00007: parent_agent: "architect"
00008: specialization: "Architecture Cloud Native"
00009: model: "ollama:llama3.2:3b"
00010: temperature: 0.3
00011: 
00012: capabilities:
00013:   - cloud_providers: ["AWS", "Azure", "GCP", "OVH Cloud"]
00014:   - containerization: ["Docker", "Kubernetes", "Podman"]
00015:   - orchestration: ["K8s", "Docker Swarm", "Nomad"]
00016:   - serverless: ["AWS Lambda", "Azure Functions", "GCP Cloud Functions"]
00017:   - networking: ["VPC", "Subnets", "Load Balancers", "CDN"]
00018: 
00019: tools:
00020:   - name: "terraform_generator"
00021:     type: "iac_generator"
00022:     version: "1.0.0"
00023:     
00024:   - name: "cost_calculator"
00025:     type: "cloud_cost_estimator"
00026:     version: "1.0.0"
00027:     
00028:   - name: "diagram_generator"
00029:     type: "cloud_architecture_diagram"
00030:     version: "1.0.0"
00031: 
00032: context_requirements:
00033:   expected_traffic: "Nombre d'utilisateurs estimés"
00034:   data_storage: "Volume et type de données"
00035:   compliance: "RGPD, HIPAA, etc."
00036:   budget: "Budget mensuel estimé"
00037: 
00038: outputs:
00039:   required:
00040:     - cloud_architecture_diagram.mmd
00041:     - terraform_configurations/
00042:     - cost_estimation_report.md
00043:     - security_groups_config.json
00044:   optional:
00045:     - kubernetes_manifests/
00046:     - monitoring_setup/
00047:     - disaster_recovery_plan.md
00048: 
00049: learning_objectives:
00050:   - "Optimiser les coûts cloud"
00051:   - "Améliorer la scalabilité"
00052:   - "Renforcer la sécurité"
00053:   - "Automatiser les déploiements"
00054: '@
00055: 
00056: $cloudAgentConfig | Out-File -FilePath "$projectPath\agents\architect\sous_agents\cloud_config.yaml" -Force -Encoding UTF8
00057: 
00058: # Code du sous-agent
00059: $cloudAgentCode = @'
00060: # agents/architect/sous_agents/cloud_architect.py
00061: import asyncio
00062: import yaml
00063: import json
00064: from typing import Dict, Any, List
00065: from pathlib import Path
00066: from ..shared.base_agent import BaseAgent
00067: 
00068: class CloudArchitectSubAgent(BaseAgent):
00069:     """Sous-agent spécialisé en architecture cloud"""
00070:     
00071:     def __init__(self, config_path: str):
00072:         super().__init__(config_path)
00073:         self.cloud_providers = self.config.get("capabilities", {}).get("cloud_providers", [])
00074:         self.specializations = self.config.get("capabilities", {})
00075:         
00076:     async def initialize(self) -> bool:
00077:         """Initialise le sous-agent"""
00078:         self.logger.info(f"Initialisation du sous-agent Cloud Architect")
00079:         self.logger.info(f"Spécialisations: {list(self.specializations.keys())}")
00080:         return True
00081:     
00082:     async def design_cloud_architecture(self, requirements: Dict[str, Any]) -> Dict[str, Any]:
00083:         """Conçoit une architecture cloud"""
00084:         self.logger.info("Conception de l'architecture cloud...")
00085:         
00086:         # Analyse des besoins
00087:         analysis = await self._analyze_requirements(requirements)
00088:         
00089:         # Sélection du provider
00090:         provider = await self._select_cloud_provider(requirements)
00091:         
00092:         # Conception de l'architecture
00093:         architecture = await self._design_architecture(analysis, provider)
00094:         
00095:         # Estimation des coûts
00096:         cost_estimation = await self._estimate_costs(architecture, provider)
00097:         
00098:         # Génération de la documentation
00099:         documentation = await self._generate_documentation(architecture, cost_estimation)
00100:         
00101:         return {
00102:             "provider": provider,
00103:             "architecture": architecture,
00104:             "cost_estimation": cost_estimation,
00105:             "documentation": documentation,
00106:             "terraform_configs": await self._generate_terraform_configs(architecture)
00107:         }
00108:     
00109:     async def _analyze_requirements(self, requirements: Dict[str, Any]) -> Dict[str, Any]:
00110:         """Analyse les besoins techniques"""
00111:         analysis = {
00112:             "compute_needs": self._calculate_compute_needs(requirements),
00113:             "storage_needs": self._calculate_storage_needs(requirements),
00114:             "network_needs": self._calculate_network_needs(requirements),
00115:             "security_requirements": requirements.get("security", {}),
00116:             "compliance_requirements": requirements.get("compliance", [])
00117:         }
00118:         return analysis
00119:     
00120:     async def _select_cloud_provider(self, requirements: Dict[str, Any]) -> str:
00121:         """Sélectionne le meilleur fournisseur cloud"""
00122:         # Logique de sélection basée sur les besoins
00123:         provider_scores = {}
00124:         
00125:         for provider in self.cloud_providers:
00126:             score = 0
00127:             
00128:             # Score basé sur les besoins
00129:             if requirements.get("budget_constrained"):
00130:                 if provider in ["OVH Cloud", "Scaleway"]:
00131:                     score += 3
00132:             
00133:             if requirements.get("needs_global_presence"):
00134:                 if provider in ["AWS", "GCP", "Azure"]:
00135:                     score += 2
00136:             
00137:             if requirements.get("blockchain_integration"):
00138:                 if provider in ["AWS", "Azure"]:  # AWS Managed Blockchain, Azure Blockchain Service
00139:                     score += 2
00140:             
00141:             provider_scores[provider] = score
00142:         
00143:         # Retourne le provider avec le meilleur score
00144:         return max(provider_scores, key=provider_scores.get)
00145:     
00146:     async def _design_architecture(self, analysis: Dict[str, Any], provider: str) -> Dict[str, Any]:
00147:         """Conçoit l'architecture détaillée"""
00148:         architecture = {
00149:             "provider": provider,
00150:             "compute": await self._design_compute_layer(analysis["compute_needs"], provider),
00151:             "storage": await self._design_storage_layer(analysis["storage_needs"], provider),
00152:             "network": await self._design_network_layer(analysis["network_needs"], provider),
00153:             "security": await self._design_security_layer(analysis["security_requirements"], provider),
00154:             "monitoring": await self._design_monitoring_layer(provider)
00155:         }
00156:         return architecture
00157:     
00158:     async def _generate_terraform_configs(self, architecture: Dict[str, Any]) -> Dict[str, Any]:
00159:         """Génère les configurations Terraform"""
00160:         terraform_configs = {
00161:             "main.tf": await self._generate_main_tf(architecture),
00162:             "variables.tf": await self._generate_variables_tf(architecture),
00163:             "outputs.tf": await self._generate_outputs_tf(architecture),
00164:             "providers.tf": await self._generate_providers_tf(architecture["provider"])
00165:         }
00166:         return terraform_configs
00167:     
00168:     async def execute(self, task: Dict[str, Any], context: Dict[str, Any]) -> Dict[str, Any]:
00169:         """Exécute une tâche d'architecture cloud"""
00170:         task_type = task.get("type", "design_architecture")
00171:         
00172:         if task_type == "design_architecture":
00173:             return await self.design_cloud_architecture(task.get("requirements", {}))
00174:         elif task_type == "cost_optimization":
00175:             return await self.optimize_costs(task.get("current_architecture", {}))
00176:         elif task_type == "security_review":
00177:             return await self.review_security(task.get("architecture", {}))
00178:         else:
00179:             return {"error": f"Type de tâche non supporté: {task_type}"}
00180:     
00181:     async def optimize_costs(self, architecture: Dict[str, Any]) -> Dict[str, Any]:
00182:         """Optimise les coûts cloud"""
00183:         optimizations = []
00184:         
00185:         # Analyse des ressources surdimensionnées
00186:         if architecture.get("compute", {}).get("instance_type"):
00187:             current_instance = architecture["compute"]["instance_type"]
00188:             optimized_instance = await self._suggest_optimized_instance(current_instance)
00189:             if optimized_instance != current_instance:
00190:                 optimizations.append({
00191:                     "type": "compute_optimization",
00192:                     "current": current_instance,
00193:                     "optimized": optimized_instance,
00194:                     "savings_estimate": "~30%"
00195:                 })
00196:         
00197:         # Analyse du stockage
00198:         if architecture.get("storage", {}).get("type"):
00199:             storage_type = architecture["storage"]["type"]
00200:             optimized_storage = await self._suggest_optimized_storage(storage_type)
00201:             if optimized_storage != storage_type:
00202:                 optimizations.append({
00203:                     "type": "storage_optimization",
00204:                     "current": storage_type,
00205:                     "optimized": optimized_storage,
00206:                     "savings_estimate": "~40%"
00207:                 })
00208:         
00209:         return {
00210:             "optimizations": optimizations,
00211:             "total_savings_estimate": await self._calculate_total_savings(optimizations)
00212:         }
00213: '@
00214: 
00215: $cloudAgentCode | Out-File -FilePath "$projectPath\agents\architect\sous_agents\cloud_architect.py" -Force -Encoding UTF8

============================================================
FICHIER: SmartContractPipeline\install-blockchain.ps1
TAILLE: 7.44 KB
============================================================

00001: # install-blockchain.ps1
00002: Write-Host "=== INSTALLATION DES OUTILS BLOCKCHAIN ===" -ForegroundColor Cyan
00003: Write-Host "Date: $(Get-Date -Format 'yyyy-MM-dd HH:mm:ss')" -ForegroundColor Gray
00004: Write-Host ""
00005: 
00006: # Variables de versions stables
00007: $versions = @{
00008:     Foundry = "v0.2.0"
00009:     Hardhat = "2.19.5"
00010:     Node = "20.11.1"
00011: }
00012: 
00013: # 1. Installer Foundry (version spécifique)
00014: Write-Host "1. INSTALLATION FOUNDRY..." -ForegroundColor Yellow
00015: if (-not (Test-CommandExists "forge")) {
00016:     Write-Host "   Installation de Foundry $($versions.Foundry)..." -ForegroundColor Gray
00017:     try {
00018:         # Utiliser l'installateur officiel
00019:         irm https://getfoundry.sh -OutFile "$env:TEMP\foundryup.ps1"
00020:         & "$env:TEMP\foundryup.ps1"
00021:         
00022:         # Vérifier l'installation
00023:         Start-Sleep -Seconds 5
00024:         if (Test-CommandExists "forge") {
00025:             $forgeVersion = (forge --version 2>&1 | Select-String "forge").ToString().Trim()
00026:             Write-Host "   ✅ Foundry installé: $forgeVersion" -ForegroundColor Green
00027:         } else {
00028:             Write-Host "   ⚠️  Foundry installé mais non détecté dans PATH" -ForegroundColor Yellow
00029:         }
00030:     } catch {
00031:         Write-Host "   ❌ Erreur lors de l'installation de Foundry" -ForegroundColor Red
00032:         Write-Host "   Message: $_" -ForegroundColor Red
00033:     }
00034: } else {
00035:     $forgeVersion = (forge --version 2>&1 | Select-String "forge").ToString().Trim()
00036:     Write-Host "   ✅ Foundry déjà installé: $forgeVersion" -ForegroundColor Green
00037: }
00038: 
00039: # 2. Installer Hardhat
00040: Write-Host "`n2. INSTALLATION HARDHAT..." -ForegroundColor Yellow
00041: if (-not (Test-CommandExists "hardhat")) {
00042:     Write-Host "   Installation de Hardhat $($versions.Hardhat)..." -ForegroundColor Gray
00043:     try {
00044:         npm install -g hardhat@$($versions.Hardhat) --force
00045:         $hardhatVersion = (npx hardhat --version 2>&1).ToString().Trim()
00046:         Write-Host "   ✅ Hardhat installé: $hardhatVersion" -ForegroundColor Green
00047:     } catch {
00048:         Write-Host "   ❌ Erreur lors de l'installation de Hardhat" -ForegroundColor Red
00049:     }
00050: } else {
00051:     $hardhatVersion = (npx hardhat --version 2>&1).ToString().Trim()
00052:     Write-Host "   ✅ Hardhat déjà installé: $hardhatVersion" -ForegroundColor Green
00053: }
00054: 
00055: # 3. Installer les outils de sécurité
00056: Write-Host "`n3. INSTALLATION OUTILS SECURITE..." -ForegroundColor Yellow
00057: $securityTools = @(
00058:     @{Name="Slither"; Command="slither"; Install="pip install slither-analyzer==0.10.0"},
00059:     @{Name="Solhint"; Command="solhint"; Install="npm install -g solhint@3.6.2"},
00060:     @{Name="Mythril"; Command="myth"; Install="pip install mythril==0.23.28"}
00061: )
00062: 
00063: foreach ($tool in $securityTools) {
00064:     Write-Host "   $($tool.Name)..." -ForegroundColor Gray
00065:     if (-not (Test-CommandExists $tool.Command)) {
00066:         try {
00067:             Invoke-Expression $tool.Install
00068:             Write-Host "   ✅ $($tool.Name) installé" -ForegroundColor Green
00069:         } catch {
00070:             Write-Host "   ⚠️  Erreur lors de l'installation de $($tool.Name)" -ForegroundColor Yellow
00071:         }
00072:     } else {
00073:         Write-Host "   ✅ $($tool.Name) déjà installé" -ForegroundColor Green
00074:     }
00075: }
00076: 
00077: # 4. Installer les outils de développement frontend
00078: Write-Host "`n4. INSTALLATION OUTILS FRONTEND..." -ForegroundColor Yellow
00079: $frontendTools = @(
00080:     @{Name="Next.js CLI"; Command="create-next-app"; Install="npm install -g create-next-app@14.1.0"},
00081:     @{Name="TypeScript"; Command="tsc"; Install="npm install -g typescript@5.3.3"},
00082:     @{Name="Yarn"; Command="yarn"; Install="npm install -g yarn@1.22.21"}
00083: )
00084: 
00085: foreach ($tool in $frontendTools) {
00086:     Write-Host "   $($tool.Name)..." -ForegroundColor Gray
00087:     if (-not (Test-CommandExists $tool.Command)) {
00088:         try {
00089:             Invoke-Expression $tool.Install
00090:             Write-Host "   ✅ $($tool.Name) installé" -ForegroundColor Green
00091:         } catch {
00092:             Write-Host "   ⚠️  Erreur lors de l'installation de $($tool.Name)" -ForegroundColor Yellow
00093:         }
00094:     } else {
00095:         Write-Host "   ✅ $($tool.Name) déjà installé" -ForegroundColor Green
00096:     }
00097: }
00098: 
00099: # 5. Installer les librairies Web3
00100: Write-Host "`n5. INSTALLATION LIBRAIRIES WEB3..." -ForegroundColor Yellow
00101: $web3Libs = @(
00102:     @{Name="Wagmi CLI"; Command="wagmi"; Install="npm install -g wagmi@2.0.10"},
00103:     @{Name="Viem"; Install="npm install -g viem@1.19.11"}
00104: )
00105: 
00106: foreach ($lib in $web3Libs) {
00107:     Write-Host "   $($lib.Name)..." -ForegroundColor Gray
00108:     try {
00109:         Invoke-Expression $lib.Install
00110:         Write-Host "   ✅ $($lib.Name) installé" -ForegroundColor Green
00111:     } catch {
00112:         Write-Host "   ⚠️  Erreur lors de l'installation de $($lib.Name)" -ForegroundColor Yellow
00113:     }
00114: }
00115: 
00116: # 6. Configurer les RPC endpoints
00117: Write-Host "`n6. CONFIGURATION RPC ENDPOINTS..." -ForegroundColor Yellow
00118: $rpcConfigDir = "$env:USERPROFILE\.web3"
00119: if (-not (Test-Path $rpcConfigDir)) {
00120:     New-Item -ItemType Directory -Path $rpcConfigDir -Force | Out-Null
00121: }
00122: 
00123: $rpcConfig = @{
00124:     endpoints = @{
00125:         ethereum = @{
00126:             mainnet = "https://eth-mainnet.g.alchemy.com/v2/demo"
00127:             sepolia = "https://eth-sepolia.g.alchemy.com/v2/demo"
00128:         }
00129:         arbitrum = @{
00130:             mainnet = "https://arb-mainnet.g.alchemy.com/v2/demo"
00131:             sepolia = "https://arb-sepolia.g.alchemy.com/v2/demo"
00132:         }
00133:         optimism = @{
00134:             mainnet = "https://opt-mainnet.g.alchemy.com/v2/demo"
00135:             sepolia = "https://opt-sepolia.g.alchemy.com/v2/demo"
00136:         }
00137:     }
00138:     versions = @{
00139:         web3 = "1.19.11"
00140:         ethers = "6.8.0"
00141:     }
00142: }
00143: 
00144: $rpcConfig | ConvertTo-Json -Depth 10 | Out-File -FilePath "$rpcConfigDir\endpoints.json" -Force
00145: Write-Host "   ✅ Configuration RPC sauvegardée" -ForegroundColor Green
00146: 
00147: # 7. Installer Anvil
00148: Write-Host "`n7. INSTALLATION ANVIL..." -ForegroundColor Yellow
00149: if (-not (Test-CommandExists "anvil")) {
00150:     Write-Host "   Installation d'Anvil via Cargo..." -ForegroundColor Gray
00151:     try {
00152:         if (-not (Test-CommandExists "cargo")) {
00153:             Write-Host "   Installation de Rust..." -ForegroundColor Gray
00154:             winget install --id Rustlang.Rustup --accept-package-agreements --accept-source-agreements --silent
00155:         }
00156:         
00157:         cargo install --git https://github.com/foundry-rs/foundry anvil --profile local --locked
00158:         Write-Host "   ✅ Anvil installé" -ForegroundColor Green
00159:     } catch {
00160:         Write-Host "   ⚠️  Erreur lors de l'installation d'Anvil" -ForegroundColor Yellow
00161:         Write-Host "   Alternative: Anvil est inclus avec Foundry" -ForegroundColor Gray
00162:     }
00163: } else {
00164:     Write-Host "   ✅ Anvil déjà installé" -ForegroundColor Green
00165: }
00166: 
00167: # 8. Vérifier les installations
00168: Write-Host "`n8. VERIFICATION DES INSTALLATIONS..." -ForegroundColor Yellow
00169: $toolsToCheck = @(
00170:     @{Name="Foundry"; Command="forge --version 2>&1 | Select-String 'forge' | ForEach-Object { $_.ToString().Trim() }"},
00171:     @{Name="Hardhat"; Command="npx hardhat --version 2>&1"},
00172:     @{Name="Node.js"; Command="node --version"},
00173:     @{Name="Python"; Command="python --version 2>&1"},
00174:     @{Name="Git"; Command="git --version"}
00175: )
00176: 
00177: foreach ($tool in $toolsToCheck) {
00178:     try {
00179:         $version = Invoke-Expression $tool.Command
00180:         Write-Host "   ✅ $($tool.Name): $version" -ForegroundColor Green
00181:     } catch {
00182:         Write-Host "   ❌ $($tool.Name): NON INSTALLE" -ForegroundColor Red
00183:     }
00184: }
00185: 
00186: Write-Host "`n✅ OUTILS BLOCKCHAIN INSTALLES" -ForegroundColor Green

============================================================
FICHIER: SmartContractPipeline\setup-project.ps1
TAILLE: 7.32 KB
============================================================

00001: # setup-project.ps1 - Version corrigée
00002: Write-Host "=== SETUP COMPLET DU PROJET SMART CONTRACT PIPELINE ===" -ForegroundColor Cyan
00003: Write-Host ""
00004: 
00005: # 1. Vérifier et installer les prérequis
00006: Write-Host "1. INSTALLATION DES PREREQUIS..." -ForegroundColor Yellow
00007: if (-not (Test-Path ".\install-prerequis.ps1")) {
00008:     Write-Host "❌ Script install-prerequis.ps1 non trouvé" -ForegroundColor Red
00009:     exit 1
00010: }
00011: powershell -ExecutionPolicy Bypass -File .\install-prerequis.ps1
00012: 
00013: # 2. Attendre que l'utilisateur redémarre PowerShell si nécessaire
00014: Write-Host "`n2. VERIFICATION DE L'INSTALLATION..." -ForegroundColor Yellow
00015: Read-Host "Si on vous a demandé de redémarrer PowerShell, faites-le maintenant. Appuyez sur Entrée pour continuer"
00016: 
00017: # 3. Installer les outils blockchain
00018: Write-Host "`n3. INSTALLATION DES OUTILS BLOCKCHAIN..." -ForegroundColor Yellow
00019: if (Test-Path ".\install-blockchain.ps1") {
00020:     powershell -ExecutionPolicy Bypass -File .\install-blockchain.ps1
00021: } else {
00022:     Write-Host "⚠️  Script install-blockchain.ps1 non trouvé, installation manuelle..." -ForegroundColor Yellow
00023: }
00024: 
00025: # 4. Initialiser Hardhat dans le dossier workspace/contracts
00026: Write-Host "`n4. INITIALISATION HARPHAT..." -ForegroundColor Yellow
00027: $contractsDir = ".\workspace\contracts"
00028: if (-not (Test-Path $contractsDir)) {
00029:     New-Item -ItemType Directory -Path $contractsDir -Force | Out-Null
00030: }
00031: 
00032: Set-Location $contractsDir
00033: 
00034: # Vérifier si Hardhat est installé
00035: try {
00036:     npx hardhat --version 2>&1 | Out-Null
00037:     Write-Host "✅ Hardhat est installé" -ForegroundColor Green
00038: } catch {
00039:     Write-Host "❌ Hardhat non installé, installation..." -ForegroundColor Red
00040:     npm init -y
00041:     npm install --save-dev hardhat
00042: }
00043: 
00044: # Initialiser un projet Hardhat
00045: if (-not (Test-Path "hardhat.config.js") -and -not (Test-Path "hardhat.config.ts")) {
00046:     Write-Host "Initialisation d'un nouveau projet Hardhat..." -ForegroundColor Gray
00047:     npx hardhat init --typescript
00048:     
00049:     # Ajouter des dépendances supplémentaires
00050:     npm install --save-dev @nomicfoundation/hardhat-toolbox @typechain/hardhat typechain @typechain/ethers-v6 @openzeppelin/contracts dotenv
00051:     npm install ethers
00052: } else {
00053:     Write-Host "✅ Projet Hardhat déjà initialisé" -ForegroundColor Green
00054: }
00055: 
00056: # Retour au dossier principal
00057: Set-Location ..\..
00058: 
00059: # 5. Créer la structure du projet
00060: Write-Host "`n5. CREATION DE LA STRUCTURE DU PROJET..." -ForegroundColor Yellow
00061: if (Test-Path ".\setup-structure.ps1") {
00062:     powershell -ExecutionPolicy Bypass -File .\setup-structure.ps1
00063: } else {
00064:     # Créer la structure de base
00065:     $folders = @(
00066:         "agents",
00067:         "agents\architect",
00068:         "agents\coder", 
00069:         "agents\communication",
00070:         "agents\documenter",
00071:         "agents\formal_verification",
00072:         "agents\frontend_web3",
00073:         "agents\fuzzing_simulation", 
00074:         "agents\quality_metrics",
00075:         "agents\smart_contract",
00076:         "agents\tester",
00077:         "agents\orchestrator",
00078:         "agents\shared",
00079:         "config",
00080:         "context",
00081:         "memory",
00082:         "memory\vector_store",
00083:         "memory\history", 
00084:         "memory\learnings",
00085:         "workspace",
00086:         "workspace\contracts",
00087:         "workspace\frontend",
00088:         "sprints",
00089:         "reports",
00090:         "logs",
00091:         "scripts",
00092:         "tests"
00093:     )
00094:     
00095:     foreach ($folder in $folders) {
00096:         New-Item -ItemType Directory -Path $folder -Force | Out-Null
00097:         Write-Host "  📁 $folder" -ForegroundColor Gray
00098:     }
00099: }
00100: 
00101: # 6. Créer les fichiers de base
00102: Write-Host "`n6. CREATION DES FICHIERS DE BASE..." -ForegroundColor Yellow
00103: 
00104: # package.json principal
00105: $packageJson = @'
00106: {
00107:   "name": "smart-contract-pipeline",
00108:   "version": "1.0.0",
00109:   "description": "Pipeline automatisé de développement Smart Contract avec agents IA",
00110:   "main": "index.js",
00111:   "scripts": {
00112:     "start": "python main.py",
00113:     "test": "python -m pytest",
00114:     "setup": "powershell -ExecutionPolicy Bypass -File .\\setup-project.ps1",
00115:     "deploy-agents": "powershell -ExecutionPolicy Bypass -File .\\deploy-all-agents.ps1",
00116:     "deploy-subagents": "powershell -ExecutionPolicy Bypass -File .\\deploy-subagents.ps1",
00117:     "test-all": "python test_all_agents.py",
00118:     "hardhat": "cd workspace\\contracts && npx hardhat",
00119:     "frontend": "cd workspace\\frontend && npm run dev"
00120:   },
00121:   "keywords": ["blockchain", "smart-contract", "ai", "automation", "web3"],
00122:   "author": "SmartContractPipeline",
00123:   "license": "MIT",
00124:   "dependencies": {},
00125:   "devDependencies": {}
00126: }
00127: '@
00128: 
00129: $packageJson | Out-File -FilePath "package.json" -Force -Encoding UTF8
00130: 
00131: # requirements.txt
00132: $requirements = @'
00133: # Core AI & ML
00134: langchain==0.1.0
00135: langgraph==0.0.5
00136: chromadb==0.4.18
00137: openai==1.6.1
00138: 
00139: # Web3 & Blockchain
00140: web3==6.11.1
00141: eth-account==0.11.0
00142: 
00143: # Web Framework & API
00144: fastapi==0.104.1
00145: uvicorn[standard]==0.24.0
00146: requests==2.31.0
00147: aiohttp==3.9.1
00148: 
00149: # Data Processing
00150: pandas==2.1.4
00151: numpy==1.26.2
00152: pyyaml==6.0.1
00153: python-dotenv==1.0.0
00154: 
00155: # Utilities
00156: pydantic==2.5.0
00157: pytest==7.4.3
00158: pytest-asyncio==0.21.1
00159: black==23.11.0
00160: flake8==6.1.0
00161: '@
00162: 
00163: $requirements | Out-File -FilePath "requirements.txt" -Force -Encoding UTF8
00164: 
00165: # 7. Créer l'environnement virtuel Python
00166: Write-Host "`n7. CREATION ENVIRONNEMENT VIRTUEL PYTHON..." -ForegroundColor Yellow
00167: if (-not (Test-Path ".venv")) {
00168:     python -m venv .venv
00169:     Write-Host "✅ Environnement virtuel créé" -ForegroundColor Green
00170: } else {
00171:     Write-Host "✅ Environnement virtuel déjà existant" -ForegroundColor Green
00172: }
00173: 
00174: # 8. Installer les dépendances Python
00175: Write-Host "`n8. INSTALLATION DEPENDANCES PYTHON..." -ForegroundColor Yellow
00176: & .\.venv\Scripts\Activate.ps1
00177: python -m pip install --upgrade pip
00178: pip install -r requirements.txt
00179: 
00180: # 9. Tester l'installation
00181: Write-Host "`n9. TEST DE L'INSTALLATION..." -ForegroundColor Yellow
00182: try {
00183:     python -c "import web3; print('✅ Web3 installé:', web3.__version__)"
00184:     python -c "import langchain; print('✅ LangChain installé')"
00185:     Write-Host "✅ Toutes les dépendances Python sont installées" -ForegroundColor Green
00186: } catch {
00187:     Write-Host "❌ Erreur lors du test des dépendances Python: $_" -ForegroundColor Red
00188: }
00189: 
00190: # 10. Message final
00191: Write-Host "`n" + "="*60 -ForegroundColor Cyan
00192: Write-Host "🎉 SETUP DU PROJET COMPLETE AVEC SUCCES !" -ForegroundColor Green
00193: Write-Host "="*60 -ForegroundColor Cyan
00194: Write-Host ""
00195: Write-Host "📁 STRUCTURE CREEE:" -ForegroundColor Yellow
00196: Get-ChildItem -Path . -Directory | ForEach-Object { Write-Host "  • $($_.Name)" -ForegroundColor White }
00197: Write-Host ""
00198: Write-Host "⚡ COMMANDES DISPONIBLES:" -ForegroundColor Yellow
00199: Write-Host "  npm run setup           - Réexécuter le setup" -ForegroundColor White
00200: Write-Host "  npm run deploy-agents   - Déployer tous les agents" -ForegroundColor White
00201: Write-Host "  npm run test-all        - Tester tous les agents" -ForegroundColor White
00202: Write-Host "  npm run hardhat         - Lancer Hardhat" -ForegroundColor White
00203: Write-Host ""
00204: Write-Host "📝 PROCHAINES ETAPES:" -ForegroundColor Yellow
00205: Write-Host "  1. Déployer les agents: npm run deploy-agents" -ForegroundColor White
00206: Write-Host "  2. Tester le système: npm run test-all" -ForegroundColor White
00207: Write-Host "  3. Personnaliser la configuration dans config/" -ForegroundColor White
00208: Write-Host ""
00209: Write-Host "✅ PRET A DEVELOPPER DES SMART CONTRATS AVEC IA !" -ForegroundColor Green

============================================================
FICHIER: install-blockchain.ps1
TAILLE: 7.26 KB
============================================================

00001: # install-blockchain.ps1
00002: Write-Host "=== INSTALLATION DES OUTILS BLOCKCHAIN ===" -ForegroundColor Cyan
00003: Write-Host "Date: $(Get-Date -Format 'yyyy-MM-dd HH:mm:ss')" -ForegroundColor Gray
00004: Write-Host ""
00005: 
00006: # Variables de versions stables
00007: $versions = @{
00008:     Foundry = "v0.2.0"
00009:     Hardhat = "2.19.5"
00010:     Node = "20.11.1"
00011: }
00012: 
00013: # 1. Installer Foundry (version spécifique)
00014: Write-Host "1. INSTALLATION FOUNDRY..." -ForegroundColor Yellow
00015: if (-not (Test-CommandExists "forge")) {
00016:     Write-Host "   Installation de Foundry $($versions.Foundry)..." -ForegroundColor Gray
00017:     try {
00018:         # Utiliser l'installateur officiel
00019:         irm https://getfoundry.sh -OutFile "$env:TEMP\foundryup.ps1"
00020:         & "$env:TEMP\foundryup.ps1"
00021:         
00022:         # Vérifier l'installation
00023:         Start-Sleep -Seconds 5
00024:         if (Test-CommandExists "forge") {
00025:             $forgeVersion = (forge --version 2>&1 | Select-String "forge").ToString().Trim()
00026:             Write-Host "   ✅ Foundry installé: $forgeVersion" -ForegroundColor Green
00027:         } else {
00028:             Write-Host "   ⚠️  Foundry installé mais non détecté dans PATH" -ForegroundColor Yellow
00029:         }
00030:     } catch {
00031:         Write-Host "   ❌ Erreur lors de l'installation de Foundry" -ForegroundColor Red
00032:         Write-Host "   Message: $_" -ForegroundColor Red
00033:     }
00034: } else {
00035:     $forgeVersion = (forge --version 2>&1 | Select-String "forge").ToString().Trim()
00036:     Write-Host "   ✅ Foundry déjà installé: $forgeVersion" -ForegroundColor Green
00037: }
00038: 
00039: # 2. Installer Hardhat
00040: Write-Host "`n2. INSTALLATION HARDHAT..." -ForegroundColor Yellow
00041: if (-not (Test-CommandExists "hardhat")) {
00042:     Write-Host "   Installation de Hardhat $($versions.Hardhat)..." -ForegroundColor Gray
00043:     try {
00044:         npm install -g hardhat@$($versions.Hardhat) --force
00045:         $hardhatVersion = (npx hardhat --version 2>&1).ToString().Trim()
00046:         Write-Host "   ✅ Hardhat installé: $hardhatVersion" -ForegroundColor Green
00047:     } catch {
00048:         Write-Host "   ❌ Erreur lors de l'installation de Hardhat" -ForegroundColor Red
00049:     }
00050: } else {
00051:     $hardhatVersion = (npx hardhat --version 2>&1).ToString().Trim()
00052:     Write-Host "   ✅ Hardhat déjà installé: $hardhatVersion" -ForegroundColor Green
00053: }
00054: 
00055: # 3. Installer les outils de sécurité
00056: Write-Host "`n3. INSTALLATION OUTILS SECURITE..." -ForegroundColor Yellow
00057: $securityTools = @(
00058:     @{Name="Slither"; Command="slither"; Install="pip install slither-analyzer==0.10.0"},
00059:     @{Name="Solhint"; Command="solhint"; Install="npm install -g solhint@3.6.2"},
00060:     @{Name="Mythril"; Command="myth"; Install="pip install mythril==0.23.28"}
00061: )
00062: 
00063: foreach ($tool in $securityTools) {
00064:     Write-Host "   $($tool.Name)..." -ForegroundColor Gray
00065:     if (-not (Test-CommandExists $tool.Command)) {
00066:         try {
00067:             Invoke-Expression $tool.Install
00068:             Write-Host "   ✅ $($tool.Name) installé" -ForegroundColor Green
00069:         } catch {
00070:             Write-Host "   ⚠️  Erreur lors de l'installation de $($tool.Name)" -ForegroundColor Yellow
00071:         }
00072:     } else {
00073:         Write-Host "   ✅ $($tool.Name) déjà installé" -ForegroundColor Green
00074:     }
00075: }
00076: 
00077: # 4. Installer les outils de développement frontend
00078: Write-Host "`n4. INSTALLATION OUTILS FRONTEND..." -ForegroundColor Yellow
00079: $frontendTools = @(
00080:     @{Name="Next.js CLI"; Command="create-next-app"; Install="npm install -g create-next-app@14.1.0"},
00081:     @{Name="TypeScript"; Command="tsc"; Install="npm install -g typescript@5.3.3"},
00082:     @{Name="Yarn"; Command="yarn"; Install="npm install -g yarn@1.22.21"}
00083: )
00084: 
00085: foreach ($tool in $frontendTools) {
00086:     Write-Host "   $($tool.Name)..." -ForegroundColor Gray
00087:     if (-not (Test-CommandExists $tool.Command)) {
00088:         try {
00089:             Invoke-Expression $tool.Install
00090:             Write-Host "   ✅ $($tool.Name) installé" -ForegroundColor Green
00091:         } catch {
00092:             Write-Host "   ⚠️  Erreur lors de l'installation de $($tool.Name)" -ForegroundColor Yellow
00093:         }
00094:     } else {
00095:         Write-Host "   ✅ $($tool.Name) déjà installé" -ForegroundColor Green
00096:     }
00097: }
00098: 
00099: # 5. Installer les librairies Web3
00100: Write-Host "`n5. INSTALLATION LIBRAIRIES WEB3..." -ForegroundColor Yellow
00101: $web3Libs = @(
00102:     @{Name="Wagmi CLI"; Command="wagmi"; Install="npm install -g wagmi@2.0.10"},
00103:     @{Name="Viem"; Install="npm install -g viem@1.19.11"}
00104: )
00105: 
00106: foreach ($lib in $web3Libs) {
00107:     Write-Host "   $($lib.Name)..." -ForegroundColor Gray
00108:     try {
00109:         Invoke-Expression $lib.Install
00110:         Write-Host "   ✅ $($lib.Name) installé" -ForegroundColor Green
00111:     } catch {
00112:         Write-Host "   ⚠️  Erreur lors de l'installation de $($lib.Name)" -ForegroundColor Yellow
00113:     }
00114: }
00115: 
00116: # 6. Configurer les RPC endpoints
00117: Write-Host "`n6. CONFIGURATION RPC ENDPOINTS..." -ForegroundColor Yellow
00118: $rpcConfigDir = "$env:USERPROFILE\.web3"
00119: if (-not (Test-Path $rpcConfigDir)) {
00120:     New-Item -ItemType Directory -Path $rpcConfigDir -Force | Out-Null
00121: }
00122: 
00123: $rpcConfig = @{
00124:     endpoints = @{
00125:         ethereum = @{
00126:             mainnet = "https://eth-mainnet.g.alchemy.com/v2/demo"
00127:             sepolia = "https://eth-sepolia.g.alchemy.com/v2/demo"
00128:         }
00129:         arbitrum = @{
00130:             mainnet = "https://arb-mainnet.g.alchemy.com/v2/demo"
00131:             sepolia = "https://arb-sepolia.g.alchemy.com/v2/demo"
00132:         }
00133:         optimism = @{
00134:             mainnet = "https://opt-mainnet.g.alchemy.com/v2/demo"
00135:             sepolia = "https://opt-sepolia.g.alchemy.com/v2/demo"
00136:         }
00137:     }
00138:     versions = @{
00139:         web3 = "1.19.11"
00140:         ethers = "6.8.0"
00141:     }
00142: }
00143: 
00144: $rpcConfig | ConvertTo-Json -Depth 10 | Out-File -FilePath "$rpcConfigDir\endpoints.json" -Force
00145: Write-Host "   ✅ Configuration RPC sauvegardée" -ForegroundColor Green
00146: 
00147: # 7. Installer Anvil
00148: Write-Host "`n7. INSTALLATION ANVIL..." -ForegroundColor Yellow
00149: if (-not (Test-CommandExists "anvil")) {
00150:     Write-Host "   Installation d'Anvil via Cargo..." -ForegroundColor Gray
00151:     try {
00152:         if (-not (Test-CommandExists "cargo")) {
00153:             Write-Host "   Installation de Rust..." -ForegroundColor Gray
00154:             winget install --id Rustlang.Rustup --accept-package-agreements --accept-source-agreements --silent
00155:         }
00156:         
00157:         cargo install --git https://github.com/foundry-rs/foundry anvil --profile local --locked
00158:         Write-Host "   ✅ Anvil installé" -ForegroundColor Green
00159:     } catch {
00160:         Write-Host "   ⚠️  Erreur lors de l'installation d'Anvil" -ForegroundColor Yellow
00161:         Write-Host "   Alternative: Anvil est inclus avec Foundry" -ForegroundColor Gray
00162:     }
00163: } else {
00164:     Write-Host "   ✅ Anvil déjà installé" -ForegroundColor Green
00165: }
00166: 
00167: # 8. Vérifier les installations
00168: Write-Host "`n8. VERIFICATION DES INSTALLATIONS..." -ForegroundColor Yellow
00169: $toolsToCheck = @(
00170:     @{Name="Foundry"; Command="forge --version 2>&1 | Select-String 'forge' | ForEach-Object { $_.ToString().Trim() }"},
00171:     @{Name="Hardhat"; Command="npx hardhat --version 2>&1"},
00172:     @{Name="Node.js"; Command="node --version"},
00173:     @{Name="Python"; Command="python --version 2>&1"},
00174:     @{Name="Git"; Command="git --version"}
00175: )
00176: 
00177: foreach ($tool in $toolsToCheck) {
00178:     try {
00179:         $version = Invoke-Expression $tool.Command
00180:         Write-Host "   ✅ $($tool.Name): $version" -ForegroundColor Green
00181:     } catch {
00182:         Write-Host "   ❌ $($tool.Name): NON INSTALLE" -ForegroundColor Red
00183:     }
00184: }
00185: 
00186: Write-Host "`n✅ OUTILS BLOCKCHAIN INSTALLES" -ForegroundColor Green

============================================================
FICHIER: setup-project.ps1
TAILLE: 7.12 KB
============================================================

00001: # setup-project.ps1 - Version corrigée
00002: Write-Host "=== SETUP COMPLET DU PROJET SMART CONTRACT PIPELINE ===" -ForegroundColor Cyan
00003: Write-Host ""
00004: 
00005: # 1. Vérifier et installer les prérequis
00006: Write-Host "1. INSTALLATION DES PREREQUIS..." -ForegroundColor Yellow
00007: if (-not (Test-Path ".\install-prerequis.ps1")) {
00008:     Write-Host "❌ Script install-prerequis.ps1 non trouvé" -ForegroundColor Red
00009:     exit 1
00010: }
00011: powershell -ExecutionPolicy Bypass -File .\install-prerequis.ps1
00012: 
00013: # 2. Attendre que l'utilisateur redémarre PowerShell si nécessaire
00014: Write-Host "`n2. VERIFICATION DE L'INSTALLATION..." -ForegroundColor Yellow
00015: Read-Host "Si on vous a demandé de redémarrer PowerShell, faites-le maintenant. Appuyez sur Entrée pour continuer"
00016: 
00017: # 3. Installer les outils blockchain
00018: Write-Host "`n3. INSTALLATION DES OUTILS BLOCKCHAIN..." -ForegroundColor Yellow
00019: if (Test-Path ".\install-blockchain.ps1") {
00020:     powershell -ExecutionPolicy Bypass -File .\install-blockchain.ps1
00021: } else {
00022:     Write-Host "⚠️  Script install-blockchain.ps1 non trouvé, installation manuelle..." -ForegroundColor Yellow
00023: }
00024: 
00025: # 4. Initialiser Hardhat dans le dossier workspace/contracts
00026: Write-Host "`n4. INITIALISATION HARPHAT..." -ForegroundColor Yellow
00027: $contractsDir = ".\workspace\contracts"
00028: if (-not (Test-Path $contractsDir)) {
00029:     New-Item -ItemType Directory -Path $contractsDir -Force | Out-Null
00030: }
00031: 
00032: Set-Location $contractsDir
00033: 
00034: # Vérifier si Hardhat est installé
00035: try {
00036:     npx hardhat --version 2>&1 | Out-Null
00037:     Write-Host "✅ Hardhat est installé" -ForegroundColor Green
00038: } catch {
00039:     Write-Host "❌ Hardhat non installé, installation..." -ForegroundColor Red
00040:     npm init -y
00041:     npm install --save-dev hardhat
00042: }
00043: 
00044: # Initialiser un projet Hardhat
00045: if (-not (Test-Path "hardhat.config.js") -and -not (Test-Path "hardhat.config.ts")) {
00046:     Write-Host "Initialisation d'un nouveau projet Hardhat..." -ForegroundColor Gray
00047:     npx hardhat init --typescript
00048:     
00049:     # Ajouter des dépendances supplémentaires
00050:     npm install --save-dev @nomicfoundation/hardhat-toolbox @typechain/hardhat typechain @typechain/ethers-v6 @openzeppelin/contracts dotenv
00051:     npm install ethers
00052: } else {
00053:     Write-Host "✅ Projet Hardhat déjà initialisé" -ForegroundColor Green
00054: }
00055: 
00056: # Retour au dossier principal
00057: Set-Location ..\..
00058: 
00059: # 5. Créer la structure du projet
00060: Write-Host "`n5. CREATION DE LA STRUCTURE DU PROJET..." -ForegroundColor Yellow
00061: if (Test-Path ".\setup-structure.ps1") {
00062:     powershell -ExecutionPolicy Bypass -File .\setup-structure.ps1
00063: } else {
00064:     # Créer la structure de base
00065:     $folders = @(
00066:         "agents",
00067:         "agents\architect",
00068:         "agents\coder", 
00069:         "agents\communication",
00070:         "agents\documenter",
00071:         "agents\formal_verification",
00072:         "agents\frontend_web3",
00073:         "agents\fuzzing_simulation", 
00074:         "agents\quality_metrics",
00075:         "agents\smart_contract",
00076:         "agents\tester",
00077:         "agents\orchestrator",
00078:         "agents\shared",
00079:         "config",
00080:         "context",
00081:         "memory",
00082:         "memory\vector_store",
00083:         "memory\history", 
00084:         "memory\learnings",
00085:         "workspace",
00086:         "workspace\contracts",
00087:         "workspace\frontend",
00088:         "sprints",
00089:         "reports",
00090:         "logs",
00091:         "scripts",
00092:         "tests"
00093:     )
00094:     
00095:     foreach ($folder in $folders) {
00096:         New-Item -ItemType Directory -Path $folder -Force | Out-Null
00097:         Write-Host "  📁 $folder" -ForegroundColor Gray
00098:     }
00099: }
00100: 
00101: # 6. Créer les fichiers de base
00102: Write-Host "`n6. CREATION DES FICHIERS DE BASE..." -ForegroundColor Yellow
00103: 
00104: # package.json principal
00105: $packageJson = @'
00106: {
00107:   "name": "smart-contract-pipeline",
00108:   "version": "1.0.0",
00109:   "description": "Pipeline automatisé de développement Smart Contract avec agents IA",
00110:   "main": "index.js",
00111:   "scripts": {
00112:     "start": "python main.py",
00113:     "test": "python -m pytest",
00114:     "setup": "powershell -ExecutionPolicy Bypass -File .\\setup-project.ps1",
00115:     "deploy-agents": "powershell -ExecutionPolicy Bypass -File .\\deploy-all-agents.ps1",
00116:     "deploy-subagents": "powershell -ExecutionPolicy Bypass -File .\\deploy-subagents.ps1",
00117:     "test-all": "python test_all_agents.py",
00118:     "hardhat": "cd workspace\\contracts && npx hardhat",
00119:     "frontend": "cd workspace\\frontend && npm run dev"
00120:   },
00121:   "keywords": ["blockchain", "smart-contract", "ai", "automation", "web3"],
00122:   "author": "SmartContractPipeline",
00123:   "license": "MIT",
00124:   "dependencies": {},
00125:   "devDependencies": {}
00126: }
00127: '@
00128: 
00129: $packageJson | Out-File -FilePath "package.json" -Force -Encoding UTF8
00130: 
00131: # requirements.txt
00132: $requirements = @'
00133: # Core AI & ML
00134: langchain==0.1.0
00135: langgraph==0.0.5
00136: chromadb==0.4.18
00137: openai==1.6.1
00138: 
00139: # Web3 & Blockchain
00140: web3==6.11.1
00141: eth-account==0.11.0
00142: 
00143: # Web Framework & API
00144: fastapi==0.104.1
00145: uvicorn[standard]==0.24.0
00146: requests==2.31.0
00147: aiohttp==3.9.1
00148: 
00149: # Data Processing
00150: pandas==2.1.4
00151: numpy==1.26.2
00152: pyyaml==6.0.1
00153: python-dotenv==1.0.0
00154: 
00155: # Utilities
00156: pydantic==2.5.0
00157: pytest==7.4.3
00158: pytest-asyncio==0.21.1
00159: black==23.11.0
00160: flake8==6.1.0
00161: '@
00162: 
00163: $requirements | Out-File -FilePath "requirements.txt" -Force -Encoding UTF8
00164: 
00165: # 7. Créer l'environnement virtuel Python
00166: Write-Host "`n7. CREATION ENVIRONNEMENT VIRTUEL PYTHON..." -ForegroundColor Yellow
00167: if (-not (Test-Path ".venv")) {
00168:     python -m venv .venv
00169:     Write-Host "✅ Environnement virtuel créé" -ForegroundColor Green
00170: } else {
00171:     Write-Host "✅ Environnement virtuel déjà existant" -ForegroundColor Green
00172: }
00173: 
00174: # 8. Installer les dépendances Python
00175: Write-Host "`n8. INSTALLATION DEPENDANCES PYTHON..." -ForegroundColor Yellow
00176: & .\.venv\Scripts\Activate.ps1
00177: python -m pip install --upgrade pip
00178: pip install -r requirements.txt
00179: 
00180: # 9. Tester l'installation
00181: Write-Host "`n9. TEST DE L'INSTALLATION..." -ForegroundColor Yellow
00182: try {
00183:     python -c "import web3; print('✅ Web3 installé:', web3.__version__)"
00184:     python -c "import langchain; print('✅ LangChain installé')"
00185:     Write-Host "✅ Toutes les dépendances Python sont installées" -ForegroundColor Green
00186: } catch {
00187:     Write-Host "❌ Erreur lors du test des dépendances Python: $_" -ForegroundColor Red
00188: }
00189: 
00190: # 10. Message final
00191: Write-Host "`n" + "="*60 -ForegroundColor Cyan
00192: Write-Host "🎉 SETUP DU PROJET COMPLETE AVEC SUCCES !" -ForegroundColor Green
00193: Write-Host "="*60 -ForegroundColor Cyan
00194: Write-Host ""
00195: Write-Host "📁 STRUCTURE CREEE:" -ForegroundColor Yellow
00196: Get-ChildItem -Path . -Directory | ForEach-Object { Write-Host "  • $($_.Name)" -ForegroundColor White }
00197: Write-Host ""
00198: Write-Host "⚡ COMMANDES DISPONIBLES:" -ForegroundColor Yellow
00199: Write-Host "  npm run setup           - Réexécuter le setup" -ForegroundColor White
00200: Write-Host "  npm run deploy-agents   - Déployer tous les agents" -ForegroundColor White
00201: Write-Host "  npm run test-all        - Tester tous les agents" -ForegroundColor White
00202: Write-Host "  npm run hardhat         - Lancer Hardhat" -ForegroundColor White
00203: Write-Host ""
00204: Write-Host "📝 PROCHAINES ETAPES:" -ForegroundColor Yellow
00205: Write-Host "  1. Déployer les agents: npm run deploy-agents" -ForegroundColor White
00206: Write-Host "  2. Tester le système: npm run test-all" -ForegroundColor White
00207: Write-Host "  3. Personnaliser la configuration dans config/" -ForegroundColor White
00208: Write-Host ""
00209: Write-Host "✅ PRET A DEVELOPPER DES SMART CONTRATS AVEC IA !" -ForegroundColor Green

============================================================
FICHIER: SmartContractPipeline\install-prerequis.ps1
TAILLE: 6.6 KB
============================================================

00001: # install-prerequis.ps1
00002: # Exécuter en tant qu'Administrateur
00003: param([switch]$SkipChecks)
00004: 
00005: Write-Host "=== INSTALLATION DES PREREQUIS COMPLETE ===" -ForegroundColor Cyan
00006: Write-Host "Date: $(Get-Date -Format 'yyyy-MM-dd HH:mm:ss')" -ForegroundColor Gray
00007: Write-Host ""
00008: 
00009: # Fonction pour vérifier les installations
00010: function Test-CommandExists {
00011:     param([string]$Command)
00012:     try {
00013:         Get-Command $Command -ErrorAction Stop | Out-Null
00014:         return $true
00015:     } catch {
00016:         return $false
00017:     }
00018: }
00019: 
00020: # 1. Vérifier et installer Winget
00021: Write-Host "1. VÉRIFICATION WINGET..." -ForegroundColor Yellow
00022: if (-not (Test-CommandExists "winget") -and -not $SkipChecks) {
00023:     Write-Host "   Installation de Winget..." -ForegroundColor Gray
00024:     # Télécharger et installer Winget depuis GitHub
00025:     $wingetUrl = "https://github.com/microsoft/winget-cli/releases/latest/download/Microsoft.DesktopAppInstaller_8wekyb3d8bbwe.msixbundle"
00026:     $wingetPath = "$env:TEMP\winget.msixbundle"
00027:     
00028:     try {
00029:         Invoke-WebRequest -Uri $wingetUrl -OutFile $wingetPath -ErrorAction Stop
00030:         Add-AppxPackage -Path $wingetPath -ErrorAction Stop
00031:         Write-Host "   ✅ Winget installé" -ForegroundColor Green
00032:     } catch {
00033:         Write-Host "   ⚠️  Impossible d'installer Winget automatiquement" -ForegroundColor Yellow
00034:         Write-Host "   Veuillez installer Winget depuis le Microsoft Store" -ForegroundColor White
00035:         Write-Host "   Lien: ms-windows-store://pdp/?productid=9NBLGGH4NNS1" -ForegroundColor Cyan
00036:         Start-Process "ms-windows-store://pdp/?productid=9NBLGGH4NNS1"
00037:         Read-Host "   Appuyez sur Entrée après l'installation"
00038:     }
00039: } else {
00040:     Write-Host "   ✅ Winget déjà installé" -ForegroundColor Green
00041: }
00042: 
00043: # 2. Installer Node.js LTS (version spécifique stable)
00044: Write-Host "`n2. INSTALLATION NODE.JS..." -ForegroundColor Yellow
00045: if (-not (Test-CommandExists "node") -or $SkipChecks) {
00046:     Write-Host "   Installation de Node.js 20.11.1 LTS..." -ForegroundColor Gray
00047:     winget install --id OpenJS.NodeJS.LTS --exact --version 20.11.1 --accept-package-agreements --accept-source-agreements --silent
00048:     Write-Host "   ✅ Node.js installé" -ForegroundColor Green
00049: } else {
00050:     $nodeVersion = (node --version).Trim()
00051:     Write-Host "   ✅ Node.js déjà installé: $nodeVersion" -ForegroundColor Green
00052: }
00053: 
00054: # 3. Installer Python 3.12
00055: Write-Host "`n3. INSTALLATION PYTHON..." -ForegroundColor Yellow
00056: if (-not (Test-CommandExists "python") -or $SkipChecks) {
00057:     Write-Host "   Installation de Python 3.12.1..." -ForegroundColor Gray
00058:     winget install --id Python.Python.3.12 --exact --version 3.12.1 --accept-package-agreements --accept-source-agreements --silent
00059:     Write-Host "   ✅ Python installé" -ForegroundColor Green
00060: } else {
00061:     $pythonVersion = (python --version 2>&1).ToString()
00062:     Write-Host "   ✅ Python déjà installé: $pythonVersion" -ForegroundColor Green
00063: }
00064: 
00065: # 4. Installer Git
00066: Write-Host "`n4. INSTALLATION GIT..." -ForegroundColor Yellow
00067: if (-not (Test-CommandExists "git") -or $SkipChecks) {
00068:     Write-Host "   Installation de Git..." -ForegroundColor Gray
00069:     winget install --id Git.Git --accept-package-agreements --accept-source-agreements --silent
00070:     Write-Host "   ✅ Git installé" -ForegroundColor Green
00071: } else {
00072:     $gitVersion = (git --version).Trim()
00073:     Write-Host "   ✅ Git déjà installé: $gitVersion" -ForegroundColor Green
00074: }
00075: 
00076: # 5. Installer Ollama
00077: Write-Host "`n5. INSTALLATION OLLAMA..." -ForegroundColor Yellow
00078: if (-not (Test-Path "$env:LOCALAPPDATA\Programs\Ollama\ollama.exe") -or $SkipChecks) {
00079:     Write-Host "   Téléchargement d'Ollama..." -ForegroundColor Gray
00080:     $ollamaUrl = "https://ollama.com/download/windows"
00081:     $installerPath = "$env:TEMP\ollama-setup.exe"
00082:     
00083:     try {
00084:         Invoke-WebRequest -Uri $ollamaUrl -OutFile $installerPath -ErrorAction Stop
00085:         Write-Host "   Installation en cours..." -ForegroundColor Gray
00086:         Start-Process -FilePath $installerPath -ArgumentList "/S" -Wait
00087:         Start-Sleep -Seconds 5
00088:         Write-Host "   ✅ Ollama installé" -ForegroundColor Green
00089:     } catch {
00090:         Write-Host "   ❌ Erreur lors de l'installation d'Ollama" -ForegroundColor Red
00091:         Write-Host "   Message: $_" -ForegroundColor Red
00092:     }
00093: } else {
00094:     Write-Host "   ✅ Ollama déjà installé" -ForegroundColor Green
00095: }
00096: 
00097: # 6. Installer Docker Desktop
00098: Write-Host "`n6. INSTALLATION DOCKER DESKTOP..." -ForegroundColor Yellow
00099: if (-not (Test-CommandExists "docker") -or $SkipChecks) {
00100:     Write-Host "   Installation de Docker Desktop..." -ForegroundColor Gray
00101:     winget install --id Docker.DockerDesktop --accept-package-agreements --accept-source-agreements --silent
00102:     Write-Host "   ⚠️  Redémarrage requis pour Docker" -ForegroundColor Yellow
00103:     Write-Host "   ✅ Docker Desktop installé" -ForegroundColor Green
00104: } else {
00105:     $dockerVersion = (docker --version).Trim()
00106:     Write-Host "   ✅ Docker déjà installé: $dockerVersion" -ForegroundColor Green
00107: }
00108: 
00109: # 7. Installer VS Code
00110: Write-Host "`n7. INSTALLATION VS CODE..." -ForegroundColor Yellow
00111: if (-not (Test-Path "$env:LOCALAPPDATA\Programs\Microsoft VS Code\Code.exe") -or $SkipChecks) {
00112:     Write-Host "   Installation de VS Code..." -ForegroundColor Gray
00113:     winget install --id Microsoft.VisualStudioCode --accept-package-agreements --accept-source-agreements --silent
00114:     Write-Host "   ✅ VS Code installé" -ForegroundColor Green
00115: } else {
00116:     Write-Host "   ✅ VS Code déjà installé" -ForegroundColor Green
00117: }
00118: 
00119: # 8. Configurer les variables d'environnement
00120: Write-Host "`n8. CONFIGURATION ENVIRONNEMENT..." -ForegroundColor Yellow
00121: $pathsToAdd = @(
00122:     "$env:USERPROFILE\.cargo\bin",
00123:     "$env:LOCALAPPDATA\Programs\Python\Python312\Scripts",
00124:     "$env:LOCALAPPDATA\Programs\Python\Python312",
00125:     "$env:USERPROFILE\AppData\Roaming\npm",
00126:     "$env:LOCALAPPDATA\Programs\Ollama"
00127: )
00128: 
00129: $currentPath = [Environment]::GetEnvironmentVariable("Path", "User")
00130: $updated = $false
00131: 
00132: foreach ($path in $pathsToAdd) {
00133:     if (Test-Path $path -ErrorAction SilentlyContinue) {
00134:         if ($currentPath -notlike "*$path*") {
00135:             $currentPath += ";$path"
00136:             $updated = $true
00137:             Write-Host "   ✅ Chemin ajouté: $path" -ForegroundColor Green
00138:         }
00139:     }
00140: }
00141: 
00142: if ($updated) {
00143:     [Environment]::SetEnvironmentVariable("Path", $currentPath, "User")
00144:     Write-Host "   Variables d'environnement mises à jour" -ForegroundColor Green
00145: }
00146: 
00147: Write-Host "`n✅ PREREQUIS INSTALLES AVEC SUCCES" -ForegroundColor Green
00148: Write-Host "Redémarrez PowerShell pour que les changements prennent effet." -ForegroundColor Yellow

============================================================
FICHIER: SmartContractPipeline\verify-deployment.ps1
TAILLE: 6.27 KB
============================================================

00001: # verify-deployment.ps1
00002: Write-Host "=== VERIFICATION DU DEPLOIEMENT COMPLET ===" -ForegroundColor Cyan
00003: Write-Host ""
00004: 
00005: $projectPath = "$env:USERPROFILE\Projects\SmartContractPipeline"
00006: 
00007: if (-not (Test-Path $projectPath)) {
00008:     Write-Host "❌ Projet non trouvé à: $projectPath" -ForegroundColor Red
00009:     exit 1
00010: }
00011: 
00012: Set-Location $projectPath
00013: 
00014: # 1. Vérifier la structure des agents
00015: Write-Host "1. VERIFICATION STRUCTURE AGENTS..." -ForegroundColor Yellow
00016: $expectedAgents = @(
00017:     "architect",
00018:     "coder", 
00019:     "communication",
00020:     "documenter",
00021:     "formal_verification",
00022:     "frontend_web3",
00023:     "fuzzing_simulation",
00024:     "quality_metrics",
00025:     "smart_contract",
00026:     "tester"
00027: )
00028: 
00029: $missingAgents = @()
00030: foreach ($agent in $expectedAgents) {
00031:     $agentPath = "$projectPath\agents\$agent"
00032:     if (Test-Path $agentPath) {
00033:         Write-Host "   ✅ $agent" -ForegroundColor Green
00034:     } else {
00035:         Write-Host "   ❌ $agent" -ForegroundColor Red
00036:         $missingAgents += $agent
00037:     }
00038: }
00039: 
00040: # 2. Vérifier les fichiers de configuration
00041: Write-Host "`n2. VERIFICATION CONFIGURATIONS..." -ForegroundColor Yellow
00042: foreach ($agent in $expectedAgents) {
00043:     $configFile = "$projectPath\agents\$agent\config.yaml"
00044:     if (Test-Path $configFile) {
00045:         Write-Host "   ✅ $agent/config.yaml" -ForegroundColor Green
00046:     } else {
00047:         Write-Host "   ❌ $agent/config.yaml" -ForegroundColor Red
00048:     }
00049: }
00050: 
00051: # 3. Vérifier les versions
00052: Write-Host "`n3. VERIFICATION VERSIONS..." -ForegroundColor Yellow
00053: $versionsFile = "$projectPath\config\versions.json"
00054: if (Test-Path $versionsFile) {
00055:     $versions = Get-Content $versionsFile | ConvertFrom-Json
00056:     Write-Host "   ✅ Fichier de versions trouvé" -ForegroundColor Green
00057:     
00058:     Write-Host "   📊 Versions système:" -ForegroundColor Gray
00059:     if ($versions.system) {
00060:         Write-Host "     OS: $($versions.system.os)" -ForegroundColor White
00061:         Write-Host "     PowerShell: $($versions.system.powershell)" -ForegroundColor White
00062:     }
00063:     
00064:     Write-Host "   📊 Versions outils:" -ForegroundColor Gray
00065:     if ($versions.tools) {
00066:         foreach ($tool in $versions.tools.PSObject.Properties) {
00067:             Write-Host "     $($tool.Name): $($tool.Value)" -ForegroundColor White
00068:         }
00069:     }
00070: } else {
00071:     Write-Host "   ❌ Fichier de versions non trouvé" -ForegroundColor Red
00072: }
00073: 
00074: # 4. Vérifier les dépendances Python
00075: Write-Host "`n4. VERIFICATION DEPENDANCES PYTHON..." -ForegroundColor Yellow
00076: try {
00077:     & "$projectPath\.venv\Scripts\Activate.ps1"
00078:     
00079:     # Vérifier les packages critiques
00080:     $criticalPackages = @("langchain", "chromadb", "web3", "fastapi", "pydantic")
00081:     foreach ($pkg in $criticalPackages) {
00082:         try {
00083:             $version = python -c "import $pkg; print(getattr($pkg, '__version__', 'N/A'))" 2>$null
00084:             if ($version -and $version -ne "N/A") {
00085:                 Write-Host "   ✅ $pkg: $version" -ForegroundColor Green
00086:             } else {
00087:                 Write-Host "   ⚠️  $pkg: Version non détectée" -ForegroundColor Yellow
00088:             }
00089:         } catch {
00090:             Write-Host "   ❌ $pkg: Non installé" -ForegroundColor Red
00091:         }
00092:     }
00093: } catch {
00094:     Write-Host "   ⚠️  Impossible d'activer l'environnement virtuel" -ForegroundColor Yellow
00095: }
00096: 
00097: # 5. Vérifier Ollama
00098: Write-Host "`n5. VERIFICATION OLLAMA..." -ForegroundColor Yellow
00099: try {
00100:     $ollamaStatus = Invoke-RestMethod -Uri "http://localhost:11434/api/tags" -TimeoutSec 3
00101:     $modelCount = $ollamaStatus.models.Count
00102:     Write-Host "   ✅ Ollama en ligne: $modelCount modèles chargés" -ForegroundColor Green
00103:     
00104:     # Vérifier les modèles requis
00105:     $requiredModels = @("deepseek-coder:6.7b", "llama3.2:3b", "mistral:7b")
00106:     foreach ($model in $requiredModels) {
00107:         if ($ollamaStatus.models | Where-Object { $_.name -eq $model }) {
00108:             Write-Host "     ✅ $model" -ForegroundColor Green
00109:         } else {
00110:             Write-Host "     ⚠️  $model non chargé" -ForegroundColor Yellow
00111:         }
00112:     }
00113: } catch {
00114:     Write-Host "   ❌ Ollama hors ligne" -ForegroundColor Red
00115:     Write-Host "   Lancez 'ollama serve' dans un terminal" -ForegroundColor White
00116: }
00117: 
00118: # 6. Générer le rapport final
00119: Write-Host "`n6. RAPPORT FINAL..." -ForegroundColor Yellow
00120: $report = @{
00121:     timestamp = Get-Date -Format "yyyy-MM-dd HH:mm:ss"
00122:     project_path = $projectPath
00123:     verification = @{
00124:         agents_total = $expectedAgents.Count
00125:         agents_found = $expectedAgents.Count - $missingAgents.Count
00126:         agents_missing = $missingAgents
00127:         structure_ok = ($missingAgents.Count -eq 0)
00128:         versions_ok = (Test-Path $versionsFile)
00129:         python_deps_ok = $true  # À affiner selon les vérifications
00130:         ollama_ok = $false
00131:     }
00132:     next_steps = @(
00133:         "1. Vérifier que tous les agents sont présents",
00134:         "2. Configurer Ollama avec les modèles requis",
00135:         "3. Tester le pipeline avec: python test_all_agents.py",
00136:         "4. Consulter les logs dans: logs\",
00137:         "5. Personnaliser les configurations dans agents\"
00138:     )
00139: }
00140: 
00141: $report | ConvertTo-Json -Depth 10 | Out-File -FilePath "$projectPath\reports\verification_report.json" -Force
00142: 
00143: Write-Host "`n" + "="*60 -ForegroundColor Cyan
00144: Write-Host "📊 RAPPORT DE VERIFICATION" -ForegroundColor Yellow
00145: Write-Host "="*60 -ForegroundColor Cyan
00146: Write-Host ""
00147: Write-Host "Agents trouvés: $($report.verification.agents_found)/$($report.verification.agents_total)" -ForegroundColor White
00148: Write-Host "Structure: $(if($report.verification.structure_ok) {'✅'} else {'❌'})" -ForegroundColor $(if($report.verification.structure_ok) {'Green'} else {'Red'})
00149: Write-Host "Versions: $(if($report.verification.versions_ok) {'✅'} else {'❌'})" -ForegroundColor $(if($report.verification.versions_ok) {'Green'} else {'Red'})
00150: Write-Host "Ollama: $(if($report.verification.ollama_ok) {'✅'} else {'❌'})" -ForegroundColor $(if($report.verification.ollama_ok) {'Green'} else {'Red'})
00151: Write-Host ""
00152: Write-Host "📁 Rapport détaillé: reports\verification_report.json" -ForegroundColor Cyan
00153: Write-Host ""
00154: Write-Host "🎯 PROCHAINES ETAPES:" -ForegroundColor Yellow
00155: foreach ($step in $report.next_steps) {
00156:     Write-Host "  $step" -ForegroundColor White
00157: }
00158: Write-Host ""
00159: Write-Host "✅ VERIFICATION TERMINEE" -ForegroundColor Green

============================================================
FICHIER: verify-deployment.ps1
TAILLE: 6.12 KB
============================================================

00001: # verify-deployment.ps1
00002: Write-Host "=== VERIFICATION DU DEPLOIEMENT COMPLET ===" -ForegroundColor Cyan
00003: Write-Host ""
00004: 
00005: $projectPath = "$env:USERPROFILE\Projects\SmartContractPipeline"
00006: 
00007: if (-not (Test-Path $projectPath)) {
00008:     Write-Host "❌ Projet non trouvé à: $projectPath" -ForegroundColor Red
00009:     exit 1
00010: }
00011: 
00012: Set-Location $projectPath
00013: 
00014: # 1. Vérifier la structure des agents
00015: Write-Host "1. VERIFICATION STRUCTURE AGENTS..." -ForegroundColor Yellow
00016: $expectedAgents = @(
00017:     "architect",
00018:     "coder", 
00019:     "communication",
00020:     "documenter",
00021:     "formal_verification",
00022:     "frontend_web3",
00023:     "fuzzing_simulation",
00024:     "quality_metrics",
00025:     "smart_contract",
00026:     "tester"
00027: )
00028: 
00029: $missingAgents = @()
00030: foreach ($agent in $expectedAgents) {
00031:     $agentPath = "$projectPath\agents\$agent"
00032:     if (Test-Path $agentPath) {
00033:         Write-Host "   ✅ $agent" -ForegroundColor Green
00034:     } else {
00035:         Write-Host "   ❌ $agent" -ForegroundColor Red
00036:         $missingAgents += $agent
00037:     }
00038: }
00039: 
00040: # 2. Vérifier les fichiers de configuration
00041: Write-Host "`n2. VERIFICATION CONFIGURATIONS..." -ForegroundColor Yellow
00042: foreach ($agent in $expectedAgents) {
00043:     $configFile = "$projectPath\agents\$agent\config.yaml"
00044:     if (Test-Path $configFile) {
00045:         Write-Host "   ✅ $agent/config.yaml" -ForegroundColor Green
00046:     } else {
00047:         Write-Host "   ❌ $agent/config.yaml" -ForegroundColor Red
00048:     }
00049: }
00050: 
00051: # 3. Vérifier les versions
00052: Write-Host "`n3. VERIFICATION VERSIONS..." -ForegroundColor Yellow
00053: $versionsFile = "$projectPath\config\versions.json"
00054: if (Test-Path $versionsFile) {
00055:     $versions = Get-Content $versionsFile | ConvertFrom-Json
00056:     Write-Host "   ✅ Fichier de versions trouvé" -ForegroundColor Green
00057:     
00058:     Write-Host "   📊 Versions système:" -ForegroundColor Gray
00059:     if ($versions.system) {
00060:         Write-Host "     OS: $($versions.system.os)" -ForegroundColor White
00061:         Write-Host "     PowerShell: $($versions.system.powershell)" -ForegroundColor White
00062:     }
00063:     
00064:     Write-Host "   📊 Versions outils:" -ForegroundColor Gray
00065:     if ($versions.tools) {
00066:         foreach ($tool in $versions.tools.PSObject.Properties) {
00067:             Write-Host "     $($tool.Name): $($tool.Value)" -ForegroundColor White
00068:         }
00069:     }
00070: } else {
00071:     Write-Host "   ❌ Fichier de versions non trouvé" -ForegroundColor Red
00072: }
00073: 
00074: # 4. Vérifier les dépendances Python
00075: Write-Host "`n4. VERIFICATION DEPENDANCES PYTHON..." -ForegroundColor Yellow
00076: try {
00077:     & "$projectPath\.venv\Scripts\Activate.ps1"
00078:     
00079:     # Vérifier les packages critiques
00080:     $criticalPackages = @("langchain", "chromadb", "web3", "fastapi", "pydantic")
00081:     foreach ($pkg in $criticalPackages) {
00082:         try {
00083:             $version = python -c "import $pkg; print(getattr($pkg, '__version__', 'N/A'))" 2>$null
00084:             if ($version -and $version -ne "N/A") {
00085:                 Write-Host "   ✅ $pkg: $version" -ForegroundColor Green
00086:             } else {
00087:                 Write-Host "   ⚠️  $pkg: Version non détectée" -ForegroundColor Yellow
00088:             }
00089:         } catch {
00090:             Write-Host "   ❌ $pkg: Non installé" -ForegroundColor Red
00091:         }
00092:     }
00093: } catch {
00094:     Write-Host "   ⚠️  Impossible d'activer l'environnement virtuel" -ForegroundColor Yellow
00095: }
00096: 
00097: # 5. Vérifier Ollama
00098: Write-Host "`n5. VERIFICATION OLLAMA..." -ForegroundColor Yellow
00099: try {
00100:     $ollamaStatus = Invoke-RestMethod -Uri "http://localhost:11434/api/tags" -TimeoutSec 3
00101:     $modelCount = $ollamaStatus.models.Count
00102:     Write-Host "   ✅ Ollama en ligne: $modelCount modèles chargés" -ForegroundColor Green
00103:     
00104:     # Vérifier les modèles requis
00105:     $requiredModels = @("deepseek-coder:6.7b", "llama3.2:3b", "mistral:7b")
00106:     foreach ($model in $requiredModels) {
00107:         if ($ollamaStatus.models | Where-Object { $_.name -eq $model }) {
00108:             Write-Host "     ✅ $model" -ForegroundColor Green
00109:         } else {
00110:             Write-Host "     ⚠️  $model non chargé" -ForegroundColor Yellow
00111:         }
00112:     }
00113: } catch {
00114:     Write-Host "   ❌ Ollama hors ligne" -ForegroundColor Red
00115:     Write-Host "   Lancez 'ollama serve' dans un terminal" -ForegroundColor White
00116: }
00117: 
00118: # 6. Générer le rapport final
00119: Write-Host "`n6. RAPPORT FINAL..." -ForegroundColor Yellow
00120: $report = @{
00121:     timestamp = Get-Date -Format "yyyy-MM-dd HH:mm:ss"
00122:     project_path = $projectPath
00123:     verification = @{
00124:         agents_total = $expectedAgents.Count
00125:         agents_found = $expectedAgents.Count - $missingAgents.Count
00126:         agents_missing = $missingAgents
00127:         structure_ok = ($missingAgents.Count -eq 0)
00128:         versions_ok = (Test-Path $versionsFile)
00129:         python_deps_ok = $true  # À affiner selon les vérifications
00130:         ollama_ok = $false
00131:     }
00132:     next_steps = @(
00133:         "1. Vérifier que tous les agents sont présents",
00134:         "2. Configurer Ollama avec les modèles requis",
00135:         "3. Tester le pipeline avec: python test_all_agents.py",
00136:         "4. Consulter les logs dans: logs\",
00137:         "5. Personnaliser les configurations dans agents\"
00138:     )
00139: }
00140: 
00141: $report | ConvertTo-Json -Depth 10 | Out-File -FilePath "$projectPath\reports\verification_report.json" -Force
00142: 
00143: Write-Host "`n" + "="*60 -ForegroundColor Cyan
00144: Write-Host "📊 RAPPORT DE VERIFICATION" -ForegroundColor Yellow
00145: Write-Host "="*60 -ForegroundColor Cyan
00146: Write-Host ""
00147: Write-Host "Agents trouvés: $($report.verification.agents_found)/$($report.verification.agents_total)" -ForegroundColor White
00148: Write-Host "Structure: $(if($report.verification.structure_ok) {'✅'} else {'❌'})" -ForegroundColor $(if($report.verification.structure_ok) {'Green'} else {'Red'})
00149: Write-Host "Versions: $(if($report.verification.versions_ok) {'✅'} else {'❌'})" -ForegroundColor $(if($report.verification.versions_ok) {'Green'} else {'Red'})
00150: Write-Host "Ollama: $(if($report.verification.ollama_ok) {'✅'} else {'❌'})" -ForegroundColor $(if($report.verification.ollama_ok) {'Green'} else {'Red'})
00151: Write-Host ""
00152: Write-Host "📁 Rapport détaillé: reports\verification_report.json" -ForegroundColor Cyan
00153: Write-Host ""
00154: Write-Host "🎯 PROCHAINES ETAPES:" -ForegroundColor Yellow
00155: foreach ($step in $report.next_steps) {
00156:     Write-Host "  $step" -ForegroundColor White
00157: }
00158: Write-Host ""
00159: Write-Host "✅ VERIFICATION TERMINEE" -ForegroundColor Green

============================================================
FICHIER: SmartContractPipeline\storage\file_based_storage.py
TAILLE: 4.8 KB
============================================================

00001: # storage/file_based_storage.py
00002: import json
00003: import yaml
00004: import pickle
00005: from pathlib import Path
00006: from typing import Any, Dict, List
00007: from dataclasses import dataclass, asdict
00008: 
00009: @dataclass
00010: class AgentState:
00011:     """État d'un agent stocké dans des fichiers"""
00012:     agent_id: str
00013:     current_task: Dict[str, Any]
00014:     context: Dict[str, Any]
00015:     memory: List[Dict[str, Any]]
00016:     performance: Dict[str, float]
00017:     
00018:     def save(self, base_path: Path):
00019:         """Sauvegarde l'état dans des fichiers"""
00020:         agent_dir = base_path / self.agent_id
00021:         agent_dir.mkdir(exist_ok=True)
00022:         
00023:         # Sauvegarde en JSON (lisible)
00024:         with open(agent_dir / "state.json", "w") as f:
00025:             json.dump(asdict(self), f, indent=2)
00026:         
00027:         # Sauvegarde en pickle pour la performance
00028:         with open(agent_dir / "state.pkl", "wb") as f:
00029:             pickle.dump(self, f)
00030:         
00031:         # Sauvegarde du contexte séparément
00032:         context_file = agent_dir / "context" / f"context_{datetime.now().timestamp()}.json"
00033:         context_file.parent.mkdir(exist_ok=True)
00034:         with open(context_file, "w") as f:
00035:             json.dump(self.context, f, indent=2)
00036:     
00037:     @classmethod
00038:     def load(cls, agent_id: str, base_path: Path):
00039:         """Charge l'état depuis les fichiers"""
00040:         agent_dir = base_path / agent_id
00041:         
00042:         try:
00043:             # Essaye d'abord le pickle (plus rapide)
00044:             with open(agent_dir / "state.pkl", "rb") as f:
00045:                 return pickle.load(f)
00046:         except:
00047:             # Fallback sur JSON
00048:             with open(agent_dir / "state.json", "r") as f:
00049:                 data = json.load(f)
00050:                 return cls(**data)
00051: 
00052: class ProjectFileSystem:
00053:     """Gestionnaire du système de fichiers du projet"""
00054:     
00055:     def __init__(self, project_root: Path):
00056:         self.root = project_root
00057:         
00058:         # Structure de base
00059:         self.directories = {
00060:             "agents": self.root / "agents",
00061:             "context": self.root / "context",
00062:             "memory": self.root / "memory",
00063:             "workspace": self.root / "workspace",
00064:             "sprints": self.root / "sprints",
00065:             "reports": self.root / "reports",
00066:             "logs": self.root / "logs",
00067:         }
00068:         
00069:         # Initialisation
00070:         self._init_structure()
00071:     
00072:     def _init_structure(self):
00073:         """Crée la structure de dossiers"""
00074:         for dir_path in self.directories.values():
00075:             dir_path.mkdir(exist_ok=True, parents=True)
00076:             
00077:             # Sous-structure spécifique
00078:             if dir_path.name == "agents":
00079:                 for agent_type in ["coder", "tester", "architect", "documenter"]:
00080:                     (dir_path / agent_type).mkdir(exist_ok=True)
00081:             
00082:             if dir_path.name == "memory":
00083:                 for sub in ["vector_store", "history", "learnings"]:
00084:                     (dir_path / sub).mkdir(exist_ok=True)
00085:     
00086:     def get_agent_state_path(self, agent_id: str) -> Path:
00087:         """Retourne le chemin de l'état d'un agent"""
00088:         return self.directories["agents"] / agent_id
00089:     
00090:     def save_task_result(self, task_id: str, result: Dict[str, Any]):
00091:         """Sauvegarde le résultat d'une tâche"""
00092:         task_file = self.directories["sprints"] / "current" / f"task_{task_id}.json"
00093:         task_file.parent.mkdir(exist_ok=True)
00094:         
00095:         with open(task_file, "w") as f:
00096:             json.dump({
00097:                 "task_id": task_id,
00098:                 "result": result,
00099:                 "timestamp": datetime.now().isoformat(),
00100:                 "agent": result.get("agent", "unknown")
00101:             }, f, indent=2)
00102:     
00103:     def load_agent_context(self, agent_id: str, limit: int = 10) -> List[Dict]:
00104:         """Charge le contexte récent d'un agent"""
00105:         context_dir = self.get_agent_state_path(agent_id) / "context"
00106:         
00107:         if not context_dir.exists():
00108:             return []
00109:         
00110:         # Récupère les fichiers de contexte les plus récents
00111:         context_files = sorted(context_dir.glob("*.json"), 
00112:                              key=lambda x: x.stat().st_mtime, 
00113:                              reverse=True)[:limit]
00114:         
00115:         contexts = []
00116:         for file in context_files:
00117:             with open(file, "r") as f:
00118:                 contexts.append(json.load(f))
00119:         
00120:         return contexts
00121: 
00122: # Utilisation
00123: project_fs = ProjectFileSystem(Path("./project_data"))
00124: 
00125: # Sauvegarde d'état
00126: agent_state = AgentState(
00127:     agent_id="coder_001",
00128:     current_task={"id": "TASK-123", "description": "Implement login"},
00129:     context={"files": ["auth.py"], "dependencies": ["flask"]},
00130:     memory=[{"task": "previous", "result": "success"}],
00131:     performance={"accuracy": 0.95, "speed": 120}
00132: )
00133: 
00134: agent_state.save(project_fs.get_agent_state_path("coder_001"))

============================================================
FICHIER: storage\file_based_storage.py
TAILLE: 4.67 KB
============================================================

00001: # storage/file_based_storage.py
00002: import json
00003: import yaml
00004: import pickle
00005: from pathlib import Path
00006: from typing import Any, Dict, List
00007: from dataclasses import dataclass, asdict
00008: 
00009: @dataclass
00010: class AgentState:
00011:     """État d'un agent stocké dans des fichiers"""
00012:     agent_id: str
00013:     current_task: Dict[str, Any]
00014:     context: Dict[str, Any]
00015:     memory: List[Dict[str, Any]]
00016:     performance: Dict[str, float]
00017:     
00018:     def save(self, base_path: Path):
00019:         """Sauvegarde l'état dans des fichiers"""
00020:         agent_dir = base_path / self.agent_id
00021:         agent_dir.mkdir(exist_ok=True)
00022:         
00023:         # Sauvegarde en JSON (lisible)
00024:         with open(agent_dir / "state.json", "w") as f:
00025:             json.dump(asdict(self), f, indent=2)
00026:         
00027:         # Sauvegarde en pickle pour la performance
00028:         with open(agent_dir / "state.pkl", "wb") as f:
00029:             pickle.dump(self, f)
00030:         
00031:         # Sauvegarde du contexte séparément
00032:         context_file = agent_dir / "context" / f"context_{datetime.now().timestamp()}.json"
00033:         context_file.parent.mkdir(exist_ok=True)
00034:         with open(context_file, "w") as f:
00035:             json.dump(self.context, f, indent=2)
00036:     
00037:     @classmethod
00038:     def load(cls, agent_id: str, base_path: Path):
00039:         """Charge l'état depuis les fichiers"""
00040:         agent_dir = base_path / agent_id
00041:         
00042:         try:
00043:             # Essaye d'abord le pickle (plus rapide)
00044:             with open(agent_dir / "state.pkl", "rb") as f:
00045:                 return pickle.load(f)
00046:         except:
00047:             # Fallback sur JSON
00048:             with open(agent_dir / "state.json", "r") as f:
00049:                 data = json.load(f)
00050:                 return cls(**data)
00051: 
00052: class ProjectFileSystem:
00053:     """Gestionnaire du système de fichiers du projet"""
00054:     
00055:     def __init__(self, project_root: Path):
00056:         self.root = project_root
00057:         
00058:         # Structure de base
00059:         self.directories = {
00060:             "agents": self.root / "agents",
00061:             "context": self.root / "context",
00062:             "memory": self.root / "memory",
00063:             "workspace": self.root / "workspace",
00064:             "sprints": self.root / "sprints",
00065:             "reports": self.root / "reports",
00066:             "logs": self.root / "logs",
00067:         }
00068:         
00069:         # Initialisation
00070:         self._init_structure()
00071:     
00072:     def _init_structure(self):
00073:         """Crée la structure de dossiers"""
00074:         for dir_path in self.directories.values():
00075:             dir_path.mkdir(exist_ok=True, parents=True)
00076:             
00077:             # Sous-structure spécifique
00078:             if dir_path.name == "agents":
00079:                 for agent_type in ["coder", "tester", "architect", "documenter"]:
00080:                     (dir_path / agent_type).mkdir(exist_ok=True)
00081:             
00082:             if dir_path.name == "memory":
00083:                 for sub in ["vector_store", "history", "learnings"]:
00084:                     (dir_path / sub).mkdir(exist_ok=True)
00085:     
00086:     def get_agent_state_path(self, agent_id: str) -> Path:
00087:         """Retourne le chemin de l'état d'un agent"""
00088:         return self.directories["agents"] / agent_id
00089:     
00090:     def save_task_result(self, task_id: str, result: Dict[str, Any]):
00091:         """Sauvegarde le résultat d'une tâche"""
00092:         task_file = self.directories["sprints"] / "current" / f"task_{task_id}.json"
00093:         task_file.parent.mkdir(exist_ok=True)
00094:         
00095:         with open(task_file, "w") as f:
00096:             json.dump({
00097:                 "task_id": task_id,
00098:                 "result": result,
00099:                 "timestamp": datetime.now().isoformat(),
00100:                 "agent": result.get("agent", "unknown")
00101:             }, f, indent=2)
00102:     
00103:     def load_agent_context(self, agent_id: str, limit: int = 10) -> List[Dict]:
00104:         """Charge le contexte récent d'un agent"""
00105:         context_dir = self.get_agent_state_path(agent_id) / "context"
00106:         
00107:         if not context_dir.exists():
00108:             return []
00109:         
00110:         # Récupère les fichiers de contexte les plus récents
00111:         context_files = sorted(context_dir.glob("*.json"), 
00112:                              key=lambda x: x.stat().st_mtime, 
00113:                              reverse=True)[:limit]
00114:         
00115:         contexts = []
00116:         for file in context_files:
00117:             with open(file, "r") as f:
00118:                 contexts.append(json.load(f))
00119:         
00120:         return contexts
00121: 
00122: # Utilisation
00123: project_fs = ProjectFileSystem(Path("./project_data"))
00124: 
00125: # Sauvegarde d'état
00126: agent_state = AgentState(
00127:     agent_id="coder_001",
00128:     current_task={"id": "TASK-123", "description": "Implement login"},
00129:     context={"files": ["auth.py"], "dependencies": ["flask"]},
00130:     memory=[{"task": "previous", "result": "success"}],
00131:     performance={"accuracy": 0.95, "speed": 120}
00132: )
00133: 
00134: agent_state.save(project_fs.get_agent_state_path("coder_001"))

============================================================
FICHIER: SmartContractPipeline\learning\collective_learning.py
TAILLE: 4.55 KB
============================================================

00001: # learning/collective_learning.py
00002: import hashlib
00003: from typing import Dict, List
00004: from pathlib import Path
00005: 
00006: class CollectiveLearningSystem:
00007:     """Système d'apprentissage partagé basé sur fichiers"""
00008:     
00009:     def __init__(self, knowledge_base_path: Path):
00010:         self.knowledge_base = knowledge_base_path
00011:         self.knowledge_base.mkdir(exist_ok=True)
00012:         
00013:         # Sous-répertoires
00014:         self.patterns_dir = self.knowledge_base / "patterns"
00015:         self.solutions_dir = self.knowledge_base / "solutions"
00016:         self.mistakes_dir = self.knowledge_base / "mistakes"
00017:         self.best_practices_dir = self.knowledge_base / "best_practices"
00018:         
00019:         for dir in [self.patterns_dir, self.solutions_dir, 
00020:                    self.mistakes_dir, self.best_practices_dir]:
00021:             dir.mkdir(exist_ok=True)
00022:     
00023:     def store_solution(self, problem_hash: str, solution: Dict, agent_id: str):
00024:         """Stocke une solution à un problème"""
00025:         solution_file = self.solutions_dir / f"{problem_hash}.json"
00026:         
00027:         data = {
00028:             "problem_hash": problem_hash,
00029:             "solution": solution,
00030:             "agent": agent_id,
00031:             "timestamp": datetime.now().isoformat(),
00032:             "effectiveness": 1.0,  # Sera mis à jour avec le feedback
00033:             "usage_count": 1
00034:         }
00035:         
00036:         if solution_file.exists():
00037:             # Mise à jour du compteur d'utilisation
00038:             with open(solution_file, "r") as f:
00039:                 existing = json.load(f)
00040:                 existing["usage_count"] += 1
00041:             
00042:             data = existing
00043:         
00044:         with open(solution_file, "w") as f:
00045:             json.dump(data, f, indent=2)
00046:     
00047:     def find_similar_solutions(self, problem_description: str, 
00048:                               threshold: float = 0.8) -> List[Dict]:
00049:         """Trouve des solutions similaires"""
00050:         problem_hash = self._hash_description(problem_description)
00051:         
00052:         solutions = []
00053:         for solution_file in self.solutions_dir.glob("*.json"):
00054:             with open(solution_file, "r") as f:
00055:                 solution_data = json.load(f)
00056:                 
00057:                 # Calcul de similarité basique
00058:                 similarity = self._calculate_similarity(
00059:                     problem_hash, 
00060:                     solution_data["problem_hash"]
00061:                 )
00062:                 
00063:                 if similarity >= threshold:
00064:                     solutions.append(solution_data)
00065:         
00066:         return sorted(solutions, key=lambda x: x["effectiveness"], reverse=True)
00067:     
00068:     def learn_from_mistake(self, agent_id: str, task: Dict, 
00069:                           error: str, correction: Dict):
00070:         """Apprend d'une erreur et la partage"""
00071:         mistake_id = f"{agent_id}_{datetime.now().timestamp()}"
00072:         mistake_file = self.mistakes_dir / f"{mistake_id}.json"
00073:         
00074:         with open(mistake_file, "w") as f:
00075:             json.dump({
00076:                 "agent": agent_id,
00077:                 "task": task,
00078:                 "error": error,
00079:                 "correction": correction,
00080:                 "timestamp": datetime.now().isoformat(),
00081:                 "learned_by": [agent_id]  # Liste des agents ayant appris
00082:             }, f, indent=2)
00083:         
00084:         # Notifie les autres agents
00085:         self._broadcast_learning(agent_id, "mistake_learned", mistake_id)
00086:     
00087:     def _broadcast_learning(self, from_agent: str, learning_type: str, 
00088:                           content_id: str):
00089:         """Diffuse un apprentissage à tous les agents"""
00090:         learning_event = {
00091:             "type": learning_type,
00092:             "from": from_agent,
00093:             "content_id": content_id,
00094:             "timestamp": datetime.now().isoformat()
00095:         }
00096:         
00097:         # Écrit dans un fichier partagé que tous les agents lisent
00098:         event_file = self.knowledge_base / "learning_events.jsonl"
00099:         
00100:         with open(event_file, "a") as f:
00101:             f.write(json.dumps(learning_event) + "\n")
00102:     
00103:     @staticmethod
00104:     def _hash_description(description: str) -> str:
00105:         """Hash une description pour comparaison"""
00106:         return hashlib.md5(description.encode()).hexdigest()[:10]
00107:     
00108:     @staticmethod
00109:     def _calculate_similarity(hash1: str, hash2: str) -> float:
00110:         """Calcule la similarité entre deux hashes"""
00111:         # Simple similarité de Levenshtein normalisée
00112:         from Levenshtein import distance
00113:         max_len = max(len(hash1), len(hash2))
00114:         if max_len == 0:
00115:             return 1.0
00116:         return 1 - distance(hash1, hash2) / max_len

============================================================
FICHIER: learning\collective_learning.py
TAILLE: 4.44 KB
============================================================

00001: # learning/collective_learning.py
00002: import hashlib
00003: from typing import Dict, List
00004: from pathlib import Path
00005: 
00006: class CollectiveLearningSystem:
00007:     """Système d'apprentissage partagé basé sur fichiers"""
00008:     
00009:     def __init__(self, knowledge_base_path: Path):
00010:         self.knowledge_base = knowledge_base_path
00011:         self.knowledge_base.mkdir(exist_ok=True)
00012:         
00013:         # Sous-répertoires
00014:         self.patterns_dir = self.knowledge_base / "patterns"
00015:         self.solutions_dir = self.knowledge_base / "solutions"
00016:         self.mistakes_dir = self.knowledge_base / "mistakes"
00017:         self.best_practices_dir = self.knowledge_base / "best_practices"
00018:         
00019:         for dir in [self.patterns_dir, self.solutions_dir, 
00020:                    self.mistakes_dir, self.best_practices_dir]:
00021:             dir.mkdir(exist_ok=True)
00022:     
00023:     def store_solution(self, problem_hash: str, solution: Dict, agent_id: str):
00024:         """Stocke une solution à un problème"""
00025:         solution_file = self.solutions_dir / f"{problem_hash}.json"
00026:         
00027:         data = {
00028:             "problem_hash": problem_hash,
00029:             "solution": solution,
00030:             "agent": agent_id,
00031:             "timestamp": datetime.now().isoformat(),
00032:             "effectiveness": 1.0,  # Sera mis à jour avec le feedback
00033:             "usage_count": 1
00034:         }
00035:         
00036:         if solution_file.exists():
00037:             # Mise à jour du compteur d'utilisation
00038:             with open(solution_file, "r") as f:
00039:                 existing = json.load(f)
00040:                 existing["usage_count"] += 1
00041:             
00042:             data = existing
00043:         
00044:         with open(solution_file, "w") as f:
00045:             json.dump(data, f, indent=2)
00046:     
00047:     def find_similar_solutions(self, problem_description: str, 
00048:                               threshold: float = 0.8) -> List[Dict]:
00049:         """Trouve des solutions similaires"""
00050:         problem_hash = self._hash_description(problem_description)
00051:         
00052:         solutions = []
00053:         for solution_file in self.solutions_dir.glob("*.json"):
00054:             with open(solution_file, "r") as f:
00055:                 solution_data = json.load(f)
00056:                 
00057:                 # Calcul de similarité basique
00058:                 similarity = self._calculate_similarity(
00059:                     problem_hash, 
00060:                     solution_data["problem_hash"]
00061:                 )
00062:                 
00063:                 if similarity >= threshold:
00064:                     solutions.append(solution_data)
00065:         
00066:         return sorted(solutions, key=lambda x: x["effectiveness"], reverse=True)
00067:     
00068:     def learn_from_mistake(self, agent_id: str, task: Dict, 
00069:                           error: str, correction: Dict):
00070:         """Apprend d'une erreur et la partage"""
00071:         mistake_id = f"{agent_id}_{datetime.now().timestamp()}"
00072:         mistake_file = self.mistakes_dir / f"{mistake_id}.json"
00073:         
00074:         with open(mistake_file, "w") as f:
00075:             json.dump({
00076:                 "agent": agent_id,
00077:                 "task": task,
00078:                 "error": error,
00079:                 "correction": correction,
00080:                 "timestamp": datetime.now().isoformat(),
00081:                 "learned_by": [agent_id]  # Liste des agents ayant appris
00082:             }, f, indent=2)
00083:         
00084:         # Notifie les autres agents
00085:         self._broadcast_learning(agent_id, "mistake_learned", mistake_id)
00086:     
00087:     def _broadcast_learning(self, from_agent: str, learning_type: str, 
00088:                           content_id: str):
00089:         """Diffuse un apprentissage à tous les agents"""
00090:         learning_event = {
00091:             "type": learning_type,
00092:             "from": from_agent,
00093:             "content_id": content_id,
00094:             "timestamp": datetime.now().isoformat()
00095:         }
00096:         
00097:         # Écrit dans un fichier partagé que tous les agents lisent
00098:         event_file = self.knowledge_base / "learning_events.jsonl"
00099:         
00100:         with open(event_file, "a") as f:
00101:             f.write(json.dumps(learning_event) + "\n")
00102:     
00103:     @staticmethod
00104:     def _hash_description(description: str) -> str:
00105:         """Hash une description pour comparaison"""
00106:         return hashlib.md5(description.encode()).hexdigest()[:10]
00107:     
00108:     @staticmethod
00109:     def _calculate_similarity(hash1: str, hash2: str) -> float:
00110:         """Calcule la similarité entre deux hashes"""
00111:         # Simple similarité de Levenshtein normalisée
00112:         from Levenshtein import distance
00113:         max_len = max(len(hash1), len(hash2))
00114:         if max_len == 0:
00115:             return 1.0
00116:         return 1 - distance(hash1, hash2) / max_len

============================================================
FICHIER: SmartContractPipeline\monitoring\dashboard.ps1
TAILLE: 3.4 KB
============================================================

00001: # dashboard.ps1
00002: function Show-Dashboard {
00003:     Clear-Host
00004:     Write-Host "="*60 -ForegroundColor Cyan
00005:     Write-Host "📊 DASHBOARD PIPELINE SMART CONTRACT" -ForegroundColor Yellow
00006:     Write-Host "="*60 -ForegroundColor Cyan
00007:     Write-Host ""
00008:     
00009:     # 1. Vérifier Ollama
00010:     Write-Host "🤖 AGENTS IA:" -ForegroundColor Green
00011:     try {
00012:         $ollamaStatus = Invoke-RestMethod -Uri "http://localhost:11434/api/tags" -TimeoutSec 2
00013:         Write-Host "  ✅ Ollama: $($ollamaStatus.models.count) modèles chargés" -ForegroundColor White
00014:     } catch {
00015:         Write-Host "  ❌ Ollama: Hors ligne" -ForegroundColor Red
00016:     }
00017:     
00018:     # 2. Vérifier Anvil
00019:     Write-Host "`n⛓️  BLOCKCHAIN:" -ForegroundColor Green
00020:     try {
00021:         $blockchainStatus = Invoke-RestMethod -Uri "http://localhost:8545" -Method Post -Body '{"jsonrpc":"2.0","method":"eth_blockNumber","params":[],"id":1}' -TimeoutSec 2
00022:         Write-Host "  ✅ Anvil: En ligne (Port 8545)" -ForegroundColor White
00023:     } catch {
00024:         Write-Host "  ❌ Anvil: Hors ligne" -ForegroundColor Red
00025:     }
00026:     
00027:     # 3. Vérifier Frontend
00028:     Write-Host "`n🎨 FRONTEND:" -ForegroundColor Green
00029:     try {
00030:         $frontendStatus = Invoke-WebRequest -Uri "http://localhost:3000" -TimeoutSec 2
00031:         Write-Host "  ✅ Frontend: En ligne (Port 3000)" -ForegroundColor White
00032:     } catch {
00033:         Write-Host "  ❌ Frontend: Hors ligne" -ForegroundColor Red
00034:     }
00035:     
00036:     # 4. Afficher les derniers rapports
00037:     Write-Host "`n📈 RAPPORTS RECENTS:" -ForegroundColor Green
00038:     $reports = Get-ChildItem "$env:USERPROFILE\Projects\SmartContractPipeline\reports\*.json" | Sort-Object LastWriteTime -Descending | Select-Object -First 3
00039:     
00040:     foreach ($report in $reports) {
00041:         $content = Get-Content $report.FullName | ConvertFrom-Json
00042:         $date = [DateTime]::Parse($content.timestamp)
00043:         Write-Host "  📄 $($report.Name) - $($date.ToString('HH:mm'))" -ForegroundColor Gray
00044:     }
00045:     
00046:     # 5. Statistiques des agents
00047:     Write-Host "`n📊 STATISTIQUES:" -ForegroundColor Green
00048:     if (Test-Path "$env:USERPROFILE\Projects\SmartContractPipeline\workspace\contracts\results\contract_output.json") {
00049:         $contractData = Get-Content "$env:USERPROFILE\Projects\SmartContractPipeline\workspace\contracts\results\contract_output.json" | ConvertFrom-Json
00050:         Write-Host "  📝 Contrats générés: 1" -ForegroundColor White
00051:         Write-Host "  ✅ Tests: $($contractData.tests.success)" -ForegroundColor White
00052:     }
00053:     
00054:     # 6. Menu interactif
00055:     Write-Host "`n" + "="*60 -ForegroundColor Cyan
00056:     Write-Host "🔧 MENU INTERACTIF" -ForegroundColor Yellow
00057:     Write-Host "1. Redémarrer le pipeline"
00058:     Write-Host "2. Voir les logs"
00059:     Write-Host "3. Générer un nouveau contrat"
00060:     Write-Host "4. Arrêter le système"
00061:     Write-Host "Q. Quitter"
00062:     Write-Host "="*60 -ForegroundColor Cyan
00063:     
00064:     $choice = Read-Host "`nChoix"
00065:     
00066:     switch ($choice) {
00067:         "1" { .\run-pipeline.ps1 }
00068:         "2" { 
00069:             Get-Content "$env:USERPROFILE\Projects\SmartContractPipeline\reports\health_monitor.json" | Write-Host
00070:             Read-Host "Appuyez sur Entrée pour continuer"
00071:             Show-Dashboard
00072:         }
00073:         "3" { 
00074:             .\deploy-agents.ps1
00075:             Show-Dashboard
00076:         }
00077:         "4" { .\stop-all.ps1 }
00078:         "Q" { exit }
00079:         default { Show-Dashboard }
00080:     }
00081: }
00082: 
00083: Show-Dashboard

============================================================
FICHIER: monitoring\dashboard.ps1
TAILLE: 3.32 KB
============================================================

00001: # dashboard.ps1
00002: function Show-Dashboard {
00003:     Clear-Host
00004:     Write-Host "="*60 -ForegroundColor Cyan
00005:     Write-Host "📊 DASHBOARD PIPELINE SMART CONTRACT" -ForegroundColor Yellow
00006:     Write-Host "="*60 -ForegroundColor Cyan
00007:     Write-Host ""
00008:     
00009:     # 1. Vérifier Ollama
00010:     Write-Host "🤖 AGENTS IA:" -ForegroundColor Green
00011:     try {
00012:         $ollamaStatus = Invoke-RestMethod -Uri "http://localhost:11434/api/tags" -TimeoutSec 2
00013:         Write-Host "  ✅ Ollama: $($ollamaStatus.models.count) modèles chargés" -ForegroundColor White
00014:     } catch {
00015:         Write-Host "  ❌ Ollama: Hors ligne" -ForegroundColor Red
00016:     }
00017:     
00018:     # 2. Vérifier Anvil
00019:     Write-Host "`n⛓️  BLOCKCHAIN:" -ForegroundColor Green
00020:     try {
00021:         $blockchainStatus = Invoke-RestMethod -Uri "http://localhost:8545" -Method Post -Body '{"jsonrpc":"2.0","method":"eth_blockNumber","params":[],"id":1}' -TimeoutSec 2
00022:         Write-Host "  ✅ Anvil: En ligne (Port 8545)" -ForegroundColor White
00023:     } catch {
00024:         Write-Host "  ❌ Anvil: Hors ligne" -ForegroundColor Red
00025:     }
00026:     
00027:     # 3. Vérifier Frontend
00028:     Write-Host "`n🎨 FRONTEND:" -ForegroundColor Green
00029:     try {
00030:         $frontendStatus = Invoke-WebRequest -Uri "http://localhost:3000" -TimeoutSec 2
00031:         Write-Host "  ✅ Frontend: En ligne (Port 3000)" -ForegroundColor White
00032:     } catch {
00033:         Write-Host "  ❌ Frontend: Hors ligne" -ForegroundColor Red
00034:     }
00035:     
00036:     # 4. Afficher les derniers rapports
00037:     Write-Host "`n📈 RAPPORTS RECENTS:" -ForegroundColor Green
00038:     $reports = Get-ChildItem "$env:USERPROFILE\Projects\SmartContractPipeline\reports\*.json" | Sort-Object LastWriteTime -Descending | Select-Object -First 3
00039:     
00040:     foreach ($report in $reports) {
00041:         $content = Get-Content $report.FullName | ConvertFrom-Json
00042:         $date = [DateTime]::Parse($content.timestamp)
00043:         Write-Host "  📄 $($report.Name) - $($date.ToString('HH:mm'))" -ForegroundColor Gray
00044:     }
00045:     
00046:     # 5. Statistiques des agents
00047:     Write-Host "`n📊 STATISTIQUES:" -ForegroundColor Green
00048:     if (Test-Path "$env:USERPROFILE\Projects\SmartContractPipeline\workspace\contracts\results\contract_output.json") {
00049:         $contractData = Get-Content "$env:USERPROFILE\Projects\SmartContractPipeline\workspace\contracts\results\contract_output.json" | ConvertFrom-Json
00050:         Write-Host "  📝 Contrats générés: 1" -ForegroundColor White
00051:         Write-Host "  ✅ Tests: $($contractData.tests.success)" -ForegroundColor White
00052:     }
00053:     
00054:     # 6. Menu interactif
00055:     Write-Host "`n" + "="*60 -ForegroundColor Cyan
00056:     Write-Host "🔧 MENU INTERACTIF" -ForegroundColor Yellow
00057:     Write-Host "1. Redémarrer le pipeline"
00058:     Write-Host "2. Voir les logs"
00059:     Write-Host "3. Générer un nouveau contrat"
00060:     Write-Host "4. Arrêter le système"
00061:     Write-Host "Q. Quitter"
00062:     Write-Host "="*60 -ForegroundColor Cyan
00063:     
00064:     $choice = Read-Host "`nChoix"
00065:     
00066:     switch ($choice) {
00067:         "1" { .\run-pipeline.ps1 }
00068:         "2" { 
00069:             Get-Content "$env:USERPROFILE\Projects\SmartContractPipeline\reports\health_monitor.json" | Write-Host
00070:             Read-Host "Appuyez sur Entrée pour continuer"
00071:             Show-Dashboard
00072:         }
00073:         "3" { 
00074:             .\deploy-agents.ps1
00075:             Show-Dashboard
00076:         }
00077:         "4" { .\stop-all.ps1 }
00078:         "Q" { exit }
00079:         default { Show-Dashboard }
00080:     }
00081: }
00082: 
00083: Show-Dashboard

============================================================
FICHIER: SmartContractPipeline\agents\smart_contract\config.yaml
TAILLE: 2.86 KB
============================================================

00001: # agents/smart_contract/config.yaml
00002: agent_id: "sc_principal_001"
00003: specialization: "Solidity Expert / Formal Methods"
00004: model: "ollama:deepseek-coder:6.7b"
00005: temperature: 0.1  # Très déterministe pour la sécurité
00006: 
00007: # Contexte fourni
00008: context:
00009:   blockchain_target:
00010:     mainnet: "Ethereum"
00011:     testnets: ["Sepolia", "Hardhat", "Anvil"]
00012:   standards:
00013:     erc_standards: ["ERC20", "ERC721", "ERC1155", "ERC4626"]
00014:     security_standards: ["EIP-1474", "SWC Registry"]
00015:   tooling:
00016:     frameworks: ["Foundry", "Hardhat"]
00017:     testing: ["Foundry", "Waffle", "Truffle"]
00018: 
00019: # Limitations strictes
00020: limitations:
00021:   security:
00022:     - "Pas de delegatecall non vérifié"
00023:     - "Pas de reentrancy possible"
00024:     - "Vérifier tous les transferts"
00025:   gas:
00026:     - "Optimiser pour L2 (Arbitrum, Optimism)"
00027:     - "Éviter les boucles non bornées"
00028:   design:
00029:     - "Respecter le pattern Checks-Effects-Interactions"
00030:     - "Utiliser OpenZeppelin quand possible"
00031: 
00032: # Obligations critiques
00033: obligations:
00034:   - "Implémenter les spécifications formelles"
00035:   - "Générer des preuves formelles pour les fonctions critiques"
00036:   - "Documenter chaque ligne avec son invariant"
00037:   - "Tester avec fuzzing avant tout commit"
00038:   - "Vérifier les overflows/underflows systématiquement"
00039: 
00040: # Objectifs
00041: objectives:
00042:   primary: "Produire des smart contracts sécurisés et optimisés"
00043:   secondary:
00044:     - "Maintenabilité via une architecture modulaire"
00045:     - "Compatibilité multi-chaîne"
00046:     - "Facilité d'upgrade via proxy pattern"
00047: 
00048: # Outils spécialisés
00049: tools:
00050:   - name: "foundry_runner"
00051:     type: "forge_executor"
00052:     params:
00053:       fork_url: "${ALCHEMY_URL}"
00054:       gas_reports: true
00055:     
00056:   - name: "slither_analyzer"
00057:     type: "static_analysis"
00058:     params:
00059:       detectors: ["all"]
00060:       exclude: ["naming-convention"]
00061:     
00062:   - name: "mythril_scanner"
00063:     type: "security_analyzer"
00064:     
00065:   - name: "formal_verifier"
00066:     type: "halmos | hevm"
00067:     params:
00068:       solver: "z3"
00069:       timeout: 300
00070:   
00071:   - name: "gas_profiler"
00072:     type: "gas_analysis"
00073:     params:
00074:       scenarios: ["mint", "transfer", "approve"]
00075: 
00076: # Processus de développement
00077: development_process:
00078:   step_1: "Rédiger les spécifications formelles"
00079:   step_2: "Générer le squelette du contrat"
00080:   step_3: "Implémenter avec vérifications en temps réel"
00081:   step_4: "Exécuter les preuves formelles"
00082:   step_5: "Fuzzing intensif"
00083:   step_6: "Audit statique"
00084:   step_7: "Simulation multi-chaîne"
00085: 
00086: # Outputs
00087: outputs:
00088:   contracts:
00089:     - "src/contracts/"  # Code source
00090:     - "src/interfaces/" # Interfaces
00091:     - "src/libraries/"  # Libraries
00092:   proofs:
00093:     - "proofs/"         # Preuves formelles
00094:     - "invariants/"     # Invariants documentés
00095:   tests:
00096:     - "test/fuzzing/"   # Tests de fuzzing
00097:     - "test/formelle/"  # Tests formels
00098:   artifacts:
00099:     - "abi/"            # ABI générés
00100:     - "bytecode/"       # Bytecode optimisé

============================================================
FICHIER: agents\smart_contract\config.yaml
TAILLE: 2.77 KB
============================================================

00001: # agents/smart_contract/config.yaml
00002: agent_id: "sc_principal_001"
00003: specialization: "Solidity Expert / Formal Methods"
00004: model: "ollama:deepseek-coder:6.7b"
00005: temperature: 0.1  # Très déterministe pour la sécurité
00006: 
00007: # Contexte fourni
00008: context:
00009:   blockchain_target:
00010:     mainnet: "Ethereum"
00011:     testnets: ["Sepolia", "Hardhat", "Anvil"]
00012:   standards:
00013:     erc_standards: ["ERC20", "ERC721", "ERC1155", "ERC4626"]
00014:     security_standards: ["EIP-1474", "SWC Registry"]
00015:   tooling:
00016:     frameworks: ["Foundry", "Hardhat"]
00017:     testing: ["Foundry", "Waffle", "Truffle"]
00018: 
00019: # Limitations strictes
00020: limitations:
00021:   security:
00022:     - "Pas de delegatecall non vérifié"
00023:     - "Pas de reentrancy possible"
00024:     - "Vérifier tous les transferts"
00025:   gas:
00026:     - "Optimiser pour L2 (Arbitrum, Optimism)"
00027:     - "Éviter les boucles non bornées"
00028:   design:
00029:     - "Respecter le pattern Checks-Effects-Interactions"
00030:     - "Utiliser OpenZeppelin quand possible"
00031: 
00032: # Obligations critiques
00033: obligations:
00034:   - "Implémenter les spécifications formelles"
00035:   - "Générer des preuves formelles pour les fonctions critiques"
00036:   - "Documenter chaque ligne avec son invariant"
00037:   - "Tester avec fuzzing avant tout commit"
00038:   - "Vérifier les overflows/underflows systématiquement"
00039: 
00040: # Objectifs
00041: objectives:
00042:   primary: "Produire des smart contracts sécurisés et optimisés"
00043:   secondary:
00044:     - "Maintenabilité via une architecture modulaire"
00045:     - "Compatibilité multi-chaîne"
00046:     - "Facilité d'upgrade via proxy pattern"
00047: 
00048: # Outils spécialisés
00049: tools:
00050:   - name: "foundry_runner"
00051:     type: "forge_executor"
00052:     params:
00053:       fork_url: "${ALCHEMY_URL}"
00054:       gas_reports: true
00055:     
00056:   - name: "slither_analyzer"
00057:     type: "static_analysis"
00058:     params:
00059:       detectors: ["all"]
00060:       exclude: ["naming-convention"]
00061:     
00062:   - name: "mythril_scanner"
00063:     type: "security_analyzer"
00064:     
00065:   - name: "formal_verifier"
00066:     type: "halmos | hevm"
00067:     params:
00068:       solver: "z3"
00069:       timeout: 300
00070:   
00071:   - name: "gas_profiler"
00072:     type: "gas_analysis"
00073:     params:
00074:       scenarios: ["mint", "transfer", "approve"]
00075: 
00076: # Processus de développement
00077: development_process:
00078:   step_1: "Rédiger les spécifications formelles"
00079:   step_2: "Générer le squelette du contrat"
00080:   step_3: "Implémenter avec vérifications en temps réel"
00081:   step_4: "Exécuter les preuves formelles"
00082:   step_5: "Fuzzing intensif"
00083:   step_6: "Audit statique"
00084:   step_7: "Simulation multi-chaîne"
00085: 
00086: # Outputs
00087: outputs:
00088:   contracts:
00089:     - "src/contracts/"  # Code source
00090:     - "src/interfaces/" # Interfaces
00091:     - "src/libraries/"  # Libraries
00092:   proofs:
00093:     - "proofs/"         # Preuves formelles
00094:     - "invariants/"     # Invariants documentés
00095:   tests:
00096:     - "test/fuzzing/"   # Tests de fuzzing
00097:     - "test/formelle/"  # Tests formels
00098:   artifacts:
00099:     - "abi/"            # ABI générés
00100:     - "bytecode/"       # Bytecode optimisé

============================================================
FICHIER: SmartContractPipeline\agents\coder\config.yaml
TAILLE: 2.54 KB
============================================================

00001: # agents/coder/config.yaml
00002: agent_id: "coder_001"
00003: role: "Senior Software Engineer"
00004: model: "ollama:deepseek-coder:6.7b"
00005: temperature: 0.2  # Plus déterministe pour le code
00006: 
00007: # Contexte fourni
00008: context:
00009:   current_files:
00010:     pattern: "**/*.py"
00011:     exclude: ["**/test_*.py", "**/__pycache__/**"]
00012:   related_tickets:
00013:     source: "project_data/sprints/current/tasks.json"
00014:     filter: "status:in_progress"
00015:   coding_standards:
00016:     file: "project_data/context/coding_standards.md"
00017:   dependencies:
00018:     file: "requirements.txt | package.json"
00019: 
00020: # Limitations
00021: limitations:
00022:   code_style: "PEP8 pour Python, Airbnb pour JS"
00023:   complexity: "Cyclomatic complexity < 10"
00024:   testing: "100% coverage pour les nouvelles fonctions"
00025:   security: "Vérifier les injections, XSS, etc."
00026:   performance: "Pas de N+1 queries, optimiser les algorithmes"
00027: 
00028: # Obligations
00029: obligations:
00030:   - "Écrire des tests unitaires avant le code"
00031:   - "Documenter les fonctions publiques"
00032:   - "Gérer les erreurs proprement"
00033:   - "Suivre le principe SRP"
00034:   - "Vérifier les dépendances circulaires"
00035: 
00036: # Objectifs
00037: objectives:
00038:   primary: "Implémenter la fonctionnalité selon les specs"
00039:   secondary:
00040:     - "Maintenir ou améliorer la qualité du code"
00041:     - "Respecter les délais estimés"
00042:     - "Collaborer avec les autres agents"
00043: 
00044: # Spécifications de développement
00045: dev_specs:
00046:   branch_strategy: "feature/AGENT-[ticket_id]"
00047:   commit_convention: "conventional-commits"
00048:   review_required: true
00049:   auto_merge: false
00050: 
00051: # Outils disponibles
00052: tools:
00053:   - name: "code_editor"
00054:     type: "file_operations"
00055:     permissions: ["read", "write", "execute"]
00056:     
00057:   - name: "test_runner"
00058:     type: "pytest | jest"
00059:     params:
00060:       coverage: true
00061:       verbose: true
00062:     
00063:   - name: "linter"
00064:     type: "flake8 | eslint"
00065:     params:
00066:       strict: true
00067:     
00068:   - name: "formatter"
00069:     type: "black | prettier"
00070:     
00071:   - name: "static_analyzer"
00072:     type: "pylint | sonarqube"
00073:     
00074:   - name: "dependency_checker"
00075:     type: "safety | npm_audit"
00076: 
00077: # Outputs attendus
00078: outputs:
00079:   required_files:
00080:     - "feature_code.py"
00081:     - "test_feature.py"
00082:     - "feature_docs.md"
00083:   artifacts:
00084:     - "implementation_report.json"
00085:     - "code_metrics.json"
00086:     - "test_coverage.xml"
00087:   pull_request:
00088:     template: "project_data/templates/pr_template.md"
00089:     auto_generate: true
00090: 
00091: # Feedback loop
00092: feedback:
00093:   source: ["agent_tester", "agent_reviewer", "human"]
00094:   integration:
00095:     method: "webhook"
00096:     endpoint: "http://localhost:8080/feedback"
00097:   learning:
00098:     store_mistakes: true
00099:     adjust_behavior: true

============================================================
FICHIER: SmartContractPipeline\agents\tester\config.yaml
TAILLE: 2.46 KB
============================================================

00001: # agents/tester/config.yaml
00002: agent_id: "tester_001"
00003: role: "QA Automation Engineer"
00004: model: "ollama:qwen2.5:7b"
00005: temperature: 0.4  # Plus créatif pour les edge cases
00006: 
00007: # Contexte fourni
00008: context:
00009:   code_to_test:
00010:     path: "project_data/workspace/src/"
00011:     changed_files: true
00012:   test_strategy:
00013:     file: "project_data/context/test_strategy.md"
00014:   quality_gates:
00015:     min_coverage: 80
00016:     max_complexity: 15
00017:   
00018: # Limitations
00019: limitations:
00020:   test_types: ["unit", "integration", "e2e", "performance"]
00021:   test_frameworks: ["pytest", "jest", "cypress"]
00022:   execution_time: "< 10min pour le test suite"
00023:   resources: "Pas de services externes payants"
00024: 
00025: # Obligations
00026: obligations:
00027:   - "Tester les happy paths et edge cases"
00028:   - "Vérifier les regressions"
00029:   - "Documenter les bugs clairement"
00030:   - "Maintenir les tests à jour"
00031:   - "Générer des données de test réalistes"
00032: 
00033: # Objectifs
00034: objectives:
00035:   primary: "Assurer la qualité du code produit"
00036:   secondary:
00037:     - "Détecter les bugs avant la production"
00038:     - "Maintenir une bonne couverture de tests"
00039:     - "Optimiser le temps d'exécution des tests"
00040: 
00041: # Spécifications de test
00042: test_specs:
00043:   unit_tests:
00044:     framework: "pytest"
00045:     coverage: ">= 80%"
00046:     mocking: "unittest.mock"
00047:   integration_tests:
00048:     framework: "pytest"
00049:     test_data: "fixtures/"
00050:     cleanup: true
00051:   e2e_tests:
00052:     framework: "selenium | cypress"
00053:     browser: "chrome headless"
00054: 
00055: # Outils disponibles
00056: tools:
00057:   - name: "test_generator"
00058:     type: "auto_test_gen"
00059:     params:
00060:       framework: "pytest"
00061:       style: "given-when-then"
00062:   
00063:   - name: "test_executor"
00064:     type: "test_runner"
00065:     params:
00066:       parallel: true
00067:       retry_failed: 2
00068:   
00069:   - name: "coverage_tool"
00070:     type: "coverage.py | istanbul"
00071:   
00072:   - name: "bug_reporter"
00073:     type: "issue_tracker"
00074:     params:
00075:       template: "project_data/templates/bug_report.md"
00076:   
00077:   - name: "performance_tester"
00078:     type: "locust | k6"
00079:     params:
00080:       virtual_users: 100
00081:       duration: "5m"
00082: 
00083: # Outputs attendus
00084: outputs:
00085:   test_reports:
00086:     - "test_results.json"
00087:     - "coverage_report.xml"
00088:     - "performance_metrics.json"
00089:   artifacts:
00090:     - "test_cases.md"
00091:     - "bug_reports/"
00092:     - "test_data/"
00093:   notifications:
00094:     slack_channel: "#qa-alerts"
00095:     threshold: "coverage < 80% OR tests_failed > 0"
00096: 
00097: # Intégration continue
00098: ci_integration:
00099:   trigger: "on_push_or_pr"
00100:   stages: ["test", "coverage", "report"]
00101:   blockers: ["coverage_below_threshold", "critical_bugs"]

============================================================
FICHIER: agents\coder\config.yaml
TAILLE: 2.45 KB
============================================================

00001: # agents/coder/config.yaml
00002: agent_id: "coder_001"
00003: role: "Senior Software Engineer"
00004: model: "ollama:deepseek-coder:6.7b"
00005: temperature: 0.2  # Plus déterministe pour le code
00006: 
00007: # Contexte fourni
00008: context:
00009:   current_files:
00010:     pattern: "**/*.py"
00011:     exclude: ["**/test_*.py", "**/__pycache__/**"]
00012:   related_tickets:
00013:     source: "project_data/sprints/current/tasks.json"
00014:     filter: "status:in_progress"
00015:   coding_standards:
00016:     file: "project_data/context/coding_standards.md"
00017:   dependencies:
00018:     file: "requirements.txt | package.json"
00019: 
00020: # Limitations
00021: limitations:
00022:   code_style: "PEP8 pour Python, Airbnb pour JS"
00023:   complexity: "Cyclomatic complexity < 10"
00024:   testing: "100% coverage pour les nouvelles fonctions"
00025:   security: "Vérifier les injections, XSS, etc."
00026:   performance: "Pas de N+1 queries, optimiser les algorithmes"
00027: 
00028: # Obligations
00029: obligations:
00030:   - "Écrire des tests unitaires avant le code"
00031:   - "Documenter les fonctions publiques"
00032:   - "Gérer les erreurs proprement"
00033:   - "Suivre le principe SRP"
00034:   - "Vérifier les dépendances circulaires"
00035: 
00036: # Objectifs
00037: objectives:
00038:   primary: "Implémenter la fonctionnalité selon les specs"
00039:   secondary:
00040:     - "Maintenir ou améliorer la qualité du code"
00041:     - "Respecter les délais estimés"
00042:     - "Collaborer avec les autres agents"
00043: 
00044: # Spécifications de développement
00045: dev_specs:
00046:   branch_strategy: "feature/AGENT-[ticket_id]"
00047:   commit_convention: "conventional-commits"
00048:   review_required: true
00049:   auto_merge: false
00050: 
00051: # Outils disponibles
00052: tools:
00053:   - name: "code_editor"
00054:     type: "file_operations"
00055:     permissions: ["read", "write", "execute"]
00056:     
00057:   - name: "test_runner"
00058:     type: "pytest | jest"
00059:     params:
00060:       coverage: true
00061:       verbose: true
00062:     
00063:   - name: "linter"
00064:     type: "flake8 | eslint"
00065:     params:
00066:       strict: true
00067:     
00068:   - name: "formatter"
00069:     type: "black | prettier"
00070:     
00071:   - name: "static_analyzer"
00072:     type: "pylint | sonarqube"
00073:     
00074:   - name: "dependency_checker"
00075:     type: "safety | npm_audit"
00076: 
00077: # Outputs attendus
00078: outputs:
00079:   required_files:
00080:     - "feature_code.py"
00081:     - "test_feature.py"
00082:     - "feature_docs.md"
00083:   artifacts:
00084:     - "implementation_report.json"
00085:     - "code_metrics.json"
00086:     - "test_coverage.xml"
00087:   pull_request:
00088:     template: "project_data/templates/pr_template.md"
00089:     auto_generate: true
00090: 
00091: # Feedback loop
00092: feedback:
00093:   source: ["agent_tester", "agent_reviewer", "human"]
00094:   integration:
00095:     method: "webhook"
00096:     endpoint: "http://localhost:8080/feedback"
00097:   learning:
00098:     store_mistakes: true
00099:     adjust_behavior: true

============================================================
FICHIER: SmartContractPipeline\agents\documenter\config.yaml
TAILLE: 2.39 KB
============================================================

00001: # agents/documenter/config.yaml
00002: agent_id: "documenter_001"
00003: role: "Technical Writer"
00004: model: "ollama:mistral:7b"
00005: temperature: 0.5  # Équilibre créativité/cohérence
00006: 
00007: # Contexte fourni
00008: context:
00009:   documentation_standards:
00010:     file: "project_data/context/doc_standards.md"
00011:   target_audience:
00012:     - "developers"
00013:     - "end_users"
00014:     - "devops"
00015:   existing_docs:
00016:     path: "project_data/workspace/docs/"
00017:   
00018: # Limitations
00019: limitations:
00020:   formats: ["markdown", "asciidoc", "openapi"]
00021:   languages: ["fr", "en"]  # Documentation bilingue
00022:   tools: "Pas d'outils SaaS payants"
00023:   media: "Images générées uniquement via diagrammes"
00024: 
00025: # Obligations
00026: obligations:
00027:   - "Maintenir la documentation à jour avec le code"
00028:   - "Vérifier l'exactitude technique"
00029:   - "Adapter le ton à l'audience"
00030:   - "Structurer pour la recherche"
00031:   - "Inclure des exemples fonctionnels"
00032: 
00033: # Objectifs
00034: objectives:
00035:   primary: "Produire une documentation complète et utile"
00036:   secondary:
00037:     - "Réduire la courbe d'apprentissage"
00038:     - "Faciliter la maintenance"
00039:     - "Supporter l'auto-découverte"
00040: 
00041: # Spécifications de documentation
00042: doc_specs:
00043:   api_docs:
00044:     format: "OpenAPI 3.0"
00045:     auto_generate: true
00046:     examples: true
00047:   user_guide:
00048:     structure: "task-oriented"
00049:     screenshots: false  # ou générées automatiquement
00050:   developer_guide:
00051:     includes: ["setup", "architecture", "contributing"]
00052:   deployment_guide:
00053:     environments: ["development", "staging", "production"]
00054: 
00055: # Outils disponibles
00056: tools:
00057:   - name: "doc_generator"
00058:     type: "sphinx | mkdocs"
00059:     params:
00060:       theme: "readthedocs"
00061:   
00062:   - name: "api_doc_extractor"
00063:     type: "openapi_generator"
00064:     params:
00065:       from_code: true
00066:   
00067:   - name: "diagram_generator"
00068:     type: "mermaid | plantuml"
00069:   
00070:   - name: "spell_checker"
00071:     type: "pyenchant | languagetool"
00072:   
00073:   - name: "readability_analyzer"
00074:     type: "text_metrics"
00075:     params:
00076:       metrics: ["flesch_kincaid", "dale_chall"]
00077: 
00078: # Outputs attendus
00079: outputs:
00080:   generated_docs:
00081:     - "api_reference/"
00082:     - "user_guide/"
00083:     - "developer_guide/"
00084:     - "deployment/"
00085:   artifacts:
00086:     - "doc_coverage_report.json"
00087:     - "broken_links_report.json"
00088:     - "readability_scores.json"
00089:   publishing:
00090:     format: "static_site"
00091:     location: "project_data/workspace/docs/_build/"
00092: 
00093: # Maintenance
00094: maintenance:
00095:   sync_with_code: true
00096:   review_cycle: "weekly"
00097:   outdated_check: true

============================================================
FICHIER: agents\tester\config.yaml
TAILLE: 2.36 KB
============================================================

00001: # agents/tester/config.yaml
00002: agent_id: "tester_001"
00003: role: "QA Automation Engineer"
00004: model: "ollama:qwen2.5:7b"
00005: temperature: 0.4  # Plus créatif pour les edge cases
00006: 
00007: # Contexte fourni
00008: context:
00009:   code_to_test:
00010:     path: "project_data/workspace/src/"
00011:     changed_files: true
00012:   test_strategy:
00013:     file: "project_data/context/test_strategy.md"
00014:   quality_gates:
00015:     min_coverage: 80
00016:     max_complexity: 15
00017:   
00018: # Limitations
00019: limitations:
00020:   test_types: ["unit", "integration", "e2e", "performance"]
00021:   test_frameworks: ["pytest", "jest", "cypress"]
00022:   execution_time: "< 10min pour le test suite"
00023:   resources: "Pas de services externes payants"
00024: 
00025: # Obligations
00026: obligations:
00027:   - "Tester les happy paths et edge cases"
00028:   - "Vérifier les regressions"
00029:   - "Documenter les bugs clairement"
00030:   - "Maintenir les tests à jour"
00031:   - "Générer des données de test réalistes"
00032: 
00033: # Objectifs
00034: objectives:
00035:   primary: "Assurer la qualité du code produit"
00036:   secondary:
00037:     - "Détecter les bugs avant la production"
00038:     - "Maintenir une bonne couverture de tests"
00039:     - "Optimiser le temps d'exécution des tests"
00040: 
00041: # Spécifications de test
00042: test_specs:
00043:   unit_tests:
00044:     framework: "pytest"
00045:     coverage: ">= 80%"
00046:     mocking: "unittest.mock"
00047:   integration_tests:
00048:     framework: "pytest"
00049:     test_data: "fixtures/"
00050:     cleanup: true
00051:   e2e_tests:
00052:     framework: "selenium | cypress"
00053:     browser: "chrome headless"
00054: 
00055: # Outils disponibles
00056: tools:
00057:   - name: "test_generator"
00058:     type: "auto_test_gen"
00059:     params:
00060:       framework: "pytest"
00061:       style: "given-when-then"
00062:   
00063:   - name: "test_executor"
00064:     type: "test_runner"
00065:     params:
00066:       parallel: true
00067:       retry_failed: 2
00068:   
00069:   - name: "coverage_tool"
00070:     type: "coverage.py | istanbul"
00071:   
00072:   - name: "bug_reporter"
00073:     type: "issue_tracker"
00074:     params:
00075:       template: "project_data/templates/bug_report.md"
00076:   
00077:   - name: "performance_tester"
00078:     type: "locust | k6"
00079:     params:
00080:       virtual_users: 100
00081:       duration: "5m"
00082: 
00083: # Outputs attendus
00084: outputs:
00085:   test_reports:
00086:     - "test_results.json"
00087:     - "coverage_report.xml"
00088:     - "performance_metrics.json"
00089:   artifacts:
00090:     - "test_cases.md"
00091:     - "bug_reports/"
00092:     - "test_data/"
00093:   notifications:
00094:     slack_channel: "#qa-alerts"
00095:     threshold: "coverage < 80% OR tests_failed > 0"
00096: 
00097: # Intégration continue
00098: ci_integration:
00099:   trigger: "on_push_or_pr"
00100:   stages: ["test", "coverage", "report"]
00101:   blockers: ["coverage_below_threshold", "critical_bugs"]

============================================================
FICHIER: agents\documenter\config.yaml
TAILLE: 2.3 KB
============================================================

00001: # agents/documenter/config.yaml
00002: agent_id: "documenter_001"
00003: role: "Technical Writer"
00004: model: "ollama:mistral:7b"
00005: temperature: 0.5  # Équilibre créativité/cohérence
00006: 
00007: # Contexte fourni
00008: context:
00009:   documentation_standards:
00010:     file: "project_data/context/doc_standards.md"
00011:   target_audience:
00012:     - "developers"
00013:     - "end_users"
00014:     - "devops"
00015:   existing_docs:
00016:     path: "project_data/workspace/docs/"
00017:   
00018: # Limitations
00019: limitations:
00020:   formats: ["markdown", "asciidoc", "openapi"]
00021:   languages: ["fr", "en"]  # Documentation bilingue
00022:   tools: "Pas d'outils SaaS payants"
00023:   media: "Images générées uniquement via diagrammes"
00024: 
00025: # Obligations
00026: obligations:
00027:   - "Maintenir la documentation à jour avec le code"
00028:   - "Vérifier l'exactitude technique"
00029:   - "Adapter le ton à l'audience"
00030:   - "Structurer pour la recherche"
00031:   - "Inclure des exemples fonctionnels"
00032: 
00033: # Objectifs
00034: objectives:
00035:   primary: "Produire une documentation complète et utile"
00036:   secondary:
00037:     - "Réduire la courbe d'apprentissage"
00038:     - "Faciliter la maintenance"
00039:     - "Supporter l'auto-découverte"
00040: 
00041: # Spécifications de documentation
00042: doc_specs:
00043:   api_docs:
00044:     format: "OpenAPI 3.0"
00045:     auto_generate: true
00046:     examples: true
00047:   user_guide:
00048:     structure: "task-oriented"
00049:     screenshots: false  # ou générées automatiquement
00050:   developer_guide:
00051:     includes: ["setup", "architecture", "contributing"]
00052:   deployment_guide:
00053:     environments: ["development", "staging", "production"]
00054: 
00055: # Outils disponibles
00056: tools:
00057:   - name: "doc_generator"
00058:     type: "sphinx | mkdocs"
00059:     params:
00060:       theme: "readthedocs"
00061:   
00062:   - name: "api_doc_extractor"
00063:     type: "openapi_generator"
00064:     params:
00065:       from_code: true
00066:   
00067:   - name: "diagram_generator"
00068:     type: "mermaid | plantuml"
00069:   
00070:   - name: "spell_checker"
00071:     type: "pyenchant | languagetool"
00072:   
00073:   - name: "readability_analyzer"
00074:     type: "text_metrics"
00075:     params:
00076:       metrics: ["flesch_kincaid", "dale_chall"]
00077: 
00078: # Outputs attendus
00079: outputs:
00080:   generated_docs:
00081:     - "api_reference/"
00082:     - "user_guide/"
00083:     - "developer_guide/"
00084:     - "deployment/"
00085:   artifacts:
00086:     - "doc_coverage_report.json"
00087:     - "broken_links_report.json"
00088:     - "readability_scores.json"
00089:   publishing:
00090:     format: "static_site"
00091:     location: "project_data/workspace/docs/_build/"
00092: 
00093: # Maintenance
00094: maintenance:
00095:   sync_with_code: true
00096:   review_cycle: "weekly"
00097:   outdated_check: true

============================================================
FICHIER: SmartContractPipeline\agents\architure\.mermaid\V0\Communication entre Agents (ZeroMQ).mermaid
TAILLE: 2.16 KB
============================================================

00001: graph TB
00002:     subgraph "Niveau 1: Agents Principaux (9)"
00003:         A1[Agent Architecte]
00004:         A2[Agent Codeur]
00005:         A3[Agent Smart Contract]
00006:         A4[Agent Communication]
00007:         A5[Agent Documenteur]
00008:         A6[Agent Formal Verification]
00009:         A7[Agent Frontend Web3]
00010:         A8[Agent Quality Metrics]
00011:         A9[Agent Tester]
00012:     end
00013:     
00014:     subgraph "Niveau 2: Sous-Agents Spécialisés (17)"
00015:         SA1[Sous-Agent Architecture Cloud]
00016:         SA2[Sous-Agent Architecture Blockchain]
00017:         SA3[Sous-Agent Architecture Microservices]
00018:         
00019:         SC1[Sous-Agent Backend]
00020:         SC2[Sous-Agent Frontend]
00021:         SC3[Sous-Agent DevOps]
00022:         
00023:         SS1[Sous-Agent Solidity]
00024:         SS2[Sous-Agent Security]
00025:         SS3[Sous-Agent Gas Optimizer]
00026:         SS4[Sous-Agent Formal Verification]
00027:         
00028:         SF1[Sous-Agent React/Next.js]
00029:         SF2[Sous-Agent Web3 Integration]
00030:         
00031:         ST1[Sous-Agent Unit Testing]
00032:         ST2[Sous-Agent Integration Testing]
00033:         ST3[Sous-Agent E2E Testing]
00034:         ST4[Sous-Agent Fuzzing]
00035:     end
00036:     
00037:     subgraph "Niveau 3: Micro-Agents"
00038:         MA1[Micro-Agent Database]
00039:         MA2[Micro-Agent Cache]
00040:         MA3[Micro-Agent API Gateway]
00041:         MA4[Micro-Agent Authentication]
00042:         MA5[Micro-Agent Monitoring]
00043:     end
00044:     
00045:     subgraph "Système de Communication"
00046:         ZMQ[ZeroMQ Message Bus]
00047:         REDIS[Redis Pub/Sub]
00048:         ES[Event System]
00049:     end
00050:     
00051:     A1 --> SA1 & SA2 & SA3
00052:     A2 --> SC1 & SC2 & SC3
00053:     A3 --> SS1 & SS2 & SS3 & SS4
00054:     A7 --> SF1 & SF2
00055:     A9 --> ST1 & ST2 & ST3 & ST4
00056:     
00057:     SA3 --> MA1 & MA2 & MA3 & MA4 & MA5
00058:     
00059:     ZMQ --> A1 & A2 & A3 & A4 & A5 & A6 & A7 & A8 & A9
00060:     ZMQ --> SA1 & SA2 & SA3 & SC1 & SC2 & SC3 & SS1 & SS2 & SS3 & SS4
00061:     ZMQ --> SF1 & SF2 & ST1 & ST2 & ST3 & ST4
00062:     
00063:     classDef mainAgent fill:#e3f2fd
00064:     classDef subAgent fill:#f3e5f5
00065:     classDef microAgent fill:#e8f5e8
00066:     classDef comm fill:#fff3e0
00067:     
00068:     class A1,A2,A3,A4,A5,A6,A7,A8,A9 mainAgent
00069:     class SA1,SA2,SA3,SC1,SC2,SC3,SS1,SS2,SS3,SS4,SF1,SF2,ST1,ST2,ST3,ST4 subAgent
00070:     class MA1,MA2,MA3,MA4,MA5 microAgent
00071:     class ZMQ,REDIS,ES comm

============================================================
FICHIER: agents\architure\.mermaid\V0\Communication entre Agents (ZeroMQ).mermaid
TAILLE: 2.09 KB
============================================================

00001: graph TB
00002:     subgraph "Niveau 1: Agents Principaux (9)"
00003:         A1[Agent Architecte]
00004:         A2[Agent Codeur]
00005:         A3[Agent Smart Contract]
00006:         A4[Agent Communication]
00007:         A5[Agent Documenteur]
00008:         A6[Agent Formal Verification]
00009:         A7[Agent Frontend Web3]
00010:         A8[Agent Quality Metrics]
00011:         A9[Agent Tester]
00012:     end
00013:     
00014:     subgraph "Niveau 2: Sous-Agents Spécialisés (17)"
00015:         SA1[Sous-Agent Architecture Cloud]
00016:         SA2[Sous-Agent Architecture Blockchain]
00017:         SA3[Sous-Agent Architecture Microservices]
00018:         
00019:         SC1[Sous-Agent Backend]
00020:         SC2[Sous-Agent Frontend]
00021:         SC3[Sous-Agent DevOps]
00022:         
00023:         SS1[Sous-Agent Solidity]
00024:         SS2[Sous-Agent Security]
00025:         SS3[Sous-Agent Gas Optimizer]
00026:         SS4[Sous-Agent Formal Verification]
00027:         
00028:         SF1[Sous-Agent React/Next.js]
00029:         SF2[Sous-Agent Web3 Integration]
00030:         
00031:         ST1[Sous-Agent Unit Testing]
00032:         ST2[Sous-Agent Integration Testing]
00033:         ST3[Sous-Agent E2E Testing]
00034:         ST4[Sous-Agent Fuzzing]
00035:     end
00036:     
00037:     subgraph "Niveau 3: Micro-Agents"
00038:         MA1[Micro-Agent Database]
00039:         MA2[Micro-Agent Cache]
00040:         MA3[Micro-Agent API Gateway]
00041:         MA4[Micro-Agent Authentication]
00042:         MA5[Micro-Agent Monitoring]
00043:     end
00044:     
00045:     subgraph "Système de Communication"
00046:         ZMQ[ZeroMQ Message Bus]
00047:         REDIS[Redis Pub/Sub]
00048:         ES[Event System]
00049:     end
00050:     
00051:     A1 --> SA1 & SA2 & SA3
00052:     A2 --> SC1 & SC2 & SC3
00053:     A3 --> SS1 & SS2 & SS3 & SS4
00054:     A7 --> SF1 & SF2
00055:     A9 --> ST1 & ST2 & ST3 & ST4
00056:     
00057:     SA3 --> MA1 & MA2 & MA3 & MA4 & MA5
00058:     
00059:     ZMQ --> A1 & A2 & A3 & A4 & A5 & A6 & A7 & A8 & A9
00060:     ZMQ --> SA1 & SA2 & SA3 & SC1 & SC2 & SC3 & SS1 & SS2 & SS3 & SS4
00061:     ZMQ --> SF1 & SF2 & ST1 & ST2 & ST3 & ST4
00062:     
00063:     classDef mainAgent fill:#e3f2fd
00064:     classDef subAgent fill:#f3e5f5
00065:     classDef microAgent fill:#e8f5e8
00066:     classDef comm fill:#fff3e0
00067:     
00068:     class A1,A2,A3,A4,A5,A6,A7,A8,A9 mainAgent
00069:     class SA1,SA2,SA3,SC1,SC2,SC3,SS1,SS2,SS3,SS4,SF1,SF2,ST1,ST2,ST3,ST4 subAgent
00070:     class MA1,MA2,MA3,MA4,MA5 microAgent
00071:     class ZMQ,REDIS,ES comm

============================================================
FICHIER: SmartContractPipeline\agents\smart_contract\sous_agents\security_expert.ps1
TAILLE: 2.01 KB
============================================================

00001: # agents/smart_contract/sous_agents/security_expert.ps1
00002: Write-Host "Création du Sous-Agent Sécurité Smart Contract..." -ForegroundColor Cyan
00003: 
00004: $securityAgentConfig = @'
00005: # agents/smart_contract/sous_agents/security_config.yaml
00006: sous_agent_id: "security_expert_001"
00007: parent_agent: "smart_contract"
00008: specialization: "Sécurité des Smart Contracts"
00009: model: "ollama:deepseek-coder:6.7b"
00010: temperature: 0.05
00011: 
00012: capabilities:
00013:   vulnerability_detection:
00014:     - "Reentrancy"
00015:     - "Integer Overflow/Underflow"
00016:     - "Access Control Issues"
00017:     - "Unchecked External Calls"
00018:     - "Front Running"
00019:     - "Timestamp Dependence"
00020:   security_tools:
00021:     - "Slither"
00022:     - "Mythril"
00023:     - "Manticore"
00024:     - "Echidna"
00025:     - "Solhint"
00026:   testing_methodologies:
00027:     - "Fuzzing"
00028:     - "Formal Verification"
00029:     - "Symbolic Execution"
00030:     - "Property-Based Testing"
00031:   standards:
00032:     - "SWC Registry"
00033:     - "EIP Standards"
00034:     - "Security Best Practices"
00035: 
00036: tools:
00037:   - name: "vulnerability_scanner"
00038:     type: "security_scanner"
00039:     version: "1.0.0"
00040:     
00041:   - name: "exploit_generator"
00042:     type: "exploit_simulator"
00043:     version: "1.0.0"
00044:     
00045:   - name: "remediation_suggester"
00046:     type: "fix_generator"
00047:     version: "1.0.0"
00048: 
00049: context_requirements:
00050:   contract_complexity: "Complexité du contrat"
00051:   value_at_risk: "Valeur protégée par le contrat"
00052:   attack_vectors: "Vecteurs d'attaque potentiels"
00053:   compliance_requirements: "Exigences de conformité"
00054: 
00055: outputs:
00056:   required:
00057:     - security_audit_report.md
00058:     - vulnerability_assessment.json
00059:     - remediation_plan.md
00060:     - security_test_cases/
00061:   optional:
00062:     - exploit_pocs/
00063:     - formal_verification_proofs/
00064:     - security_monitoring_rules/
00065: 
00066: learning_objectives:
00067:   - "Détecter les nouvelles vulnérabilités"
00068:   - "Générer des exploits de test"
00069:   - "Proposer des correctifs sécurisés"
00070:   - "Améliorer les méthodologies de test"
00071: '@
00072: 
00073: $securityAgentConfig | Out-File -FilePath "$projectPath\agents\smart_contract\sous_agents\security_config.yaml" -Force -Encoding UTF8

============================================================
FICHIER: SmartContractPipeline\agents\architect\config.yaml
TAILLE: 1.98 KB
============================================================

00001: # agents/architect/config.yaml
00002: agent_id: "architect_001"
00003: role: "Software Architect"
00004: model: "ollama:deepseek-coder:6.7b"
00005: temperature: 0.3
00006: 
00007: # Contexte fourni
00008: context:
00009:   sources:
00010:     - "project_data/context/requirements.json"
00011:     - "project_data/context/constraints.json"
00012:     - "project_data/workspace/current_state/"
00013:   limitations:
00014:     - "Budget: Pas de services cloud payants"
00015:     - "Stack: Python, JavaScript, Docker obligatoire"
00016:     - "Performance: < 2s response time"
00017:   obligations:
00018:     - "Documenter toutes les décisions architecturales"
00019:     - "Respecter les patterns microservices"
00020:     - "Intégrer monitoring et logging"
00021: 
00022: # Objectifs
00023: objectives:
00024:   primary: "Produire une architecture scalable et maintenable"
00025:   secondary:
00026:     - "Définir les boundaries des services"
00027:     - "Choisir les technologies appropriées"
00028:     - "Anticiper l'évolution du système"
00029: 
00030: # Spécifications techniques
00031: specs:
00032:   format: "Architecture Decision Records (ADR)"
00033:   sections_requises:
00034:     - "Context and Problem Statement"
00035:     - "Decision Drivers"
00036:     - "Considered Options"
00037:     - "Decision Outcome"
00038:     - "Consequences"
00039: 
00040: # Outils disponibles
00041: tools:
00042:   - name: "diagram_generator"
00043:     type: "mermaid_generator"
00044:     params:
00045:       output_dir: "project_data/docs/architecture/diagrams/"
00046:   
00047:   - name: "tech_evaluator"
00048:     type: "comparison_tool"
00049:     params:
00050:       criteria: ["performance", "cost", "community", "learning_curve"]
00051:   
00052:   - name: "code_analyzer"
00053:     type: "static_analysis"
00054:     params:
00055:       languages: ["python", "javascript", "sql"]
00056: 
00057: # Outputs attendus
00058: outputs:
00059:   required:
00060:     - "architecture_decisions.md"
00061:     - "system_diagram.mmd"
00062:     - "tech_stack.json"
00063:     - "api_spec.yaml"
00064:   optional:
00065:     - "deployment_diagram.mmd"
00066:     - "data_flow_diagram.mmd"
00067:     - "security_considerations.md"
00068: 
00069: # Mémoire et apprentissage
00070: memory:
00071:   vector_store: "project_data/memory/architect_vectors"
00072:   max_context_tokens: 8000
00073:   learning_strategy: "reinforcement_from_feedback"

============================================================
FICHIER: SmartContractPipeline\agents\communication\agent_messaging.py
TAILLE: 1.95 KB
============================================================

00001: # agents/communication/agent_messaging.py
00002: class AgentMessage:
00003:     """Format standardisé des messages entre agents"""
00004:     
00005:     def __init__(self, sender: str, receiver: str, message_type: str):
00006:         self.sender = sender
00007:         self.receiver = receiver
00008:         self.message_type = message_type
00009:         self.timestamp = datetime.now()
00010:         self.message_id = str(uuid.uuid4())
00011:         
00012:     @dataclass
00013:     class Content:
00014:         task_id: str
00015:         context: dict
00016:         payload: Any  # Code, test results, docs, etc.
00017:         dependencies: List[str]
00018:         priority: int = 1
00019:         requires_response: bool = True
00020:         timeout_seconds: int = 300
00021: 
00022: # Types de messages supportés
00023: MESSAGE_TYPES = {
00024:     # Code-related
00025:     "code_review_request": {"from": "coder", "to": "reviewer"},
00026:     "code_review_completed": {"from": "reviewer", "to": "coder"},
00027:     "test_execution_request": {"from": "coder", "to": "tester"},
00028:     "test_results_ready": {"from": "tester", "to": "coder"},
00029:     
00030:     # Documentation
00031:     "doc_generation_request": {"from": "coder", "to": "documenter"},
00032:     "doc_review_needed": {"from": "documenter", "to": "reviewer"},
00033:     
00034:     # Architecture & Planning
00035:     "architecture_approval_needed": {"from": "architect", "to": "orchestrator"},
00036:     "task_completion_notification": {"from": "any", "to": "orchestrator"},
00037:     
00038:     # Quality & Security
00039:     "security_scan_request": {"from": "orchestrator", "to": "security"},
00040:     "quality_gate_failed": {"from": "tester", "to": "orchestrator"},
00041:     
00042:     # Human intervention
00043:     "human_approval_needed": {"from": "any", "to": "human"},
00044:     "blocker_identified": {"from": "any", "to": "orchestrator"},
00045: }
00046: 
00047: # Système de priorité
00048: PRIORITY_LEVELS = {
00049:     "CRITICAL": 1,    # Bloque le pipeline
00050:     "HIGH": 2,        # Nécessite attention immédiate
00051:     "MEDIUM": 3,      # Doit être traité aujourd'hui
00052:     "LOW": 4,         # Peut attendre
00053:     "INFO": 5,        # Notification seulement
00054: }

============================================================
FICHIER: agents\smart_contract\sous_agents\security_expert.ps1
TAILLE: 1.94 KB
============================================================

00001: # agents/smart_contract/sous_agents/security_expert.ps1
00002: Write-Host "Création du Sous-Agent Sécurité Smart Contract..." -ForegroundColor Cyan
00003: 
00004: $securityAgentConfig = @'
00005: # agents/smart_contract/sous_agents/security_config.yaml
00006: sous_agent_id: "security_expert_001"
00007: parent_agent: "smart_contract"
00008: specialization: "Sécurité des Smart Contracts"
00009: model: "ollama:deepseek-coder:6.7b"
00010: temperature: 0.05
00011: 
00012: capabilities:
00013:   vulnerability_detection:
00014:     - "Reentrancy"
00015:     - "Integer Overflow/Underflow"
00016:     - "Access Control Issues"
00017:     - "Unchecked External Calls"
00018:     - "Front Running"
00019:     - "Timestamp Dependence"
00020:   security_tools:
00021:     - "Slither"
00022:     - "Mythril"
00023:     - "Manticore"
00024:     - "Echidna"
00025:     - "Solhint"
00026:   testing_methodologies:
00027:     - "Fuzzing"
00028:     - "Formal Verification"
00029:     - "Symbolic Execution"
00030:     - "Property-Based Testing"
00031:   standards:
00032:     - "SWC Registry"
00033:     - "EIP Standards"
00034:     - "Security Best Practices"
00035: 
00036: tools:
00037:   - name: "vulnerability_scanner"
00038:     type: "security_scanner"
00039:     version: "1.0.0"
00040:     
00041:   - name: "exploit_generator"
00042:     type: "exploit_simulator"
00043:     version: "1.0.0"
00044:     
00045:   - name: "remediation_suggester"
00046:     type: "fix_generator"
00047:     version: "1.0.0"
00048: 
00049: context_requirements:
00050:   contract_complexity: "Complexité du contrat"
00051:   value_at_risk: "Valeur protégée par le contrat"
00052:   attack_vectors: "Vecteurs d'attaque potentiels"
00053:   compliance_requirements: "Exigences de conformité"
00054: 
00055: outputs:
00056:   required:
00057:     - security_audit_report.md
00058:     - vulnerability_assessment.json
00059:     - remediation_plan.md
00060:     - security_test_cases/
00061:   optional:
00062:     - exploit_pocs/
00063:     - formal_verification_proofs/
00064:     - security_monitoring_rules/
00065: 
00066: learning_objectives:
00067:   - "Détecter les nouvelles vulnérabilités"
00068:   - "Générer des exploits de test"
00069:   - "Proposer des correctifs sécurisés"
00070:   - "Améliorer les méthodologies de test"
00071: '@
00072: 
00073: $securityAgentConfig | Out-File -FilePath "$projectPath\agents\smart_contract\sous_agents\security_config.yaml" -Force -Encoding UTF8

============================================================
FICHIER: SmartContractPipeline\agents\architect\sous_agents\microservices_architect.ps1
TAILLE: 1.93 KB
============================================================

00001: # agents/architect/sous_agents/microservices_architect.ps1
00002: Write-Host "Création du Sous-Agent Architecture Microservices..." -ForegroundColor Cyan
00003: 
00004: $microservicesAgentConfig = @'
00005: # agents/architect/sous_agents/microservices_config.yaml
00006: sous_agent_id: "microservices_architect_001"
00007: parent_agent: "architect"
00008: specialization: "Architecture Microservices & Event-Driven"
00009: model: "ollama:llama3.1:8b"
00010: temperature: 0.3
00011: 
00012: capabilities:
00013:   communication_patterns:
00014:     - "Synchronous (REST, gRPC)"
00015:     - "Asynchronous (Message Queues, Event Streaming)"
00016:     - "Event Sourcing"
00017:     - "CQRS"
00018:   service_discovery:
00019:     - "Consul"
00020:     - "Eureka"
00021:     - "Kubernetes DNS"
00022:   api_gateways:
00023:     - "Kong"
00024:     - "Traefik"
00025:     - "NGINX"
00026:   message_brokers:
00027:     - "RabbitMQ"
00028:     - "Kafka"
00029:     - "NATS"
00030:     - "Redis Pub/Sub"
00031: 
00032: tools:
00033:   - name: "service_boundary_designer"
00034:     type: "domain_design"
00035:     version: "1.0.0"
00036:     
00037:   - name: "event_storming_facilitator"
00038:     type: "event_modeling"
00039:     version: "1.0.0"
00040:     
00041:   - name: "resilience_pattern_applier"
00042:     type: "circuit_breaker"
00043:     version: "1.0.0"
00044: 
00045: context_requirements:
00046:   domain_complexity: "Complexité du domaine métier"
00047:   team_structure: "Structure des équipes de développement"
00048:   expected_scale: "Échelle prévue du système"
00049:   data_consistency_needs: "Besoins en cohérence des données"
00050: 
00051: outputs:
00052:   required:
00053:     - bounded_contexts.json
00054:     - event_storming_diagram.mmd
00055:     - api_specifications/
00056:     - service_contracts/
00057:   optional:
00058:     - deployment_pipeline_design.md
00059:     - observability_strategy.md
00060:     - disaster_recovery_plan.md
00061: 
00062: learning_objectives:
00063:   - "Identifier les bounded contexts"
00064:   - "Design des contrats de service"
00065:   - "Implémenter les patterns de résilience"
00066:   - "Optimiser la communication inter-services"
00067: '@
00068: 
00069: $microservicesAgentConfig | Out-File -FilePath "$projectPath\agents\architect\sous_agents\microservices_config.yaml" -Force -Encoding UTF8

============================================================
FICHIER: SmartContractPipeline\agents\smart_contract\sous_agents\gas_optimizer.ps1
TAILLE: 1.92 KB
============================================================

00001: # agents/smart_contract/sous_agents/gas_optimizer.ps1
00002: Write-Host "Création du Sous-Agent Gas Optimizer..." -ForegroundColor Cyan
00003: 
00004: $gasOptimizerConfig = @'
00005: # agents/smart_contract/sous_agents/gas_config.yaml
00006: sous_agent_id: "gas_optimizer_001"
00007: parent_agent: "smart_contract"
00008: specialization: "Optimisation des Coûts de Gas"
00009: model: "ollama:deepseek-coder:6.7b"
00010: temperature: 0.1
00011: 
00012: capabilities:
00013:   optimization_techniques:
00014:     - "Storage Packing"
00015:     - "Memory vs Storage"
00016:     - "Assembly Optimization"
00017:     - "Function Inlining"
00018:     - "Loop Optimization"
00019:     - "Constant Propagation"
00020:   gas_profiling:
00021:     - "Transaction Gas Analysis"
00022:     - "Contract Deployment Gas"
00023:     - "Function Call Gas"
00024:     - "Storage Operation Gas"
00025:   optimization_tools:
00026:     - "Foundry Gas Reports"
00027:     - "Hardhat Gas Reporter"
00028:     - "EVM Opcode Analysis"
00029:     - "Gas Profiling Scripts"
00030: 
00031: tools:
00032:   - name: "gas_profiler"
00033:     type: "gas_analyzer"
00034:     version: "1.0.0"
00035:     
00036:   - name: "optimization_suggester"
00037:     type: "gas_optimization_suggester"
00038:     version: "1.0.0"
00039:     
00040:   - name: "assembly_generator"
00041:     type: "evm_assembly_generator"
00042:     version: "1.0.0"
00043: 
00044: context_requirements:
00045:   contract_size: "Taille actuelle du contrat"
00046:   gas_usage_patterns: "Patterns d'utilisation du gas"
00047:   optimization_targets: "Cibles d'optimisation"
00048:   budget_constraints: "Contraintes budgétaires"
00049: 
00050: outputs:
00051:   required:
00052:     - gas_analysis_report.md
00053:     - optimization_suggestions.json
00054:     - optimized_contract_code.sol
00055:     - gas_savings_calculation.md
00056:   optional:
00057:     - assembly_optimizations/
00058:     - benchmark_results/
00059:     - cost_projection/
00060: 
00061: learning_objectives:
00062:   - "Réduire les coûts de déploiement"
00063:   - "Optimiser les transactions courantes"
00064:   - "Apprendre les techniques d'assembly"
00065:   - "Analyser les opcodes EVM"
00066: '@
00067: 
00068: $gasOptimizerConfig | Out-File -FilePath "$projectPath\agents\smart_contract\sous_agents\gas_config.yaml" -Force -Encoding UTF8

============================================================
FICHIER: agents\architect\config.yaml
TAILLE: 1.91 KB
============================================================

00001: # agents/architect/config.yaml
00002: agent_id: "architect_001"
00003: role: "Software Architect"
00004: model: "ollama:deepseek-coder:6.7b"
00005: temperature: 0.3
00006: 
00007: # Contexte fourni
00008: context:
00009:   sources:
00010:     - "project_data/context/requirements.json"
00011:     - "project_data/context/constraints.json"
00012:     - "project_data/workspace/current_state/"
00013:   limitations:
00014:     - "Budget: Pas de services cloud payants"
00015:     - "Stack: Python, JavaScript, Docker obligatoire"
00016:     - "Performance: < 2s response time"
00017:   obligations:
00018:     - "Documenter toutes les décisions architecturales"
00019:     - "Respecter les patterns microservices"
00020:     - "Intégrer monitoring et logging"
00021: 
00022: # Objectifs
00023: objectives:
00024:   primary: "Produire une architecture scalable et maintenable"
00025:   secondary:
00026:     - "Définir les boundaries des services"
00027:     - "Choisir les technologies appropriées"
00028:     - "Anticiper l'évolution du système"
00029: 
00030: # Spécifications techniques
00031: specs:
00032:   format: "Architecture Decision Records (ADR)"
00033:   sections_requises:
00034:     - "Context and Problem Statement"
00035:     - "Decision Drivers"
00036:     - "Considered Options"
00037:     - "Decision Outcome"
00038:     - "Consequences"
00039: 
00040: # Outils disponibles
00041: tools:
00042:   - name: "diagram_generator"
00043:     type: "mermaid_generator"
00044:     params:
00045:       output_dir: "project_data/docs/architecture/diagrams/"
00046:   
00047:   - name: "tech_evaluator"
00048:     type: "comparison_tool"
00049:     params:
00050:       criteria: ["performance", "cost", "community", "learning_curve"]
00051:   
00052:   - name: "code_analyzer"
00053:     type: "static_analysis"
00054:     params:
00055:       languages: ["python", "javascript", "sql"]
00056: 
00057: # Outputs attendus
00058: outputs:
00059:   required:
00060:     - "architecture_decisions.md"
00061:     - "system_diagram.mmd"
00062:     - "tech_stack.json"
00063:     - "api_spec.yaml"
00064:   optional:
00065:     - "deployment_diagram.mmd"
00066:     - "data_flow_diagram.mmd"
00067:     - "security_considerations.md"
00068: 
00069: # Mémoire et apprentissage
00070: memory:
00071:   vector_store: "project_data/memory/architect_vectors"
00072:   max_context_tokens: 8000
00073:   learning_strategy: "reinforcement_from_feedback"

============================================================
FICHIER: agents\communication\agent_messaging.py
TAILLE: 1.9 KB
============================================================

00001: # agents/communication/agent_messaging.py
00002: class AgentMessage:
00003:     """Format standardisé des messages entre agents"""
00004:     
00005:     def __init__(self, sender: str, receiver: str, message_type: str):
00006:         self.sender = sender
00007:         self.receiver = receiver
00008:         self.message_type = message_type
00009:         self.timestamp = datetime.now()
00010:         self.message_id = str(uuid.uuid4())
00011:         
00012:     @dataclass
00013:     class Content:
00014:         task_id: str
00015:         context: dict
00016:         payload: Any  # Code, test results, docs, etc.
00017:         dependencies: List[str]
00018:         priority: int = 1
00019:         requires_response: bool = True
00020:         timeout_seconds: int = 300
00021: 
00022: # Types de messages supportés
00023: MESSAGE_TYPES = {
00024:     # Code-related
00025:     "code_review_request": {"from": "coder", "to": "reviewer"},
00026:     "code_review_completed": {"from": "reviewer", "to": "coder"},
00027:     "test_execution_request": {"from": "coder", "to": "tester"},
00028:     "test_results_ready": {"from": "tester", "to": "coder"},
00029:     
00030:     # Documentation
00031:     "doc_generation_request": {"from": "coder", "to": "documenter"},
00032:     "doc_review_needed": {"from": "documenter", "to": "reviewer"},
00033:     
00034:     # Architecture & Planning
00035:     "architecture_approval_needed": {"from": "architect", "to": "orchestrator"},
00036:     "task_completion_notification": {"from": "any", "to": "orchestrator"},
00037:     
00038:     # Quality & Security
00039:     "security_scan_request": {"from": "orchestrator", "to": "security"},
00040:     "quality_gate_failed": {"from": "tester", "to": "orchestrator"},
00041:     
00042:     # Human intervention
00043:     "human_approval_needed": {"from": "any", "to": "human"},
00044:     "blocker_identified": {"from": "any", "to": "orchestrator"},
00045: }
00046: 
00047: # Système de priorité
00048: PRIORITY_LEVELS = {
00049:     "CRITICAL": 1,    # Bloque le pipeline
00050:     "HIGH": 2,        # Nécessite attention immédiate
00051:     "MEDIUM": 3,      # Doit être traité aujourd'hui
00052:     "LOW": 4,         # Peut attendre
00053:     "INFO": 5,        # Notification seulement
00054: }

============================================================
FICHIER: SmartContractPipeline\agents\architect\sous_agents\blockchain_architect.ps1
TAILLE: 1.89 KB
============================================================

00001: # agents/architect/sous_agents/blockchain_architect.ps1
00002: Write-Host "Création du Sous-Agent Architecture Blockchain..." -ForegroundColor Cyan
00003: 
00004: $blockchainAgentConfig = @'
00005: # agents/architect/sous_agents/blockchain_config.yaml
00006: sous_agent_id: "blockchain_architect_001"
00007: parent_agent: "architect"
00008: specialization: "Architecture Blockchain & Web3"
00009: model: "ollama:deepseek-coder:6.7b"
00010: temperature: 0.2
00011: 
00012: capabilities:
00013:   blockchain_platforms:
00014:     - "Ethereum (EVM)"
00015:     - "Polygon"
00016:     - "Arbitrum"
00017:     - "Optimism"
00018:     - "Solana"
00019:     - "Avalanche"
00020:   consensus_mechanisms:
00021:     - "Proof of Stake"
00022:     - "Proof of Work"
00023:     - "Proof of Authority"
00024:   scaling_solutions:
00025:     - "Layer 2 (Rollups)"
00026:     - "Sidechains"
00027:     - "State Channels"
00028:     - "Plasma"
00029:   storage_solutions:
00030:     - "IPFS"
00031:     - "Arweave"
00032:     - "Filecoin"
00033:     - "Ceramic"
00034: 
00035: tools:
00036:   - name: "smart_contract_analyzer"
00037:     type: "contract_architecture"
00038:     version: "1.0.0"
00039:     
00040:   - name: "gas_optimizer"
00041:     type: "gas_analysis"
00042:     version: "1.0.0"
00043:     
00044:   - name: "network_selector"
00045:     type: "blockchain_selector"
00046:     version: "1.0.0"
00047: 
00048: context_requirements:
00049:   transaction_volume: "TPS requis"
00050:   security_level: "Niveau de sécurité nécessaire"
00051:   decentralization_level: "Degré de décentralisation"
00052:   token_economics: "Économie de tokens"
00053: 
00054: outputs:
00055:   required:
00056:     - blockchain_architecture_diagram.mmd
00057:     - network_selection_report.md
00058:     - smart_contract_architecture.md
00059:     - gas_optimization_plan.md
00060:   optional:
00061:     - tokenomics_model.json
00062:     - governance_structure.md
00063:     - upgradeability_plan.md
00064: 
00065: learning_objectives:
00066:   - "Optimiser les coûts de gas"
00067:   - "Améliorer la scalabilité"
00068:   - "Renforcer la sécurité on-chain"
00069:   - "Design des mécanismes de gouvernance"
00070: '@
00071: 
00072: $blockchainAgentConfig | Out-File -FilePath "$projectPath\agents\architect\sous_agents\blockchain_config.yaml" -Force -Encoding UTF8

============================================================
FICHIER: agents\architect\sous_agents\microservices_architect.ps1
TAILLE: 1.86 KB
============================================================

00001: # agents/architect/sous_agents/microservices_architect.ps1
00002: Write-Host "Création du Sous-Agent Architecture Microservices..." -ForegroundColor Cyan
00003: 
00004: $microservicesAgentConfig = @'
00005: # agents/architect/sous_agents/microservices_config.yaml
00006: sous_agent_id: "microservices_architect_001"
00007: parent_agent: "architect"
00008: specialization: "Architecture Microservices & Event-Driven"
00009: model: "ollama:llama3.1:8b"
00010: temperature: 0.3
00011: 
00012: capabilities:
00013:   communication_patterns:
00014:     - "Synchronous (REST, gRPC)"
00015:     - "Asynchronous (Message Queues, Event Streaming)"
00016:     - "Event Sourcing"
00017:     - "CQRS"
00018:   service_discovery:
00019:     - "Consul"
00020:     - "Eureka"
00021:     - "Kubernetes DNS"
00022:   api_gateways:
00023:     - "Kong"
00024:     - "Traefik"
00025:     - "NGINX"
00026:   message_brokers:
00027:     - "RabbitMQ"
00028:     - "Kafka"
00029:     - "NATS"
00030:     - "Redis Pub/Sub"
00031: 
00032: tools:
00033:   - name: "service_boundary_designer"
00034:     type: "domain_design"
00035:     version: "1.0.0"
00036:     
00037:   - name: "event_storming_facilitator"
00038:     type: "event_modeling"
00039:     version: "1.0.0"
00040:     
00041:   - name: "resilience_pattern_applier"
00042:     type: "circuit_breaker"
00043:     version: "1.0.0"
00044: 
00045: context_requirements:
00046:   domain_complexity: "Complexité du domaine métier"
00047:   team_structure: "Structure des équipes de développement"
00048:   expected_scale: "Échelle prévue du système"
00049:   data_consistency_needs: "Besoins en cohérence des données"
00050: 
00051: outputs:
00052:   required:
00053:     - bounded_contexts.json
00054:     - event_storming_diagram.mmd
00055:     - api_specifications/
00056:     - service_contracts/
00057:   optional:
00058:     - deployment_pipeline_design.md
00059:     - observability_strategy.md
00060:     - disaster_recovery_plan.md
00061: 
00062: learning_objectives:
00063:   - "Identifier les bounded contexts"
00064:   - "Design des contrats de service"
00065:   - "Implémenter les patterns de résilience"
00066:   - "Optimiser la communication inter-services"
00067: '@
00068: 
00069: $microservicesAgentConfig | Out-File -FilePath "$projectPath\agents\architect\sous_agents\microservices_config.yaml" -Force -Encoding UTF8

============================================================
FICHIER: SmartContractPipeline\agents\frontend_web3\sous_agents\web3_integration.ps1
TAILLE: 1.86 KB
============================================================

00001: # agents/frontend_web3/sous_agents/web3_integration.ps1
00002: Write-Host "Création du Sous-Agent Web3 Integration..." -ForegroundColor Cyan
00003: 
00004: $web3IntegrationConfig = @'
00005: # agents/frontend_web3/sous_agents/web3_integration_config.yaml
00006: sous_agent_id: "web3_integration_001"
00007: parent_agent: "frontend_web3"
00008: specialization: "Intégration Web3 & Wallet"
00009: model: "ollama:deepseek-coder:6.7b"
00010: temperature: 0.2
00011: 
00012: capabilities:
00013:   web3_libraries:
00014:     - "wagmi"
00015:     - "viem"
00016:     - "ethers.js"
00017:     - "web3.js"
00018:   wallet_integration:
00019:     - "MetaMask"
00020:     - "WalletConnect"
00021:     - "Coinbase Wallet"
00022:     - "RainbowKit"
00023:   contract_interaction:
00024:     - "ABI Integration"
00025:     - "Event Listening"
00026:     - "Transaction Building"
00027:     - "Error Handling"
00028:   network_management:
00029:     - "Multi-Chain Support"
00030:     - "Network Switching"
00031:     - "RPC Management"
00032:     - "Chain Agnostic Design"
00033: 
00034: tools:
00035:   - name: "hook_generator"
00036:     type: "web3_hook_generator"
00037:     version: "1.0.0"
00038:     
00039:   - name: "provider_setup"
00040:     type: "web3_provider_setup"
00041:     version: "1.0.0"
00042:     
00043:   - name: "transaction_builder"
00044:     type: "tx_builder"
00045:     version: "1.0.0"
00046: 
00047: context_requirements:
00048:   supported_chains: "Chains supportées"
00049:   wallet_requirements: "Exigences wallet"
00050:   contract_interactions: "Interactions avec les contrats"
00051:   user_experience: "Expérience utilisateur visée"
00052: 
00053: outputs:
00054:   required:
00055:     - web3_providers/
00056:     - custom_hooks/
00057:     - transaction_handlers/
00058:     - wallet_connectors/
00059:   optional:
00060:     - multi_chain_support/
00061:     - transaction_monitoring/
00062:     - gas_estimation/
00063: 
00064: learning_objectives:
00065:   - "Gérer les connexions wallet"
00066:   - "Construire des transactions"
00067:   - "Gérer les erreurs Web3"
00068:   - "Optimiser l'expérience utilisateur"
00069: '@
00070: 
00071: $web3IntegrationConfig | Out-File -FilePath "$projectPath\agents\frontend_web3\sous_agents\web3_integration_config.yaml" -Force -Encoding UTF8

============================================================
FICHIER: agents\smart_contract\sous_agents\gas_optimizer.ps1
TAILLE: 1.86 KB
============================================================

00001: # agents/smart_contract/sous_agents/gas_optimizer.ps1
00002: Write-Host "Création du Sous-Agent Gas Optimizer..." -ForegroundColor Cyan
00003: 
00004: $gasOptimizerConfig = @'
00005: # agents/smart_contract/sous_agents/gas_config.yaml
00006: sous_agent_id: "gas_optimizer_001"
00007: parent_agent: "smart_contract"
00008: specialization: "Optimisation des Coûts de Gas"
00009: model: "ollama:deepseek-coder:6.7b"
00010: temperature: 0.1
00011: 
00012: capabilities:
00013:   optimization_techniques:
00014:     - "Storage Packing"
00015:     - "Memory vs Storage"
00016:     - "Assembly Optimization"
00017:     - "Function Inlining"
00018:     - "Loop Optimization"
00019:     - "Constant Propagation"
00020:   gas_profiling:
00021:     - "Transaction Gas Analysis"
00022:     - "Contract Deployment Gas"
00023:     - "Function Call Gas"
00024:     - "Storage Operation Gas"
00025:   optimization_tools:
00026:     - "Foundry Gas Reports"
00027:     - "Hardhat Gas Reporter"
00028:     - "EVM Opcode Analysis"
00029:     - "Gas Profiling Scripts"
00030: 
00031: tools:
00032:   - name: "gas_profiler"
00033:     type: "gas_analyzer"
00034:     version: "1.0.0"
00035:     
00036:   - name: "optimization_suggester"
00037:     type: "gas_optimization_suggester"
00038:     version: "1.0.0"
00039:     
00040:   - name: "assembly_generator"
00041:     type: "evm_assembly_generator"
00042:     version: "1.0.0"
00043: 
00044: context_requirements:
00045:   contract_size: "Taille actuelle du contrat"
00046:   gas_usage_patterns: "Patterns d'utilisation du gas"
00047:   optimization_targets: "Cibles d'optimisation"
00048:   budget_constraints: "Contraintes budgétaires"
00049: 
00050: outputs:
00051:   required:
00052:     - gas_analysis_report.md
00053:     - optimization_suggestions.json
00054:     - optimized_contract_code.sol
00055:     - gas_savings_calculation.md
00056:   optional:
00057:     - assembly_optimizations/
00058:     - benchmark_results/
00059:     - cost_projection/
00060: 
00061: learning_objectives:
00062:   - "Réduire les coûts de déploiement"
00063:   - "Optimiser les transactions courantes"
00064:   - "Apprendre les techniques d'assembly"
00065:   - "Analyser les opcodes EVM"
00066: '@
00067: 
00068: $gasOptimizerConfig | Out-File -FilePath "$projectPath\agents\smart_contract\sous_agents\gas_config.yaml" -Force -Encoding UTF8

============================================================
FICHIER: SmartContractPipeline\agents\frontend_web3\sous_agents\react_expert.ps1
TAILLE: 1.83 KB
============================================================

00001: # agents/frontend_web3/sous_agents/react_expert.ps1
00002: Write-Host "Création du Sous-Agent React/Next.js..." -ForegroundColor Cyan
00003: 
00004: $reactAgentConfig = @'
00005: # agents/frontend_web3/sous_agents/react_config.yaml
00006: sous_agent_id: "react_expert_001"
00007: parent_agent: "frontend_web3"
00008: specialization: "Développement React/Next.js Avancé"
00009: model: "ollama:deepseek-coder:6.7b"
00010: temperature: 0.3
00011: 
00012: capabilities:
00013:   react_features:
00014:     - "React 18 (Concurrent Features)"
00015:     - "Server Components"
00016:     - "Server Actions"
00017:     - "Suspense & Streaming"
00018:   nextjs_features:
00019:     - "App Router"
00020:     - "Server-Side Rendering"
00021:     - "Static Site Generation"
00022:     - "Incremental Static Regeneration"
00023:   performance:
00024:     - "Code Splitting"
00025:     - "Lazy Loading"
00026:     - "Image Optimization"
00027:     - "Bundle Optimization"
00028:   state_management:
00029:     - "React Context"
00030:     - "Zustand"
00031:     - "Redux Toolkit"
00032:     - "React Query"
00033: 
00034: tools:
00035:   - name: "component_generator"
00036:     type: "react_component_generator"
00037:     version: "1.0.0"
00038:     
00039:   - name: "page_generator"
00040:     type: "nextjs_page_generator"
00041:     version: "1.0.0"
00042:     
00043:   - name: "performance_optimizer"
00044:     type: "react_performance_optimizer"
00045:     version: "1.0.0"
00046: 
00047: context_requirements:
00048:   project_scale: "Échelle du projet"
00049:   seo_requirements: "Exigences SEO"
00050:   performance_targets: "Cibles de performance"
00051:   accessibility_requirements: "Exigences d'accessibilité"
00052: 
00053: outputs:
00054:   required:
00055:     - components/
00056:     - pages/
00057:     - hooks/
00058:     - utils/
00059:   optional:
00060:     - middleware/
00061:     - api_routes/
00062:     - static_assets/
00063: 
00064: learning_objectives:
00065:   - "Optimiser le Core Web Vitals"
00066:   - "Implémenter le Server Components"
00067:   - "Améliorer le SEO"
00068:   - "Gérer le state efficacement"
00069: '@
00070: 
00071: $reactAgentConfig | Out-File -FilePath "$projectPath\agents\frontend_web3\sous_agents\react_config.yaml" -Force -Encoding UTF8

============================================================
FICHIER: agents\architect\sous_agents\blockchain_architect.ps1
TAILLE: 1.82 KB
============================================================

00001: # agents/architect/sous_agents/blockchain_architect.ps1
00002: Write-Host "Création du Sous-Agent Architecture Blockchain..." -ForegroundColor Cyan
00003: 
00004: $blockchainAgentConfig = @'
00005: # agents/architect/sous_agents/blockchain_config.yaml
00006: sous_agent_id: "blockchain_architect_001"
00007: parent_agent: "architect"
00008: specialization: "Architecture Blockchain & Web3"
00009: model: "ollama:deepseek-coder:6.7b"
00010: temperature: 0.2
00011: 
00012: capabilities:
00013:   blockchain_platforms:
00014:     - "Ethereum (EVM)"
00015:     - "Polygon"
00016:     - "Arbitrum"
00017:     - "Optimism"
00018:     - "Solana"
00019:     - "Avalanche"
00020:   consensus_mechanisms:
00021:     - "Proof of Stake"
00022:     - "Proof of Work"
00023:     - "Proof of Authority"
00024:   scaling_solutions:
00025:     - "Layer 2 (Rollups)"
00026:     - "Sidechains"
00027:     - "State Channels"
00028:     - "Plasma"
00029:   storage_solutions:
00030:     - "IPFS"
00031:     - "Arweave"
00032:     - "Filecoin"
00033:     - "Ceramic"
00034: 
00035: tools:
00036:   - name: "smart_contract_analyzer"
00037:     type: "contract_architecture"
00038:     version: "1.0.0"
00039:     
00040:   - name: "gas_optimizer"
00041:     type: "gas_analysis"
00042:     version: "1.0.0"
00043:     
00044:   - name: "network_selector"
00045:     type: "blockchain_selector"
00046:     version: "1.0.0"
00047: 
00048: context_requirements:
00049:   transaction_volume: "TPS requis"
00050:   security_level: "Niveau de sécurité nécessaire"
00051:   decentralization_level: "Degré de décentralisation"
00052:   token_economics: "Économie de tokens"
00053: 
00054: outputs:
00055:   required:
00056:     - blockchain_architecture_diagram.mmd
00057:     - network_selection_report.md
00058:     - smart_contract_architecture.md
00059:     - gas_optimization_plan.md
00060:   optional:
00061:     - tokenomics_model.json
00062:     - governance_structure.md
00063:     - upgradeability_plan.md
00064: 
00065: learning_objectives:
00066:   - "Optimiser les coûts de gas"
00067:   - "Améliorer la scalabilité"
00068:   - "Renforcer la sécurité on-chain"
00069:   - "Design des mécanismes de gouvernance"
00070: '@
00071: 
00072: $blockchainAgentConfig | Out-File -FilePath "$projectPath\agents\architect\sous_agents\blockchain_config.yaml" -Force -Encoding UTF8

============================================================
FICHIER: agents\frontend_web3\sous_agents\web3_integration.ps1
TAILLE: 1.79 KB
============================================================

00001: # agents/frontend_web3/sous_agents/web3_integration.ps1
00002: Write-Host "Création du Sous-Agent Web3 Integration..." -ForegroundColor Cyan
00003: 
00004: $web3IntegrationConfig = @'
00005: # agents/frontend_web3/sous_agents/web3_integration_config.yaml
00006: sous_agent_id: "web3_integration_001"
00007: parent_agent: "frontend_web3"
00008: specialization: "Intégration Web3 & Wallet"
00009: model: "ollama:deepseek-coder:6.7b"
00010: temperature: 0.2
00011: 
00012: capabilities:
00013:   web3_libraries:
00014:     - "wagmi"
00015:     - "viem"
00016:     - "ethers.js"
00017:     - "web3.js"
00018:   wallet_integration:
00019:     - "MetaMask"
00020:     - "WalletConnect"
00021:     - "Coinbase Wallet"
00022:     - "RainbowKit"
00023:   contract_interaction:
00024:     - "ABI Integration"
00025:     - "Event Listening"
00026:     - "Transaction Building"
00027:     - "Error Handling"
00028:   network_management:
00029:     - "Multi-Chain Support"
00030:     - "Network Switching"
00031:     - "RPC Management"
00032:     - "Chain Agnostic Design"
00033: 
00034: tools:
00035:   - name: "hook_generator"
00036:     type: "web3_hook_generator"
00037:     version: "1.0.0"
00038:     
00039:   - name: "provider_setup"
00040:     type: "web3_provider_setup"
00041:     version: "1.0.0"
00042:     
00043:   - name: "transaction_builder"
00044:     type: "tx_builder"
00045:     version: "1.0.0"
00046: 
00047: context_requirements:
00048:   supported_chains: "Chains supportées"
00049:   wallet_requirements: "Exigences wallet"
00050:   contract_interactions: "Interactions avec les contrats"
00051:   user_experience: "Expérience utilisateur visée"
00052: 
00053: outputs:
00054:   required:
00055:     - web3_providers/
00056:     - custom_hooks/
00057:     - transaction_handlers/
00058:     - wallet_connectors/
00059:   optional:
00060:     - multi_chain_support/
00061:     - transaction_monitoring/
00062:     - gas_estimation/
00063: 
00064: learning_objectives:
00065:   - "Gérer les connexions wallet"
00066:   - "Construire des transactions"
00067:   - "Gérer les erreurs Web3"
00068:   - "Optimiser l'expérience utilisateur"
00069: '@
00070: 
00071: $web3IntegrationConfig | Out-File -FilePath "$projectPath\agents\frontend_web3\sous_agents\web3_integration_config.yaml" -Force -Encoding UTF8

============================================================
FICHIER: SmartContractPipeline\agents\coder\sous_agents\frontend_coder.ps1
TAILLE: 1.78 KB
============================================================

00001: # agents/coder/sous_agents/frontend_coder.ps1
00002: Write-Host "Création du Sous-Agent Code Frontend..." -ForegroundColor Cyan
00003: 
00004: $frontendCoderConfig = @'
00005: # agents/coder/sous_agents/frontend_config.yaml
00006: sous_agent_id: "frontend_coder_001"
00007: parent_agent: "coder"
00008: specialization: "Développement Frontend & UI"
00009: model: "ollama:deepseek-coder:6.7b"
00010: temperature: 0.3
00011: 
00012: capabilities:
00013:   frameworks:
00014:     - "React (Next.js, Remix)"
00015:     - "Vue.js (Nuxt.js)"
00016:     - "Angular"
00017:     - "Svelte (SvelteKit)"
00018:   styling:
00019:     - "Tailwind CSS"
00020:     - "Styled Components"
00021:     - "CSS Modules"
00022:     - "Sass/SCSS"
00023:   state_management:
00024:     - "Redux Toolkit"
00025:     - "Zustand"
00026:     - "MobX"
00027:     - "Context API"
00028:   testing:
00029:     - "Jest"
00030:     - "React Testing Library"
00031:     - "Cypress"
00032:     - "Playwright"
00033: 
00034: tools:
00035:   - name: "component_generator"
00036:     type: "ui_component_generator"
00037:     version: "1.0.0"
00038:     
00039:   - name: "state_manager"
00040:     type: "state_management_designer"
00041:     version: "1.0.0"
00042:     
00043:   - name: "performance_analyzer"
00044:     type: "frontend_performance"
00045:     version: "1.0.0"
00046: 
00047: context_requirements:
00048:   design_system: "Système de design à suivre"
00049:   responsive_requirements: "Exigences responsive"
00050:   accessibility_requirements: "Exigences d'accessibilité"
00051:   browser_support: "Navigateurs à supporter"
00052: 
00053: outputs:
00054:   required:
00055:     - component_library/
00056:     - page_templates/
00057:     - state_management/
00058:     - unit_tests/
00059:   optional:
00060:     - e2e_tests/
00061:     - performance_reports/
00062:     - accessibility_reports/
00063: 
00064: learning_objectives:
00065:   - "Optimiser le bundle size"
00066:   - "Améliorer les Core Web Vitals"
00067:   - "Implémenter l'accessibilité"
00068:   - "Design des composants réutilisables"
00069: '@
00070: 
00071: $frontendCoderConfig | Out-File -FilePath "$projectPath\agents\coder\sous_agents\frontend_config.yaml" -Force -Encoding UTF8

============================================================
FICHIER: SmartContractPipeline\agents\coder\sous_agents\devops_coder.ps1
TAILLE: 1.76 KB
============================================================

00001: # agents/coder/sous_agents/devops_coder.ps1
00002: Write-Host "Création du Sous-Agent DevOps..." -ForegroundColor Cyan
00003: 
00004: $devopsAgentConfig = @'
00005: # agents/coder/sous_agents/devops_config.yaml
00006: sous_agent_id: "devops_coder_001"
00007: parent_agent: "coder"
00008: specialization: "DevOps & Infrastructure as Code"
00009: model: "ollama:llama3.2:3b"
00010: temperature: 0.2
00011: 
00012: capabilities:
00013:   ci_cd:
00014:     - "GitHub Actions"
00015:     - "GitLab CI"
00016:     - "Jenkins"
00017:     - "CircleCI"
00018:   iac_tools:
00019:     - "Terraform"
00020:     - "Pulumi"
00021:     - "CloudFormation"
00022:     - "Ansible"
00023:   containerization:
00024:     - "Docker"
00025:     - "Podman"
00026:     - "Buildah"
00027:   orchestration:
00028:     - "Kubernetes"
00029:     - "Docker Swarm"
00030:     - "Nomad"
00031:   monitoring:
00032:     - "Prometheus"
00033:     - "Grafana"
00034:     - "ELK Stack"
00035:     - "Datadog"
00036: 
00037: tools:
00038:   - name: "pipeline_generator"
00039:     type: "ci_cd_generator"
00040:     version: "1.0.0"
00041:     
00042:   - name: "terraform_generator"
00043:     type: "iac_generator"
00044:     version: "1.0.0"
00045:     
00046:   - name: "monitoring_setup"
00047:     type: "observability_setup"
00048:     version: "1.0.0"
00049: 
00050: context_requirements:
00051:   deployment_targets: "Environnements de déploiement"
00052:   scaling_requirements: "Exigences de scalabilité"
00053:   security_requirements: "Exigences de sécurité"
00054:   compliance_requirements: "Exigences de conformité"
00055: 
00056: outputs:
00057:   required:
00058:     - ci_cd_pipelines/
00059:     - infrastructure_code/
00060:     - docker_configs/
00061:     - monitoring_configs/
00062:   optional:
00063:     - security_scans/
00064:     - backup_strategies/
00065:     - disaster_recovery/
00066: 
00067: learning_objectives:
00068:   - "Automatiser les déploiements"
00069:   - "Optimiser les coûts infrastructure"
00070:   - "Renforcer la sécurité DevOps"
00071:   - "Améliorer l'observabilité"
00072: '@
00073: 
00074: $devopsAgentConfig | Out-File -FilePath "$projectPath\agents\coder\sous_agents\devops_config.yaml" -Force -Encoding UTF8

============================================================
FICHIER: agents\frontend_web3\sous_agents\react_expert.ps1
TAILLE: 1.76 KB
============================================================

00001: # agents/frontend_web3/sous_agents/react_expert.ps1
00002: Write-Host "Création du Sous-Agent React/Next.js..." -ForegroundColor Cyan
00003: 
00004: $reactAgentConfig = @'
00005: # agents/frontend_web3/sous_agents/react_config.yaml
00006: sous_agent_id: "react_expert_001"
00007: parent_agent: "frontend_web3"
00008: specialization: "Développement React/Next.js Avancé"
00009: model: "ollama:deepseek-coder:6.7b"
00010: temperature: 0.3
00011: 
00012: capabilities:
00013:   react_features:
00014:     - "React 18 (Concurrent Features)"
00015:     - "Server Components"
00016:     - "Server Actions"
00017:     - "Suspense & Streaming"
00018:   nextjs_features:
00019:     - "App Router"
00020:     - "Server-Side Rendering"
00021:     - "Static Site Generation"
00022:     - "Incremental Static Regeneration"
00023:   performance:
00024:     - "Code Splitting"
00025:     - "Lazy Loading"
00026:     - "Image Optimization"
00027:     - "Bundle Optimization"
00028:   state_management:
00029:     - "React Context"
00030:     - "Zustand"
00031:     - "Redux Toolkit"
00032:     - "React Query"
00033: 
00034: tools:
00035:   - name: "component_generator"
00036:     type: "react_component_generator"
00037:     version: "1.0.0"
00038:     
00039:   - name: "page_generator"
00040:     type: "nextjs_page_generator"
00041:     version: "1.0.0"
00042:     
00043:   - name: "performance_optimizer"
00044:     type: "react_performance_optimizer"
00045:     version: "1.0.0"
00046: 
00047: context_requirements:
00048:   project_scale: "Échelle du projet"
00049:   seo_requirements: "Exigences SEO"
00050:   performance_targets: "Cibles de performance"
00051:   accessibility_requirements: "Exigences d'accessibilité"
00052: 
00053: outputs:
00054:   required:
00055:     - components/
00056:     - pages/
00057:     - hooks/
00058:     - utils/
00059:   optional:
00060:     - middleware/
00061:     - api_routes/
00062:     - static_assets/
00063: 
00064: learning_objectives:
00065:   - "Optimiser le Core Web Vitals"
00066:   - "Implémenter le Server Components"
00067:   - "Améliorer le SEO"
00068:   - "Gérer le state efficacement"
00069: '@
00070: 
00071: $reactAgentConfig | Out-File -FilePath "$projectPath\agents\frontend_web3\sous_agents\react_config.yaml" -Force -Encoding UTF8

============================================================
FICHIER: SmartContractPipeline\agents\frontend_web3\config.yaml
TAILLE: 1.75 KB
============================================================

00001: # agents/frontend_web3/config.yaml
00002: agent_id: "frontend_web3_001"
00003: specialization: "React/Next.js + Web3 Integration"
00004: model: "ollama:deepseek-coder:6.7b"
00005: temperature: 0.3
00006: 
00007: # Contexte
00008: context:
00009:   frontend_stack:
00010:     framework: "Next.js 14+"
00011:     ui_library: "shadcn/ui + Tailwind"
00012:     state_management: "Zustand + React Query"
00013:   web3_integration:
00014:     libraries: ["wagmi", "viem", "ethers"]
00015:     wallets: ["MetaMask", "WalletConnect", "Coinbase"]
00016:     providers: ["Alchemy", "Infura", "Public RPC"]
00017:   testing:
00018:     frontend: ["Playwright", "Cypress"]
00019:     web3: ["Mock Service Worker", "Anvil"]
00020: 
00021: # Limitations
00022: limitations:
00023:   user_experience:
00024:     - "Mobile-first design"
00025:     - "Wallet connection en < 3s"
00026:     - "Feedback visuel pour chaque transaction"
00027:   security:
00028:     - "Pas de clés privées dans le frontend"
00029:     - "Vérification des réseaux"
00030:     - "Protection contre phishing"
00031:   performance:
00032:     - "LCP < 2.5s"
00033:     - "Bundle size < 200kb initial"
00034:     - "Cache stratégique des données onchain"
00035: 
00036: # Obligations
00037: obligations:
00038:   - "Gérer tous les états de transaction"
00039:   - "Fournir des fallbacks pour RPC défaillants"
00040:   - "Internationalisation complète"
00041:   - "Accessibilité WCAG AA"
00042:   - "Error boundaries partout"
00043: 
00044: # Outils
00045: tools:
00046:   - name: "nextjs_generator"
00047:     type: "component_generator"
00048:     
00049:   - name: "web3_hook_generator"
00050:     type: "custom_hook_generator"
00051:     
00052:   - name: "transaction_builder"
00053:     type: "tx_constructor"
00054:     
00055:   - name: "gas_estimator_frontend"
00056:     type: "gas_price_estimator"
00057:     
00058:   - name: "mock_provider"
00059:     type: "anvil_fork"
00060: 
00061: # Outputs
00062: outputs:
00063:   pages: "app/"
00064:   components: "components/ui & components/web3"
00065:   hooks: "hooks/use*.ts"
00066:   utils: "lib/web3.ts & lib/contracts.ts"
00067:   tests: "e2e/ & __tests__/"

============================================================
FICHIER: agents\coder\sous_agents\frontend_coder.ps1
TAILLE: 1.71 KB
============================================================

00001: # agents/coder/sous_agents/frontend_coder.ps1
00002: Write-Host "Création du Sous-Agent Code Frontend..." -ForegroundColor Cyan
00003: 
00004: $frontendCoderConfig = @'
00005: # agents/coder/sous_agents/frontend_config.yaml
00006: sous_agent_id: "frontend_coder_001"
00007: parent_agent: "coder"
00008: specialization: "Développement Frontend & UI"
00009: model: "ollama:deepseek-coder:6.7b"
00010: temperature: 0.3
00011: 
00012: capabilities:
00013:   frameworks:
00014:     - "React (Next.js, Remix)"
00015:     - "Vue.js (Nuxt.js)"
00016:     - "Angular"
00017:     - "Svelte (SvelteKit)"
00018:   styling:
00019:     - "Tailwind CSS"
00020:     - "Styled Components"
00021:     - "CSS Modules"
00022:     - "Sass/SCSS"
00023:   state_management:
00024:     - "Redux Toolkit"
00025:     - "Zustand"
00026:     - "MobX"
00027:     - "Context API"
00028:   testing:
00029:     - "Jest"
00030:     - "React Testing Library"
00031:     - "Cypress"
00032:     - "Playwright"
00033: 
00034: tools:
00035:   - name: "component_generator"
00036:     type: "ui_component_generator"
00037:     version: "1.0.0"
00038:     
00039:   - name: "state_manager"
00040:     type: "state_management_designer"
00041:     version: "1.0.0"
00042:     
00043:   - name: "performance_analyzer"
00044:     type: "frontend_performance"
00045:     version: "1.0.0"
00046: 
00047: context_requirements:
00048:   design_system: "Système de design à suivre"
00049:   responsive_requirements: "Exigences responsive"
00050:   accessibility_requirements: "Exigences d'accessibilité"
00051:   browser_support: "Navigateurs à supporter"
00052: 
00053: outputs:
00054:   required:
00055:     - component_library/
00056:     - page_templates/
00057:     - state_management/
00058:     - unit_tests/
00059:   optional:
00060:     - e2e_tests/
00061:     - performance_reports/
00062:     - accessibility_reports/
00063: 
00064: learning_objectives:
00065:   - "Optimiser le bundle size"
00066:   - "Améliorer les Core Web Vitals"
00067:   - "Implémenter l'accessibilité"
00068:   - "Design des composants réutilisables"
00069: '@
00070: 
00071: $frontendCoderConfig | Out-File -FilePath "$projectPath\agents\coder\sous_agents\frontend_config.yaml" -Force -Encoding UTF8

============================================================
FICHIER: agents\coder\sous_agents\devops_coder.ps1
TAILLE: 1.69 KB
============================================================

00001: # agents/coder/sous_agents/devops_coder.ps1
00002: Write-Host "Création du Sous-Agent DevOps..." -ForegroundColor Cyan
00003: 
00004: $devopsAgentConfig = @'
00005: # agents/coder/sous_agents/devops_config.yaml
00006: sous_agent_id: "devops_coder_001"
00007: parent_agent: "coder"
00008: specialization: "DevOps & Infrastructure as Code"
00009: model: "ollama:llama3.2:3b"
00010: temperature: 0.2
00011: 
00012: capabilities:
00013:   ci_cd:
00014:     - "GitHub Actions"
00015:     - "GitLab CI"
00016:     - "Jenkins"
00017:     - "CircleCI"
00018:   iac_tools:
00019:     - "Terraform"
00020:     - "Pulumi"
00021:     - "CloudFormation"
00022:     - "Ansible"
00023:   containerization:
00024:     - "Docker"
00025:     - "Podman"
00026:     - "Buildah"
00027:   orchestration:
00028:     - "Kubernetes"
00029:     - "Docker Swarm"
00030:     - "Nomad"
00031:   monitoring:
00032:     - "Prometheus"
00033:     - "Grafana"
00034:     - "ELK Stack"
00035:     - "Datadog"
00036: 
00037: tools:
00038:   - name: "pipeline_generator"
00039:     type: "ci_cd_generator"
00040:     version: "1.0.0"
00041:     
00042:   - name: "terraform_generator"
00043:     type: "iac_generator"
00044:     version: "1.0.0"
00045:     
00046:   - name: "monitoring_setup"
00047:     type: "observability_setup"
00048:     version: "1.0.0"
00049: 
00050: context_requirements:
00051:   deployment_targets: "Environnements de déploiement"
00052:   scaling_requirements: "Exigences de scalabilité"
00053:   security_requirements: "Exigences de sécurité"
00054:   compliance_requirements: "Exigences de conformité"
00055: 
00056: outputs:
00057:   required:
00058:     - ci_cd_pipelines/
00059:     - infrastructure_code/
00060:     - docker_configs/
00061:     - monitoring_configs/
00062:   optional:
00063:     - security_scans/
00064:     - backup_strategies/
00065:     - disaster_recovery/
00066: 
00067: learning_objectives:
00068:   - "Automatiser les déploiements"
00069:   - "Optimiser les coûts infrastructure"
00070:   - "Renforcer la sécurité DevOps"
00071:   - "Améliorer l'observabilité"
00072: '@
00073: 
00074: $devopsAgentConfig | Out-File -FilePath "$projectPath\agents\coder\sous_agents\devops_config.yaml" -Force -Encoding UTF8

============================================================
FICHIER: agents\frontend_web3\config.yaml
TAILLE: 1.69 KB
============================================================

00001: # agents/frontend_web3/config.yaml
00002: agent_id: "frontend_web3_001"
00003: specialization: "React/Next.js + Web3 Integration"
00004: model: "ollama:deepseek-coder:6.7b"
00005: temperature: 0.3
00006: 
00007: # Contexte
00008: context:
00009:   frontend_stack:
00010:     framework: "Next.js 14+"
00011:     ui_library: "shadcn/ui + Tailwind"
00012:     state_management: "Zustand + React Query"
00013:   web3_integration:
00014:     libraries: ["wagmi", "viem", "ethers"]
00015:     wallets: ["MetaMask", "WalletConnect", "Coinbase"]
00016:     providers: ["Alchemy", "Infura", "Public RPC"]
00017:   testing:
00018:     frontend: ["Playwright", "Cypress"]
00019:     web3: ["Mock Service Worker", "Anvil"]
00020: 
00021: # Limitations
00022: limitations:
00023:   user_experience:
00024:     - "Mobile-first design"
00025:     - "Wallet connection en < 3s"
00026:     - "Feedback visuel pour chaque transaction"
00027:   security:
00028:     - "Pas de clés privées dans le frontend"
00029:     - "Vérification des réseaux"
00030:     - "Protection contre phishing"
00031:   performance:
00032:     - "LCP < 2.5s"
00033:     - "Bundle size < 200kb initial"
00034:     - "Cache stratégique des données onchain"
00035: 
00036: # Obligations
00037: obligations:
00038:   - "Gérer tous les états de transaction"
00039:   - "Fournir des fallbacks pour RPC défaillants"
00040:   - "Internationalisation complète"
00041:   - "Accessibilité WCAG AA"
00042:   - "Error boundaries partout"
00043: 
00044: # Outils
00045: tools:
00046:   - name: "nextjs_generator"
00047:     type: "component_generator"
00048:     
00049:   - name: "web3_hook_generator"
00050:     type: "custom_hook_generator"
00051:     
00052:   - name: "transaction_builder"
00053:     type: "tx_constructor"
00054:     
00055:   - name: "gas_estimator_frontend"
00056:     type: "gas_price_estimator"
00057:     
00058:   - name: "mock_provider"
00059:     type: "anvil_fork"
00060: 
00061: # Outputs
00062: outputs:
00063:   pages: "app/"
00064:   components: "components/ui & components/web3"
00065:   hooks: "hooks/use*.ts"
00066:   utils: "lib/web3.ts & lib/contracts.ts"
00067:   tests: "e2e/ & __tests__/"

============================================================
FICHIER: SmartContractPipeline\agents\tester\sous_agents\unit_tester.ps1
TAILLE: 1.68 KB
============================================================

00001: # agents/tester/sous_agents/unit_tester.ps1
00002: Write-Host "Création du Sous-Agent Test Unitaires..." -ForegroundColor Cyan
00003: 
00004: $unitTesterConfig = @'
00005: # agents/tester/sous_agents/unit_test_config.yaml
00006: sous_agent_id: "unit_tester_001"
00007: parent_agent: "tester"
00008: specialization: "Tests Unitaires & Coverage"
00009: model: "ollama:qwen2.5:7b"
00010: temperature: 0.3
00011: 
00012: capabilities:
00013:   testing_frameworks:
00014:     - "pytest (Python)"
00015:     - "Jest (JavaScript)"
00016:     - "Mocha/Chai (JavaScript)"
00017:     - "Foundry Test (Solidity)"
00018:   mocking:
00019:     - "unittest.mock (Python)"
00020:     - "Jest Mock (JavaScript)"
00021:     - "Mockito (Java)"
00022:   coverage_tools:
00023:     - "coverage.py"
00024:     - "Istanbul"
00025:     - "lcov"
00026:   assertion_libraries:
00027:     - "assert"
00028:     - "chai"
00029:     - "assertpy"
00030: 
00031: tools:
00032:   - name: "test_generator"
00033:     type: "unit_test_generator"
00034:     version: "1.0.0"
00035:     
00036:   - name: "coverage_analyzer"
00037:     type: "coverage_analyzer"
00038:     version: "1.0.0"
00039:     
00040:   - name: "mock_generator"
00041:     type: "mock_generator"
00042:     version: "1.0.0"
00043: 
00044: context_requirements:
00045:   codebase_language: "Langage du codebase"
00046:   complexity_level: "Niveau de complexité"
00047:   coverage_target: "Cible de couverture"
00048:   testing_strategy: "Stratégie de test"
00049: 
00050: outputs:
00051:   required:
00052:     - unit_tests/
00053:     - coverage_report/
00054:     - test_results.json
00055:     - mock_objects/
00056:   optional:
00057:     - benchmark_tests/
00058:     - performance_tests/
00059:     - integration_tests/
00060: 
00061: learning_objectives:
00062:   - "Augmenter la couverture de tests"
00063:   - "Générer des mocks efficaces"
00064:   - "Détecter les edge cases"
00065:   - "Optimiser l'exécution des tests"
00066: '@
00067: 
00068: $unitTesterConfig | Out-File -FilePath "$projectPath\agents\tester\sous_agents\unit_test_config.yaml" -Force -Encoding UTF8

============================================================
FICHIER: SmartContractPipeline\agents\fuzzing_simulation\config.yaml
TAILLE: 1.62 KB
============================================================

00001: # agents/fuzzing_simulation/config.yaml
00002: agent_id: "fuzzing_master_001"
00003: specialization: "Advanced Fuzzing & Multi-Chain Simulation"
00004: model: "ollama:llama3.1:8b"  # Bon pour la génération de scénarios
00005: temperature: 0.7  # Créatif pour générer des edge cases
00006: 
00007: # Contexte
00008: context:
00009:   fuzzing_strategies:
00010:     - "Generation-based fuzzing"
00011:     - "Mutation-based fuzzing"
00012:     - "Coverage-guided fuzzing"
00013:   simulation_environments:
00014:     - "Mainnet fork"
00015:     - "Testnet simulation"
00016:     - "Custom EVM instance"
00017: 
00018: # Objectifs de fuzzing
00019: fuzzing_targets:
00020:   input_validation: "Tous les inputs"
00021:   state_transitions: "Tous les états possibles"
00022:   edge_cases:
00023:     - "Boundary values"
00024:     - "Overflows"
00025:     - "Reentrancy scenarios"
00026:     - "Front-running simulations"
00027: 
00028: # Processus
00029: process:
00030:   1: "Analyse statique pour identifier les points d'entrée"
00031:   2: "Génération de seeds intelligents"
00032:   3: "Exécution avec instrumentation"
00033:   4: "Mutation basée sur la couverture"
00034:   5: "Tri des crashs et anomalies"
00035: 
00036: # Outils
00037: tools:
00038:   - name: "foundry_fuzzer"
00039:     type: "forge_fuzz"
00040:     params:
00041:       runs: 10000
00042:       depth: 30
00043:     
00044:   - name: "echidna_runner"
00045:     type: "property_based_fuzzing"
00046:     
00047:   - name: "multi_chain_simulator"
00048:     type: "anvil_fork_manager"
00049:     params:
00050:       chains: ["mainnet", "arbitrum", "optimism"]
00051:     
00052:   - name: "coverage_analyzer"
00053:     type: "branch_coverage"
00054:     
00055:   - name: "scenario_generator"
00056:     type: "edge_case_generator"
00057: 
00058: # Outputs
00059: outputs:
00060:   fuzzing_reports: "fuzz_reports/"
00061:   discovered_bugs: "bugs/fuzzing/"
00062:   coverage_data: "coverage/fuzzing.json"
00063:   test_cases: "test_cases/generated/"

============================================================
FICHIER: agents\tester\sous_agents\unit_tester.ps1
TAILLE: 1.62 KB
============================================================

00001: # agents/tester/sous_agents/unit_tester.ps1
00002: Write-Host "Création du Sous-Agent Test Unitaires..." -ForegroundColor Cyan
00003: 
00004: $unitTesterConfig = @'
00005: # agents/tester/sous_agents/unit_test_config.yaml
00006: sous_agent_id: "unit_tester_001"
00007: parent_agent: "tester"
00008: specialization: "Tests Unitaires & Coverage"
00009: model: "ollama:qwen2.5:7b"
00010: temperature: 0.3
00011: 
00012: capabilities:
00013:   testing_frameworks:
00014:     - "pytest (Python)"
00015:     - "Jest (JavaScript)"
00016:     - "Mocha/Chai (JavaScript)"
00017:     - "Foundry Test (Solidity)"
00018:   mocking:
00019:     - "unittest.mock (Python)"
00020:     - "Jest Mock (JavaScript)"
00021:     - "Mockito (Java)"
00022:   coverage_tools:
00023:     - "coverage.py"
00024:     - "Istanbul"
00025:     - "lcov"
00026:   assertion_libraries:
00027:     - "assert"
00028:     - "chai"
00029:     - "assertpy"
00030: 
00031: tools:
00032:   - name: "test_generator"
00033:     type: "unit_test_generator"
00034:     version: "1.0.0"
00035:     
00036:   - name: "coverage_analyzer"
00037:     type: "coverage_analyzer"
00038:     version: "1.0.0"
00039:     
00040:   - name: "mock_generator"
00041:     type: "mock_generator"
00042:     version: "1.0.0"
00043: 
00044: context_requirements:
00045:   codebase_language: "Langage du codebase"
00046:   complexity_level: "Niveau de complexité"
00047:   coverage_target: "Cible de couverture"
00048:   testing_strategy: "Stratégie de test"
00049: 
00050: outputs:
00051:   required:
00052:     - unit_tests/
00053:     - coverage_report/
00054:     - test_results.json
00055:     - mock_objects/
00056:   optional:
00057:     - benchmark_tests/
00058:     - performance_tests/
00059:     - integration_tests/
00060: 
00061: learning_objectives:
00062:   - "Augmenter la couverture de tests"
00063:   - "Générer des mocks efficaces"
00064:   - "Détecter les edge cases"
00065:   - "Optimiser l'exécution des tests"
00066: '@
00067: 
00068: $unitTesterConfig | Out-File -FilePath "$projectPath\agents\tester\sous_agents\unit_test_config.yaml" -Force -Encoding UTF8

============================================================
FICHIER: SmartContractPipeline\agents\architure\.mermaid\Architecture Mise à Jour avec Phases de Déploiement.mermaid
TAILLE: 1.6 KB
============================================================

00001: graph TB
00002:     subgraph "Phase 0: Prérequis"
00003:         P0A[Installation<br/>Ollama]
00004:         P0B[Installation<br/>Node.js/Python]
00005:         P0C[Configuration<br/>Blockchain Tools]
00006:         P0D[Clonage<br/>Repository]
00007:     end
00008:     
00009:     subgraph "Phase 1: Setup Local"
00010:         P1A[Initialisation<br/>Projet]
00011:         P1B[Déploiement<br/>Agents IA]
00012:         P1C[Configuration<br/>Mémoire]
00013:         P1D[Tests<br/>Système]
00014:     end
00015:     
00016:     subgraph "Phase 2: Pipeline Dev"
00017:         P2A[Spécifications<br/>Formelles]
00018:         P2B[Génération<br/>Smart Contracts]
00019:         P2C[Vérification<br/>& Fuzzing]
00020:         P2D[Génération<br/>Frontend]
00021:     end
00022:     
00023:     subgraph "Phase 3: Déploiement"
00024:         P3A[Build<br/>& Optimisation]
00025:         P3B[Tests<br/>Multi-Chaîne]
00026:         P3C[Déploiement<br/>Smart Contracts]
00027:         P3D[Déploiement<br/>Frontend]
00028:     end
00029:     
00030:     subgraph "Phase 4: Monitoring"
00031:         P4A[Monitoring<br/>Sécurité]
00032:         P4B[Analytics<br/>Performance]
00033:         P4C[Alertes<br/>Automatiques]
00034:         P4D[Retro<br/>& Amélioration]
00035:     end
00036:     
00037:     P0A --> P0B --> P0C --> P0D
00038:     P0D --> P1A --> P1B --> P1C --> P1D
00039:     P1D --> P2A --> P2B --> P2C --> P2D
00040:     P2D --> P3A --> P3B --> P3C --> P3D
00041:     P3D --> P4A --> P4B --> P4C --> P4D
00042:     
00043:     classDef prerequis fill:#f3e5f5
00044:     classDef setup fill:#e8f5e8
00045:     classDef dev fill:#fff3e0
00046:     classDef deploy fill:#fce4ec
00047:     classDef monitor fill:#e3f2fd
00048:     
00049:     class P0A,P0B,P0C,P0D prerequis
00050:     class P1A,P1B,P1C,P1D setup
00051:     class P2A,P2B,P2C,P2D dev
00052:     class P3A,P3B,P3C,P3D deploy
00053:     class P4A,P4B,P4C,P4D monitor

============================================================
FICHIER: agents\fuzzing_simulation\config.yaml
TAILLE: 1.56 KB
============================================================

00001: # agents/fuzzing_simulation/config.yaml
00002: agent_id: "fuzzing_master_001"
00003: specialization: "Advanced Fuzzing & Multi-Chain Simulation"
00004: model: "ollama:llama3.1:8b"  # Bon pour la génération de scénarios
00005: temperature: 0.7  # Créatif pour générer des edge cases
00006: 
00007: # Contexte
00008: context:
00009:   fuzzing_strategies:
00010:     - "Generation-based fuzzing"
00011:     - "Mutation-based fuzzing"
00012:     - "Coverage-guided fuzzing"
00013:   simulation_environments:
00014:     - "Mainnet fork"
00015:     - "Testnet simulation"
00016:     - "Custom EVM instance"
00017: 
00018: # Objectifs de fuzzing
00019: fuzzing_targets:
00020:   input_validation: "Tous les inputs"
00021:   state_transitions: "Tous les états possibles"
00022:   edge_cases:
00023:     - "Boundary values"
00024:     - "Overflows"
00025:     - "Reentrancy scenarios"
00026:     - "Front-running simulations"
00027: 
00028: # Processus
00029: process:
00030:   1: "Analyse statique pour identifier les points d'entrée"
00031:   2: "Génération de seeds intelligents"
00032:   3: "Exécution avec instrumentation"
00033:   4: "Mutation basée sur la couverture"
00034:   5: "Tri des crashs et anomalies"
00035: 
00036: # Outils
00037: tools:
00038:   - name: "foundry_fuzzer"
00039:     type: "forge_fuzz"
00040:     params:
00041:       runs: 10000
00042:       depth: 30
00043:     
00044:   - name: "echidna_runner"
00045:     type: "property_based_fuzzing"
00046:     
00047:   - name: "multi_chain_simulator"
00048:     type: "anvil_fork_manager"
00049:     params:
00050:       chains: ["mainnet", "arbitrum", "optimism"]
00051:     
00052:   - name: "coverage_analyzer"
00053:     type: "branch_coverage"
00054:     
00055:   - name: "scenario_generator"
00056:     type: "edge_case_generator"
00057: 
00058: # Outputs
00059: outputs:
00060:   fuzzing_reports: "fuzz_reports/"
00061:   discovered_bugs: "bugs/fuzzing/"
00062:   coverage_data: "coverage/fuzzing.json"
00063:   test_cases: "test_cases/generated/"

============================================================
FICHIER: agents\architure\.mermaid\Architecture Mise à Jour avec Phases de Déploiement.mermaid
TAILLE: 1.55 KB
============================================================

00001: graph TB
00002:     subgraph "Phase 0: Prérequis"
00003:         P0A[Installation<br/>Ollama]
00004:         P0B[Installation<br/>Node.js/Python]
00005:         P0C[Configuration<br/>Blockchain Tools]
00006:         P0D[Clonage<br/>Repository]
00007:     end
00008:     
00009:     subgraph "Phase 1: Setup Local"
00010:         P1A[Initialisation<br/>Projet]
00011:         P1B[Déploiement<br/>Agents IA]
00012:         P1C[Configuration<br/>Mémoire]
00013:         P1D[Tests<br/>Système]
00014:     end
00015:     
00016:     subgraph "Phase 2: Pipeline Dev"
00017:         P2A[Spécifications<br/>Formelles]
00018:         P2B[Génération<br/>Smart Contracts]
00019:         P2C[Vérification<br/>& Fuzzing]
00020:         P2D[Génération<br/>Frontend]
00021:     end
00022:     
00023:     subgraph "Phase 3: Déploiement"
00024:         P3A[Build<br/>& Optimisation]
00025:         P3B[Tests<br/>Multi-Chaîne]
00026:         P3C[Déploiement<br/>Smart Contracts]
00027:         P3D[Déploiement<br/>Frontend]
00028:     end
00029:     
00030:     subgraph "Phase 4: Monitoring"
00031:         P4A[Monitoring<br/>Sécurité]
00032:         P4B[Analytics<br/>Performance]
00033:         P4C[Alertes<br/>Automatiques]
00034:         P4D[Retro<br/>& Amélioration]
00035:     end
00036:     
00037:     P0A --> P0B --> P0C --> P0D
00038:     P0D --> P1A --> P1B --> P1C --> P1D
00039:     P1D --> P2A --> P2B --> P2C --> P2D
00040:     P2D --> P3A --> P3B --> P3C --> P3D
00041:     P3D --> P4A --> P4B --> P4C --> P4D
00042:     
00043:     classDef prerequis fill:#f3e5f5
00044:     classDef setup fill:#e8f5e8
00045:     classDef dev fill:#fff3e0
00046:     classDef deploy fill:#fce4ec
00047:     classDef monitor fill:#e3f2fd
00048:     
00049:     class P0A,P0B,P0C,P0D prerequis
00050:     class P1A,P1B,P1C,P1D setup
00051:     class P2A,P2B,P2C,P2D dev
00052:     class P3A,P3B,P3C,P3D deploy
00053:     class P4A,P4B,P4C,P4D monitor

============================================================
FICHIER: SmartContractPipeline\agents\formal_verification\config.yaml
TAILLE: 1.51 KB
============================================================

00001: # agents/formal_verification/config.yaml
00002: agent_id: "formal_verifier_001"
00003: specialization: "Formal Methods & Mathematical Proofs"
00004: model: "ollama:codellama:13b"  # Bon pour le raisonnement
00005: temperature: 0.05  # Extrêmement déterministe
00006: 
00007: # Contexte
00008: context:
00009:   verification_methods:
00010:     - "Model Checking"
00011:     - "Theorem Proving"
00012:     - "Symbolic Execution"
00013:   tools:
00014:     theorem_provers: ["Coq", "Isabelle", "Lean"]
00015:     model_checkers: ["Halmos", "KEVM"]
00016:     symbolic_execution: ["Manticore", "Mythril"]
00017: 
00018: # Objectifs spécifiques
00019: verification_goals:
00020:   safety_properties:
00021:     - "No reentrancy"
00022:     - "No unauthorized access"
00023:     - "No fund loss"
00024:   liveness_properties:
00025:     - "All functions terminate"
00026:     - "No deadlocks"
00027:   functional_correctness:
00028:     - "Matches specification"
00029:     - "Invariants preserved"
00030: 
00031: # Processus de vérification
00032: process:
00033:   1: "Extraire les invariants du code"
00034:   2: "Formaliser les spécifications"
00035:   3: "Générer les preuves"
00036:   4: "Vérifier avec multiple provers"
00037:   5: "Produire un certificat de vérification"
00038: 
00039: # Outils
00040: tools:
00041:   - name: "spec_extractor"
00042:     type: "specification_mining"
00043:     
00044:   - name: "invariant_generator"
00045:     type: "auto_invariant"
00046:     
00047:   - name: "proof_generator"
00048:     type: "coq_generator | lean_generator"
00049:     
00050:   - name: "cross_checker"
00051:     type: "multi_prover_verification"
00052: 
00053: # Outputs
00054: outputs:
00055:   formal_specs: "specs/formal/"
00056:   proofs: "proofs/verified/"
00057:   certificates: "certs/verification/"
00058:   counterexamples: "counterexamples/"  # Si échec

============================================================
FICHIER: SmartContractPipeline\agents\architure\.mermaid\V1\Architecture Complète des 20 agents et sous-agents.mermaid
TAILLE: 1.46 KB
============================================================

00001: graph TB
00002:     subgraph "Conception & Planification"
00003:         A1[Agent Architecte]
00004:         A2[Agent Spécifications]
00005:         A3[Agent Estimation]
00006:     end
00007:     
00008:     subgraph "Développement"
00009:         B1[Agent Codeur Principal]
00010:         B2[Agent Assistant de Code]
00011:         B3[Agent Refactoring]
00012:         B4[Agent Documentation]
00013:         B5[Agent POC/R&D]
00014:     end
00015:     
00016:     subgraph "Test & Qualité"
00017:         C1[Agent Générateur de Tests]
00018:         C2[Agent Exécuteur de Tests]
00019:         C3[Agent Assurance Qualité]
00020:         C4[Agent Sécurité]
00021:         C5[Agent Performance]
00022:     end
00023:     
00024:     subgraph "Intégration & Déploiement"
00025:         D1[Agent CI/CD]
00026:         D2[Agent DevSecOps]
00027:         D3[Agent Déploiement]
00028:         D4[Agent Configuration]
00029:     end
00030:     
00031:     subgraph "Maintenance & Opérations"
00032:         E1[Agent Monitoring]
00033:         E2[Agent Debug]
00034:         E3[Agent Support]
00035:         E4[Agent Mise à Jour]
00036:     end
00037:     
00038:     A1 --> B1
00039:     A2 --> B1
00040:     A3 --> B1
00041:     
00042:     B1 --> C1
00043:     B1 --> C2
00044:     B1 --> C3
00045:     
00046:     C3 --> D1
00047:     C4 --> D2
00048:     C5 --> D3
00049:     
00050:     D1 --> E1
00051:     D3 --> E1
00052:     E1 --> E2
00053:     E2 --> E3
00054:     E3 --> E4
00055:     
00056:     classDef design fill:#e3f2fd
00057:     classDef dev fill:#f3e5f5
00058:     classDef test fill:#e8f5e8
00059:     classDef deploy fill:#fff3e0
00060:     classDef ops fill:#fce4ec
00061:     
00062:     class A1,A2,A3 design
00063:     class B1,B2,B3,B4,B5 dev
00064:     class C1,C2,C3,C4,C5 test
00065:     class D1,D2,D3,D4 deploy
00066:     class E1,E2,E3,E4 ops

============================================================
FICHIER: agents\formal_verification\config.yaml
TAILLE: 1.45 KB
============================================================

00001: # agents/formal_verification/config.yaml
00002: agent_id: "formal_verifier_001"
00003: specialization: "Formal Methods & Mathematical Proofs"
00004: model: "ollama:codellama:13b"  # Bon pour le raisonnement
00005: temperature: 0.05  # Extrêmement déterministe
00006: 
00007: # Contexte
00008: context:
00009:   verification_methods:
00010:     - "Model Checking"
00011:     - "Theorem Proving"
00012:     - "Symbolic Execution"
00013:   tools:
00014:     theorem_provers: ["Coq", "Isabelle", "Lean"]
00015:     model_checkers: ["Halmos", "KEVM"]
00016:     symbolic_execution: ["Manticore", "Mythril"]
00017: 
00018: # Objectifs spécifiques
00019: verification_goals:
00020:   safety_properties:
00021:     - "No reentrancy"
00022:     - "No unauthorized access"
00023:     - "No fund loss"
00024:   liveness_properties:
00025:     - "All functions terminate"
00026:     - "No deadlocks"
00027:   functional_correctness:
00028:     - "Matches specification"
00029:     - "Invariants preserved"
00030: 
00031: # Processus de vérification
00032: process:
00033:   1: "Extraire les invariants du code"
00034:   2: "Formaliser les spécifications"
00035:   3: "Générer les preuves"
00036:   4: "Vérifier avec multiple provers"
00037:   5: "Produire un certificat de vérification"
00038: 
00039: # Outils
00040: tools:
00041:   - name: "spec_extractor"
00042:     type: "specification_mining"
00043:     
00044:   - name: "invariant_generator"
00045:     type: "auto_invariant"
00046:     
00047:   - name: "proof_generator"
00048:     type: "coq_generator | lean_generator"
00049:     
00050:   - name: "cross_checker"
00051:     type: "multi_prover_verification"
00052: 
00053: # Outputs
00054: outputs:
00055:   formal_specs: "specs/formal/"
00056:   proofs: "proofs/verified/"
00057:   certificates: "certs/verification/"
00058:   counterexamples: "counterexamples/"  # Si échec

============================================================
FICHIER: SmartContractPipeline\monitoring\Dashboard_config.yaml
TAILLE: 1.44 KB
============================================================

00001: # monitoring/dashboard_config.yaml
00002: dashboard:
00003:   name: "Smart Contract Safety Dashboard"
00004:   refresh_interval: 30  # secondes
00005:   
00006:   widgets:
00007:     - type: "formal_verification_status"
00008:       title: "Preuves Formelles"
00009:       metrics:
00010:         - "proofs_completed"
00011:         - "proofs_pending"
00012:         - "verification_score"
00013:     
00014:     - type: "fuzzing_coverage"
00015:       title: "Couverture Fuzzing"
00016:       metrics:
00017:         - "branch_coverage"
00018:         - "state_coverage"
00019:         - "edge_cases_found"
00020:     
00021:     - type: "gas_optimization"
00022:       title: "Optimisation Gas"
00023:       metrics:
00024:         - "gas_saved_vs_baseline"
00025:         - "worst_case_gas"
00026:         - "average_gas"
00027:     
00028:     - type: "security_scan"
00029:       title: "Scans Sécurité"
00030:       metrics:
00031:         - "critical_vulnerabilities"
00032:         - "high_vulnerabilities"
00033:         - "slither_score"
00034:     
00035:     - type: "multi_chain_compatibility"
00036:       title: "Compatibilité Multi-Chaîne"
00037:       metrics:
00038:         - "ethereum_compatibility"
00039:         - "l2_compatibility"
00040:         - "testnet_deployments"
00041: 
00042:   alerts:
00043:     - trigger: "new_vulnerability_found"
00044:       severity: "critical"
00045:       action: "pause_pipeline"
00046:     
00047:     - trigger: "proof_failed"
00048:       severity: "high"
00049:       action: "auto_correct"
00050:     
00051:     - trigger: "gas_limit_exceeded"
00052:       severity: "medium"
00053:       action: "optimize_retry"
00054:     
00055:     - trigger: "test_coverage_below_95"
00056:       severity: "low"
00057:       action: "generate_more_tests"

============================================================
FICHIER: agents\architure\.mermaid\V1\Architecture Complète des 20 agents et sous-agents.mermaid
TAILLE: 1.39 KB
============================================================

00001: graph TB
00002:     subgraph "Conception & Planification"
00003:         A1[Agent Architecte]
00004:         A2[Agent Spécifications]
00005:         A3[Agent Estimation]
00006:     end
00007:     
00008:     subgraph "Développement"
00009:         B1[Agent Codeur Principal]
00010:         B2[Agent Assistant de Code]
00011:         B3[Agent Refactoring]
00012:         B4[Agent Documentation]
00013:         B5[Agent POC/R&D]
00014:     end
00015:     
00016:     subgraph "Test & Qualité"
00017:         C1[Agent Générateur de Tests]
00018:         C2[Agent Exécuteur de Tests]
00019:         C3[Agent Assurance Qualité]
00020:         C4[Agent Sécurité]
00021:         C5[Agent Performance]
00022:     end
00023:     
00024:     subgraph "Intégration & Déploiement"
00025:         D1[Agent CI/CD]
00026:         D2[Agent DevSecOps]
00027:         D3[Agent Déploiement]
00028:         D4[Agent Configuration]
00029:     end
00030:     
00031:     subgraph "Maintenance & Opérations"
00032:         E1[Agent Monitoring]
00033:         E2[Agent Debug]
00034:         E3[Agent Support]
00035:         E4[Agent Mise à Jour]
00036:     end
00037:     
00038:     A1 --> B1
00039:     A2 --> B1
00040:     A3 --> B1
00041:     
00042:     B1 --> C1
00043:     B1 --> C2
00044:     B1 --> C3
00045:     
00046:     C3 --> D1
00047:     C4 --> D2
00048:     C5 --> D3
00049:     
00050:     D1 --> E1
00051:     D3 --> E1
00052:     E1 --> E2
00053:     E2 --> E3
00054:     E3 --> E4
00055:     
00056:     classDef design fill:#e3f2fd
00057:     classDef dev fill:#f3e5f5
00058:     classDef test fill:#e8f5e8
00059:     classDef deploy fill:#fff3e0
00060:     classDef ops fill:#fce4ec
00061:     
00062:     class A1,A2,A3 design
00063:     class B1,B2,B3,B4,B5 dev
00064:     class C1,C2,C3,C4,C5 test
00065:     class D1,D2,D3,D4 deploy
00066:     class E1,E2,E3,E4 ops

============================================================
FICHIER: monitoring\Dashboard_config.yaml
TAILLE: 1.39 KB
============================================================

00001: # monitoring/dashboard_config.yaml
00002: dashboard:
00003:   name: "Smart Contract Safety Dashboard"
00004:   refresh_interval: 30  # secondes
00005:   
00006:   widgets:
00007:     - type: "formal_verification_status"
00008:       title: "Preuves Formelles"
00009:       metrics:
00010:         - "proofs_completed"
00011:         - "proofs_pending"
00012:         - "verification_score"
00013:     
00014:     - type: "fuzzing_coverage"
00015:       title: "Couverture Fuzzing"
00016:       metrics:
00017:         - "branch_coverage"
00018:         - "state_coverage"
00019:         - "edge_cases_found"
00020:     
00021:     - type: "gas_optimization"
00022:       title: "Optimisation Gas"
00023:       metrics:
00024:         - "gas_saved_vs_baseline"
00025:         - "worst_case_gas"
00026:         - "average_gas"
00027:     
00028:     - type: "security_scan"
00029:       title: "Scans Sécurité"
00030:       metrics:
00031:         - "critical_vulnerabilities"
00032:         - "high_vulnerabilities"
00033:         - "slither_score"
00034:     
00035:     - type: "multi_chain_compatibility"
00036:       title: "Compatibilité Multi-Chaîne"
00037:       metrics:
00038:         - "ethereum_compatibility"
00039:         - "l2_compatibility"
00040:         - "testnet_deployments"
00041: 
00042:   alerts:
00043:     - trigger: "new_vulnerability_found"
00044:       severity: "critical"
00045:       action: "pause_pipeline"
00046:     
00047:     - trigger: "proof_failed"
00048:       severity: "high"
00049:       action: "auto_correct"
00050:     
00051:     - trigger: "gas_limit_exceeded"
00052:       severity: "medium"
00053:       action: "optimize_retry"
00054:     
00055:     - trigger: "test_coverage_below_95"
00056:       severity: "low"
00057:       action: "generate_more_tests"

============================================================
FICHIER: SmartContractPipeline\PROJECT_SHARE.txt
TAILLE: 1.38 KB
============================================================

00001: ============================================================================== 
00002: STRUCTURED LENDING PROTOCOL - FULL PROJECT SHARE 
00003: ============================================================================== 
00004: GitHub: poolsyncdefi-ui/structured-lending-protocol-clean 
00005: Repo URL: https://github.com/poolsyncdefi-ui/SmartContractPipeline 
00006: Date: 19/01/2026 Time: 17:36:56,63 
00007:  
00008: [GIT INFORMATION] 
00009: ------------------------------------------------------------------------------ 
00010: Branch: main 
00011: Commit: 54f5ceb 
00012:  
00013: [CONTRACTS DIRECTORY - *.sol files] 
00014: ============================================================================== 
00015:  
00016: [SCRIPTS DIRECTORY - *.js, *.bat, *.sh, *.txt files] 
00017: ============================================================================== 
00018:  
00019: [TESTS DIRECTORY - *.js, *.txt files] 
00020: ============================================================================== 
00021:  
00022: [PROJECT FILE STRUCTURE] 
00023: ============================================================================== 
00024: Listing all project files... 
00025:  
00026: CONTRACTS: 
00027:  
00028: SCRIPTS: 
00029:  
00030: TESTS: 
00031:  
00032: CONFIG FILES: 
00033:  
00034:  
00035: [SUMMARY] 
00036: ============================================================================== 
00037: Total contract files: 0 
00038: Total script files: 0 
00039: Total test files: 0 
00040: Total code files: 0 
00041:  
00042: Generated: 19/01/2026 17:36:57,02 
00043: ============================================================================== 
00044: 

============================================================
FICHIER: SmartContractPipeline\agents\architure\.mermaid\Architecture Spécialisée.mermaid
TAILLE: 1.38 KB
============================================================

00001: graph TB
00002:     subgraph "Pipeline Principal"
00003:         P1[Phase 1: Conception<br/>Smart Contract]
00004:         P2[Phase 2: Développement<br/>& Test Formel]
00005:         P3[Phase 3: Frontend<br/>Integration]
00006:         P4[Phase 4: Simulation<br/>& Sécurité]
00007:         P5[Phase 5: Déploiement<br/>& Monitoring]
00008:         
00009:         P1 --> P2
00010:         P2 --> P3
00011:         P3 --> P4
00012:         P4 --> P5
00013:     end
00014:     
00015:     subgraph "Agents Smart Contracts"
00016:         ASC[Agent Smart Contract]
00017:         AFT[Agent Formal Test]
00018:         AGAS[Agent Gas Optimizer]
00019:         ASEC[Agent Sécurité SC]
00020:     end
00021:     
00022:     subgraph "Agents Frontend"
00023:         AFE[Agent Frontend]
00024:         AWEB3[Agent Web3 Integration]
00025:         ATEST[Agent Test Frontend]
00026:     end
00027:     
00028:     subgraph "Système Anti-Bugs"
00029:         SAB[Simulation Engine]
00030:         FZZ[Fuzzing System]
00031:         TRC[Trace Analyzer]
00032:         VER[Formal Verifier]
00033:     end
00034:     
00035:     P1 --> ASC
00036:     P1 --> AFT
00037:     
00038:     ASC --> AGAS
00039:     ASC --> ASEC
00040:     
00041:     P2 --> FZZ
00042:     P2 --> VER
00043:     
00044:     P3 --> AFE
00045:     P3 --> AWEB3
00046:     
00047:     P4 --> SAB
00048:     P4 --> TRC
00049:     
00050:     P5 --> ATEST
00051:     
00052:     classDef phase fill:#e3f2fd
00053:     classDef scAgent fill:#f3e5f5
00054:     classDef feAgent fill:#e8f5e8
00055:     classDef antiBug fill:#ffebee
00056:     
00057:     class P1,P2,P3,P4,P5 phase
00058:     class ASC,AFT,AGAS,ASEC scAgent
00059:     class AFE,AWEB3,ATEST feAgent
00060:     class SAB,FZZ,TRC,VER antiBug

============================================================
FICHIER: SmartContractPipeline\DIFF_REPORT.txt
TAILLE: 1.34 KB
============================================================

00001: ============================================================================== 
00002: STRUCTURED LENDING PROTOCOL - DIFF REPORT 
00003: ============================================================================== 
00004: Date: 19/01/2026 Time: 17:35:33,07 
00005:  
00006: [GIT STATUS] 
00007: ------------------------------------------------------------------------------ 
00008: On branch main
00009: Your branch is up to date with 'origin/main'.
00010: 
00011: Untracked files:
00012:   (use "git add <file>..." to include in what will be committed)
00013: 	DIFF_REPORT.txt
00014: 	PROJECT_SHARE.txt
00015: 
00016: nothing added to commit but untracked files present (use "git add" to track)
00017:  
00018: [CHANGED FILES DETAIL] 
00019: ============================================================================== 
00020: No changes detected in the working directory. 
00021:  
00022:  
00023: [GIT DIFF SUMMARY] 
00024: ============================================================================== 
00025:  
00026: [REPORT SUMMARY] 
00027: ============================================================================== 
00028: Total changed files: 0 
00029: Report generated: 19/01/2026 17:35:33,35 
00030:  
00031: INSTRUCTIONS FOR CODE REVIEW: 
00032: 1. Files are listed with full paths for precise location 
00033: 2. Line numbers are included for specific references 
00034: 3. Changes marked with + (additions) and - (deletions) 
00035: 4. New files show complete content 
00036: ============================================================================== 
00037: 

============================================================
FICHIER: agents\architure\.mermaid\Architecture Spécialisée.mermaid
TAILLE: 1.32 KB
============================================================

00001: graph TB
00002:     subgraph "Pipeline Principal"
00003:         P1[Phase 1: Conception<br/>Smart Contract]
00004:         P2[Phase 2: Développement<br/>& Test Formel]
00005:         P3[Phase 3: Frontend<br/>Integration]
00006:         P4[Phase 4: Simulation<br/>& Sécurité]
00007:         P5[Phase 5: Déploiement<br/>& Monitoring]
00008:         
00009:         P1 --> P2
00010:         P2 --> P3
00011:         P3 --> P4
00012:         P4 --> P5
00013:     end
00014:     
00015:     subgraph "Agents Smart Contracts"
00016:         ASC[Agent Smart Contract]
00017:         AFT[Agent Formal Test]
00018:         AGAS[Agent Gas Optimizer]
00019:         ASEC[Agent Sécurité SC]
00020:     end
00021:     
00022:     subgraph "Agents Frontend"
00023:         AFE[Agent Frontend]
00024:         AWEB3[Agent Web3 Integration]
00025:         ATEST[Agent Test Frontend]
00026:     end
00027:     
00028:     subgraph "Système Anti-Bugs"
00029:         SAB[Simulation Engine]
00030:         FZZ[Fuzzing System]
00031:         TRC[Trace Analyzer]
00032:         VER[Formal Verifier]
00033:     end
00034:     
00035:     P1 --> ASC
00036:     P1 --> AFT
00037:     
00038:     ASC --> AGAS
00039:     ASC --> ASEC
00040:     
00041:     P2 --> FZZ
00042:     P2 --> VER
00043:     
00044:     P3 --> AFE
00045:     P3 --> AWEB3
00046:     
00047:     P4 --> SAB
00048:     P4 --> TRC
00049:     
00050:     P5 --> ATEST
00051:     
00052:     classDef phase fill:#e3f2fd
00053:     classDef scAgent fill:#f3e5f5
00054:     classDef feAgent fill:#e8f5e8
00055:     classDef antiBug fill:#ffebee
00056:     
00057:     class P1,P2,P3,P4,P5 phase
00058:     class ASC,AFT,AGAS,ASEC scAgent
00059:     class AFE,AWEB3,ATEST feAgent
00060:     class SAB,FZZ,TRC,VER antiBug

============================================================
FICHIER: SmartContractPipeline\agents\architure\.mermaid\Séquence d'une Tâche Complète.mermaid
TAILLE: 1.13 KB
============================================================

00001: sequenceDiagram
00002:     participant U as Utilisateur
00003:     participant O as Orchestrateur
00004:     participant AR as Agent Architecte
00005:     participant AP as Agent Planificateur
00006:     participant AC as Agent Codeur
00007:     participant AT as Agent Testeur
00008:     participant AD as Agent Documenteur
00009:     participant AQ as Agent Qualité
00010:     
00011:     U->>O: Nouvelle fonctionnalité
00012:     O->>AR: Demande conception
00013:     AR->>AR: Analyse besoins
00014:     AR->>O: Retourne architecture
00015:     
00016:     O->>AP: Planification tâches
00017:     AP->>AP: Découpe en tickets
00018:     AP->>O: Tickets priorisés
00019:     
00020:     loop Pour chaque ticket
00021:         O->>AC: Ticket à implémenter
00022:         AC->>AC: Développement
00023:         AC->>AT: Code à tester
00024:         AT->>AT: Exécution tests
00025:         alt Tests OK
00026:             AT->>AD: Demande documentation
00027:             AD->>AD: Génération docs
00028:             AD->>AQ: Validation qualité
00029:             AQ->>AQ: Revue complète
00030:             AQ->>O: Ticket complet
00031:         else Tests échoués
00032:             AT->>AC: Bug report
00033:             AC->>AC: Correction
00034:             AC->>AT: Retest
00035:         end
00036:     end
00037:     
00038:     O->>U: Rapport sprint complet

============================================================
FICHIER: agents\architure\.mermaid\Séquence d'une Tâche Complète.mermaid
TAILLE: 1.09 KB
============================================================

00001: sequenceDiagram
00002:     participant U as Utilisateur
00003:     participant O as Orchestrateur
00004:     participant AR as Agent Architecte
00005:     participant AP as Agent Planificateur
00006:     participant AC as Agent Codeur
00007:     participant AT as Agent Testeur
00008:     participant AD as Agent Documenteur
00009:     participant AQ as Agent Qualité
00010:     
00011:     U->>O: Nouvelle fonctionnalité
00012:     O->>AR: Demande conception
00013:     AR->>AR: Analyse besoins
00014:     AR->>O: Retourne architecture
00015:     
00016:     O->>AP: Planification tâches
00017:     AP->>AP: Découpe en tickets
00018:     AP->>O: Tickets priorisés
00019:     
00020:     loop Pour chaque ticket
00021:         O->>AC: Ticket à implémenter
00022:         AC->>AC: Développement
00023:         AC->>AT: Code à tester
00024:         AT->>AT: Exécution tests
00025:         alt Tests OK
00026:             AT->>AD: Demande documentation
00027:             AD->>AD: Génération docs
00028:             AD->>AQ: Validation qualité
00029:             AQ->>AQ: Revue complète
00030:             AQ->>O: Ticket complet
00031:         else Tests échoués
00032:             AT->>AC: Bug report
00033:             AC->>AC: Correction
00034:             AC->>AT: Retest
00035:         end
00036:     end
00037:     
00038:     O->>U: Rapport sprint complet

============================================================
FICHIER: SmartContractPipeline\agents\architure\.mermaid\V0\Agent Documenteur (AD).mermaid
TAILLE: 1.04 KB
============================================================

00001: graph TB
00002:     subgraph "Inputs"
00003:         CODE[Source Code]
00004:         API[API Endpoints]
00005:         ARCH[Architecture<br/>Docs]
00006:         DECIS[Design<br/>Decisions]
00007:     end
00008:     
00009:     subgraph "Agent Documenteur"
00010:         ADOC[Analyse<br/>Documentation Needs]
00011:         GEN[Generate<br/>Content]
00012:         VAL[Validate<br/>Completeness]
00013:         UPD[Update<br/>Existing]
00014:     end
00015:     
00016:     subgraph "Document Types"
00017:         API_DOC[API<br/>Documentation]
00018:         USER_G[User<br/>Guide]
00019:         DEV_G[Developer<br/>Guide]
00020:         DEPLOY_G[Deployment<br/>Guide]
00021:     end
00022:     
00023:     subgraph "Outputs"
00024:         DOCS[Complete<br/>Documentation]
00025:         DIAGS[Updated<br/>Diagrams]
00026:         CHANGELOG[Changelog]
00027:         README[README<br/>Files]
00028:     end
00029:     
00030:     CODE --> ADOC
00031:     API --> ADOC
00032:     ARCH --> ADOC
00033:     DECIS --> ADOC
00034:     
00035:     ADOC --> GEN
00036:     GEN --> VAL
00037:     VAL --> UPD
00038:     
00039:     GEN --> API_DOC
00040:     GEN --> USER_G
00041:     GEN --> DEV_G
00042:     GEN --> DEPLOY_G
00043:     
00044:     UPD --> DOCS
00045:     UPD --> DIAGS
00046:     UPD --> CHANGELOG
00047:     UPD --> README

============================================================
FICHIER: SmartContractPipeline\agents\architure\.mermaid\V0\Agent Codeur (AC).mermaid
TAILLE: 1.01 KB
============================================================

00001: graph TB
00002:     subgraph "Inputs"
00003:         TICKET[Task Ticket<br/>JIRA-like]
00004:         ARCH[Architecture<br/>Specs]
00005:         CODEBASE[Existing<br/>Codebase]
00006:         TESTS[Test<br/>Requirements]
00007:     end
00008:     
00009:     subgraph "Agent Codeur Workflow"
00010:         UA[Understand<br/>Task]
00011:         DP[Design<br/>Solution]
00012:         IMP[Implement<br/>Code]
00013:         UT[Unit<br/>Tests]
00014:         REF[Refactor]
00015:     end
00016:     
00017:     subgraph "Quality Gates"
00018:         LINT[Linting]
00019:         FORMAT[Formatting]
00020:         STYLE[Style Check]
00021:     end
00022:     
00023:     subgraph "Outputs"
00024:         CODE[Production<br/>Code]
00025:         UTEST[Unit Tests]
00026:         DOCS[Inline<br/>Documentation]
00027:         MR[Merge<br/>Request]
00028:     end
00029:     
00030:     TICKET --> UA
00031:     ARCH --> UA
00032:     CODEBASE --> UA
00033:     TESTS --> UA
00034:     
00035:     UA --> DP
00036:     DP --> IMP
00037:     IMP --> UT
00038:     UT --> REF
00039:     
00040:     REF --> LINT
00041:     REF --> FORMAT
00042:     REF --> STYLE
00043:     
00044:     LINT --> CODE
00045:     FORMAT --> UTEST
00046:     STYLE --> DOCS
00047:     
00048:     CODE --> MR
00049:     UTEST --> MR
00050:     DOCS --> MR

============================================================
FICHIER: agents\architure\.mermaid\V0\Agent Documenteur (AD).mermaid
TAILLE: 0.99 KB
============================================================

00001: graph TB
00002:     subgraph "Inputs"
00003:         CODE[Source Code]
00004:         API[API Endpoints]
00005:         ARCH[Architecture<br/>Docs]
00006:         DECIS[Design<br/>Decisions]
00007:     end
00008:     
00009:     subgraph "Agent Documenteur"
00010:         ADOC[Analyse<br/>Documentation Needs]
00011:         GEN[Generate<br/>Content]
00012:         VAL[Validate<br/>Completeness]
00013:         UPD[Update<br/>Existing]
00014:     end
00015:     
00016:     subgraph "Document Types"
00017:         API_DOC[API<br/>Documentation]
00018:         USER_G[User<br/>Guide]
00019:         DEV_G[Developer<br/>Guide]
00020:         DEPLOY_G[Deployment<br/>Guide]
00021:     end
00022:     
00023:     subgraph "Outputs"
00024:         DOCS[Complete<br/>Documentation]
00025:         DIAGS[Updated<br/>Diagrams]
00026:         CHANGELOG[Changelog]
00027:         README[README<br/>Files]
00028:     end
00029:     
00030:     CODE --> ADOC
00031:     API --> ADOC
00032:     ARCH --> ADOC
00033:     DECIS --> ADOC
00034:     
00035:     ADOC --> GEN
00036:     GEN --> VAL
00037:     VAL --> UPD
00038:     
00039:     GEN --> API_DOC
00040:     GEN --> USER_G
00041:     GEN --> DEV_G
00042:     GEN --> DEPLOY_G
00043:     
00044:     UPD --> DOCS
00045:     UPD --> DIAGS
00046:     UPD --> CHANGELOG
00047:     UPD --> README

============================================================
FICHIER: SmartContractPipeline\agents\architure\.mermaid\V0\Agent Testeur (AT).mermaid
TAILLE: 0.98 KB
============================================================

00001: graph LR
00002:     subgraph "Inputs"
00003:         CODE[Code à<br/>tester]
00004:         SPECS[Test<br/>Specifications]
00005:         HIST[Test History<br/>& Bugs]
00006:     end
00007:     
00008:     subgraph "Agent Testeur"
00009:         TPG[Test Plan<br/>Generation]
00010:         TCG[Test Case<br/>Generation]
00011:         TEX[Test<br/>Execution]
00012:         TREP[Test<br/>Reporting]
00013:     end
00014:     
00015:     subgraph "Test Types"
00016:         UT[Unit Tests]
00017:         IT[Integration<br/>Tests]
00018:         E2E[E2E Tests]
00019:         PERF[Performance<br/>Tests]
00020:     end
00021:     
00022:     subgraph "Outputs"
00023:         TR[Test<br/>Results]
00024:         BUG[Bug<br/>Reports]
00025:         COV[Coverage<br/>Report]
00026:         REC[Test<br/>Recommendations]
00027:     end
00028:     
00029:     CODE --> TPG
00030:     SPECS --> TPG
00031:     HIST --> TPG
00032:     
00033:     TPG --> TCG
00034:     TCG --> TEX
00035:     
00036:     TEX --> UT
00037:     TEX --> IT
00038:     TEX --> E2E
00039:     TEX --> PERF
00040:     
00041:     UT --> TREP
00042:     IT --> TREP
00043:     E2E --> TREP
00044:     PERF --> TREP
00045:     
00046:     TREP --> TR
00047:     TREP --> BUG
00048:     TREP --> COV
00049:     TREP --> REC

============================================================
FICHIER: agents\architure\.mermaid\V0\Agent Codeur (AC).mermaid
TAILLE: 0.96 KB
============================================================

00001: graph TB
00002:     subgraph "Inputs"
00003:         TICKET[Task Ticket<br/>JIRA-like]
00004:         ARCH[Architecture<br/>Specs]
00005:         CODEBASE[Existing<br/>Codebase]
00006:         TESTS[Test<br/>Requirements]
00007:     end
00008:     
00009:     subgraph "Agent Codeur Workflow"
00010:         UA[Understand<br/>Task]
00011:         DP[Design<br/>Solution]
00012:         IMP[Implement<br/>Code]
00013:         UT[Unit<br/>Tests]
00014:         REF[Refactor]
00015:     end
00016:     
00017:     subgraph "Quality Gates"
00018:         LINT[Linting]
00019:         FORMAT[Formatting]
00020:         STYLE[Style Check]
00021:     end
00022:     
00023:     subgraph "Outputs"
00024:         CODE[Production<br/>Code]
00025:         UTEST[Unit Tests]
00026:         DOCS[Inline<br/>Documentation]
00027:         MR[Merge<br/>Request]
00028:     end
00029:     
00030:     TICKET --> UA
00031:     ARCH --> UA
00032:     CODEBASE --> UA
00033:     TESTS --> UA
00034:     
00035:     UA --> DP
00036:     DP --> IMP
00037:     IMP --> UT
00038:     UT --> REF
00039:     
00040:     REF --> LINT
00041:     REF --> FORMAT
00042:     REF --> STYLE
00043:     
00044:     LINT --> CODE
00045:     FORMAT --> UTEST
00046:     STYLE --> DOCS
00047:     
00048:     CODE --> MR
00049:     UTEST --> MR
00050:     DOCS --> MR

============================================================
FICHIER: SmartContractPipeline\stop-all.ps1
TAILLE: 0.96 KB
============================================================

00001: # stop-all.ps1
00002: Write-Host "=== ARRET DU SYSTEME ===" -ForegroundColor Cyan
00003: 
00004: # Arrêter tous les processus
00005: $processes = @("anvil", "node", "ollama", "python")
00006: 
00007: foreach ($process in $processes) {
00008:     Write-Host "Arrêt de $process..." -ForegroundColor Yellow
00009:     Get-Process -Name $process -ErrorAction SilentlyContinue | Stop-Process -Force
00010: }
00011: 
00012: # Sauvegarder l'état
00013: $timestamp = Get-Date -Format "yyyyMMdd_HHmmss"
00014: $backupDir = "$env:USERPROFILE\Projects\SmartContractPipeline\backups\$timestamp"
00015: 
00016: New-Item -ItemType Directory -Force -Path $backupDir | Out-Null
00017: 
00018: Copy-Item -Path "$env:USERPROFILE\Projects\SmartContractPipeline\reports\*" -Destination "$backupDir\" -Recurse -Force
00019: Copy-Item -Path "$env:USERPROFILE\Projects\SmartContractPipeline\workspace\contracts\out\*" -Destination "$backupDir\" -Recurse -Force
00020: 
00021: Write-Host "`n✅ Systeme arrete proprement" -ForegroundColor Green
00022: Write-Host "📁 Backup sauvegarde dans: $backupDir" -ForegroundColor Cyan

============================================================
FICHIER: stop-all.ps1
TAILLE: 0.94 KB
============================================================

00001: # stop-all.ps1
00002: Write-Host "=== ARRET DU SYSTEME ===" -ForegroundColor Cyan
00003: 
00004: # Arrêter tous les processus
00005: $processes = @("anvil", "node", "ollama", "python")
00006: 
00007: foreach ($process in $processes) {
00008:     Write-Host "Arrêt de $process..." -ForegroundColor Yellow
00009:     Get-Process -Name $process -ErrorAction SilentlyContinue | Stop-Process -Force
00010: }
00011: 
00012: # Sauvegarder l'état
00013: $timestamp = Get-Date -Format "yyyyMMdd_HHmmss"
00014: $backupDir = "$env:USERPROFILE\Projects\SmartContractPipeline\backups\$timestamp"
00015: 
00016: New-Item -ItemType Directory -Force -Path $backupDir | Out-Null
00017: 
00018: Copy-Item -Path "$env:USERPROFILE\Projects\SmartContractPipeline\reports\*" -Destination "$backupDir\" -Recurse -Force
00019: Copy-Item -Path "$env:USERPROFILE\Projects\SmartContractPipeline\workspace\contracts\out\*" -Destination "$backupDir\" -Recurse -Force
00020: 
00021: Write-Host "`n✅ Systeme arrete proprement" -ForegroundColor Green
00022: Write-Host "📁 Backup sauvegarde dans: $backupDir" -ForegroundColor Cyan

============================================================
FICHIER: agents\architure\.mermaid\V0\Agent Testeur (AT).mermaid
TAILLE: 0.93 KB
============================================================

00001: graph LR
00002:     subgraph "Inputs"
00003:         CODE[Code à<br/>tester]
00004:         SPECS[Test<br/>Specifications]
00005:         HIST[Test History<br/>& Bugs]
00006:     end
00007:     
00008:     subgraph "Agent Testeur"
00009:         TPG[Test Plan<br/>Generation]
00010:         TCG[Test Case<br/>Generation]
00011:         TEX[Test<br/>Execution]
00012:         TREP[Test<br/>Reporting]
00013:     end
00014:     
00015:     subgraph "Test Types"
00016:         UT[Unit Tests]
00017:         IT[Integration<br/>Tests]
00018:         E2E[E2E Tests]
00019:         PERF[Performance<br/>Tests]
00020:     end
00021:     
00022:     subgraph "Outputs"
00023:         TR[Test<br/>Results]
00024:         BUG[Bug<br/>Reports]
00025:         COV[Coverage<br/>Report]
00026:         REC[Test<br/>Recommendations]
00027:     end
00028:     
00029:     CODE --> TPG
00030:     SPECS --> TPG
00031:     HIST --> TPG
00032:     
00033:     TPG --> TCG
00034:     TCG --> TEX
00035:     
00036:     TEX --> UT
00037:     TEX --> IT
00038:     TEX --> E2E
00039:     TEX --> PERF
00040:     
00041:     UT --> TREP
00042:     IT --> TREP
00043:     E2E --> TREP
00044:     PERF --> TREP
00045:     
00046:     TREP --> TR
00047:     TREP --> BUG
00048:     TREP --> COV
00049:     TREP --> REC

============================================================
FICHIER: SmartContractPipeline\agents\architure\.mermaid\Flux de Prévention.mermaid
TAILLE: 0.83 KB
============================================================

00001: graph LR
00002:     subgraph "Étape 1: Prévention"
00003:         S1[Spécifications<br/>Formelles]
00004:         S2[Génération<br/>de Contrats]
00005:         S3[Vérification<br/>Statique]
00006:     end
00007:     
00008:     subgraph "Étape 2: Test Avancé"
00009:         T1[Fuzzing<br/>Automatique]
00010:         T2[Simulation<br/>Multi-Chaîne]
00011:         T3[Analyse<br/>de Traces]
00012:     end
00013:     
00014:     subgraph "Étape 3: Validation"
00015:         V1[Formal<br/>Verification]
00016:         V2[Test d'Invariance]
00017:         V3[Vérification<br/>Sécurité]
00018:     end
00019:     
00020:     S1 --> S2
00021:     S2 --> S3
00022:     S3 --> T1
00023:     T1 --> T2
00024:     T2 --> T3
00025:     T3 --> V1
00026:     V1 --> V2
00027:     V2 --> V3
00028:     
00029:     classDef prevention fill:#e8f5e8
00030:     classDef testing fill:#fff3e0
00031:     classDef validation fill:#fce4ec
00032:     
00033:     class S1,S2,S3 prevention
00034:     class T1,T2,T3 testing
00035:     class V1,V2,V3 validation

============================================================
FICHIER: agents\architure\.mermaid\Flux de Prévention.mermaid
TAILLE: 0.8 KB
============================================================

00001: graph LR
00002:     subgraph "Étape 1: Prévention"
00003:         S1[Spécifications<br/>Formelles]
00004:         S2[Génération<br/>de Contrats]
00005:         S3[Vérification<br/>Statique]
00006:     end
00007:     
00008:     subgraph "Étape 2: Test Avancé"
00009:         T1[Fuzzing<br/>Automatique]
00010:         T2[Simulation<br/>Multi-Chaîne]
00011:         T3[Analyse<br/>de Traces]
00012:     end
00013:     
00014:     subgraph "Étape 3: Validation"
00015:         V1[Formal<br/>Verification]
00016:         V2[Test d'Invariance]
00017:         V3[Vérification<br/>Sécurité]
00018:     end
00019:     
00020:     S1 --> S2
00021:     S2 --> S3
00022:     S3 --> T1
00023:     T1 --> T2
00024:     T2 --> T3
00025:     T3 --> V1
00026:     V1 --> V2
00027:     V2 --> V3
00028:     
00029:     classDef prevention fill:#e8f5e8
00030:     classDef testing fill:#fff3e0
00031:     classDef validation fill:#fce4ec
00032:     
00033:     class S1,S2,S3 prevention
00034:     class T1,T2,T3 testing
00035:     class V1,V2,V3 validation

============================================================
FICHIER: SmartContractPipeline\agents\architure\.mermaid\V0\Agent Architecte (AR).mermaid
TAILLE: 0.59 KB
============================================================

00001: graph LR
00002:     subgraph "Inputs"
00003:         REQ[Requirements<br/>Business]
00004:         TECH[TECH Constraints<br/>Techniques]
00005:         EXIST[Existing<br/>Systems]
00006:     end
00007:     
00008:     subgraph "Agent Architecte"
00009:         AA[Analyse]
00010:         DS[Décision<br/>Architecture]
00011:         DOC[Documentation]
00012:     end
00013:     
00014:     subgraph "Outputs"
00015:         ARD[Architecture<br/>Document]
00016:         DSD[Design<br/>Decisions]
00017:         TST[Tech Stack<br/>Proposal]
00018:     end
00019:     
00020:     REQ --> AA
00021:     TECH --> AA
00022:     EXIST --> AA
00023:     
00024:     AA --> DS
00025:     DS --> DOC
00026:     
00027:     DOC --> ARD
00028:     DOC --> DSD
00029:     DOC --> TST

============================================================
FICHIER: agents\architure\.mermaid\V0\Agent Architecte (AR).mermaid
TAILLE: 0.56 KB
============================================================

00001: graph LR
00002:     subgraph "Inputs"
00003:         REQ[Requirements<br/>Business]
00004:         TECH[TECH Constraints<br/>Techniques]
00005:         EXIST[Existing<br/>Systems]
00006:     end
00007:     
00008:     subgraph "Agent Architecte"
00009:         AA[Analyse]
00010:         DS[Décision<br/>Architecture]
00011:         DOC[Documentation]
00012:     end
00013:     
00014:     subgraph "Outputs"
00015:         ARD[Architecture<br/>Document]
00016:         DSD[Design<br/>Decisions]
00017:         TST[Tech Stack<br/>Proposal]
00018:     end
00019:     
00020:     REQ --> AA
00021:     TECH --> AA
00022:     EXIST --> AA
00023:     
00024:     AA --> DS
00025:     DS --> DOC
00026:     
00027:     DOC --> ARD
00028:     DOC --> DSD
00029:     DOC --> TST

============================================================
FICHIER: SmartContractPipeline\README.md
TAILLE: 0.45 KB
============================================================

00001: # 🚀 Smart Contract Pipeline avec Agents IA
00002: 
00003: Pipeline automatisé de développement Smart Contract utilisant des agents IA spécialisés.
00004: 
00005: ## 📋 Prérequis
00006: 
00007: - Windows 10/11
00008: - PowerShell 5.0+
00009: - Accès administrateur pour l'installation
00010: 
00011: ## 🛠️ Installation Rapide
00012: 
00013: ### Option 1: Script Unique
00014: ```powershell
00015: # Exécutez en tant qu'Administrateur
00016: Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
00017: .\quick-start.ps1# SmartContractPipeline
00018: 

============================================================
FICHIER: project_config.json
TAILLE: 0.36 KB
============================================================

00001: {
00002:   "GITHUB_REPO_PRIVATE": false,
00003:   "PROJECT_NAME": "SmartContractDevPipeline",
00004:   "GITHUB_REPO_NAME": "SmartContractDevPipeline",
00005:   "GITHUB_REPO_DESCRIPTION": "Pipeline de développement Smart Contracts",
00006:   "GITHUB_USERNAME": "poolsyncdefi-ui",
00007:   "GITHUB_TOKEN": "*** REMOVED FOR SECURITY ***",
00008:   "PROJECT_PATH": "D:\\Web3Projects\\SmartContractDevPipeline"
00009: }
00010: 

============================================================
FICHIER: project_config_template.json
TAILLE: 0.27 KB
============================================================

00001: {
00002:   "GITHUB_REPO_PRIVATE": false,
00003:   "PROJECT_NAME": "SmartContractDevPipeline",
00004:   "GITHUB_REPO_NAME": "SmartContractDevPipeline",
00005:   "GITHUB_REPO_DESCRIPTION": "Pipeline de développement de Smart Contracts",
00006:   "GITHUB_USERNAME": "poolsyncdefi-ui",
00007:   "PROJECT_PATH": "."
00008: }
00009: 

============================================================
FICHIER: README.md
TAILLE: 0.03 KB
============================================================

00001: # SmartContractDevPipeline
00002: 


