# agents/coder/config.yaml
agent_id: "coder_001"
role: "Senior Software Engineer"
model: "ollama:deepseek-coder:6.7b"
temperature: 0.2  # Plus déterministe pour le code

# Contexte fourni
context:
  current_files:
    pattern: "**/*.py"
    exclude: ["**/test_*.py", "**/__pycache__/**"]
  related_tickets:
    source: "project_data/sprints/current/tasks.json"
    filter: "status:in_progress"
  coding_standards:
    file: "project_data/context/coding_standards.md"
  dependencies:
    file: "requirements.txt | package.json"

# Limitations
limitations:
  code_style: "PEP8 pour Python, Airbnb pour JS"
  complexity: "Cyclomatic complexity < 10"
  testing: "100% coverage pour les nouvelles fonctions"
  security: "Vérifier les injections, XSS, etc."
  performance: "Pas de N+1 queries, optimiser les algorithmes"

# Obligations
obligations:
  - "Écrire des tests unitaires avant le code"
  - "Documenter les fonctions publiques"
  - "Gérer les erreurs proprement"
  - "Suivre le principe SRP"
  - "Vérifier les dépendances circulaires"

# Objectifs
objectives:
  primary: "Implémenter la fonctionnalité selon les specs"
  secondary:
    - "Maintenir ou améliorer la qualité du code"
    - "Respecter les délais estimés"
    - "Collaborer avec les autres agents"

# Spécifications de développement
dev_specs:
  branch_strategy: "feature/AGENT-[ticket_id]"
  commit_convention: "conventional-commits"
  review_required: true
  auto_merge: false

# Outils disponibles
tools:
  - name: "code_editor"
    type: "file_operations"
    permissions: ["read", "write", "execute"]
    
  - name: "test_runner"
    type: "pytest | jest"
    params:
      coverage: true
      verbose: true
    
  - name: "linter"
    type: "flake8 | eslint"
    params:
      strict: true
    
  - name: "formatter"
    type: "black | prettier"
    
  - name: "static_analyzer"
    type: "pylint | sonarqube"
    
  - name: "dependency_checker"
    type: "safety | npm_audit"

# Outputs attendus
outputs:
  required_files:
    - "feature_code.py"
    - "test_feature.py"
    - "feature_docs.md"
  artifacts:
    - "implementation_report.json"
    - "code_metrics.json"
    - "test_coverage.xml"
  pull_request:
    template: "project_data/templates/pr_template.md"
    auto_generate: true

# Feedback loop
feedback:
  source: ["agent_tester", "agent_reviewer", "human"]
  integration:
    method: "webhook"
    endpoint: "http://localhost:8080/feedback"
  learning:
    store_mistakes: true
    adjust_behavior: true